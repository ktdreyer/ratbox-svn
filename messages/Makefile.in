MSGFMT = @MSGFMT@

default: all

SRCS = \
  custom.po

OBJS = ${SRCS:.po=.mo}
all: ${OBJS}
build: all

.SUFFIXES:
.SUFFIXES: .po .mo

.po.mo:
	${MSGFMT} $@ $<

.PHONY: install depend clean distclean

install: build
	@echo "Please do a make install from the top level directory"

depend:
clean:
distclean:

mrclean:
	rm *.mo

mrupdate:
	@for i in $(SRCS); do \
                echo -n "Updating $$i"; \
                xgettext -a -LC -o $$i.tmp$$$$ ../src/messages.tab; \
                xgettext --keyword=_ -j -LC -o $$i.tmp$$$$ ../include/*.h; \
                xgettext --keyword=_ -j -LC -o $$i.tmp$$$$ ../src/*.c; \
                xgettext --keyword=_ -j -LC -o $$i.tmp$$$$ ../modules/*.c; \
                msgmerge -E -i -o $$i $$i $$i.tmp$$$$; \
                rm $$i.tmp$$$$; \
        done
