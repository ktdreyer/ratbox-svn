- add example *::* and NOMATCH::* I: lines to example.conf
- add more stderr debugging (ircd -s)... one for every place we syslog()
- make wrapper function for res_init() to do spare_fd crap
- ircd -s doesn't work through a restart
- A flag for Admins
- let people view topics on -s channels with /topic
- re-implement first parm in m_lusers()
- UNdline
- lazy links
- a version of ircnet's iauth
- trie' channel name list
- one time oper passwords
- SSL support
- new conf format
- finish RFC'ing m_message.c

------------------------------------------------------------------------------

Adrian's TODO list

* make the reserved FD limit run-time tuneable, esp from comm_open()
  This involves making fd_table[] a dynamically growing/(don't bother with
  shrinking) list.. have the max fd list configurable in the conf file..

* Fix the anti-client flood code to not be so anal when people connect -
  I've counted all lines from a client as being a flood, so if a client
  connects and issues JOIN's to a whole bunch of channels the flood
  protection stops everything coming through at once .. (not that I mind.. :)

* PLEASE redo all dlink_list management with the stuff in src/tools.c

* In the server outbound connection code, make the sendto_realops()
  logging more sane. Ie, if there's an error, also log the errno string.

* look at timeout_resolver() and the actual work function, remove needing
  to track the time for the next dns timeout, see if we can make them
  simpler.
    -- Nah, don't worry about this one. leave the DNS resolver alone..

* look at the old Listener code in s_bsd.c before I chopped it. Notice
  the anti-flood code in there. Make sure the same load-checking stuff
  is in listener.c

* look at mo_die() - find the restart function, break out the shutdown code,
  and tidy shit up!

* get send_message(), replace comm_setselect() with send_queued_write(), see
  if the optimisation works

* search for FLAGS_DEADSOCKET and IsDead() tests, figure out how to get
  rid of them. Remember that you can't just call exit_client() from
  dead_link() as I *bet* that cptr going away would be *bad*. So, this
  basically means going through the code and checking return values of
  things. :-)

* remove aconf->ipnum, since we're doing a DNS lookup each time we
  connect. If people don't like this, they can (should!) be running
  a namecache locally!

db-->>ummm aconf->ipnum is used for IP based klines only, not for DNS

* What the _FUCK_ is IsLocal() and FLAGS_LOCAL and why the *smeg* is it
  not defined ?

* find what causes this

[cacheboy]  Link with irc.vchan[unknown@255.255.255.255] established: (TS )
            link

thats INADDR_NONE. Find, fix.

* Add the ircnet(?) split logic for nick collisions - on a nick collision,
  change to "%d-%s", random, nick

* Hrm. Since diane changed the user->channel code to use dlink_lists,
  she's made some things faster (deopping lists of people in a net.join,
  finding an op, etc) but some things slower (deleting from the channel,
  change_channel_membership(), etc.) What needs to happen is that for
  each channel a user is on, a flag needs to be set tracking which list
  they're on so we don't have to search the lists when we want to change
  their status. This could become a slow-CPU sticking point.

db-->> Actually, the old code was just as slow at doing that, since
    it was a link list of SLink's with a flag denoting whether client
    on channel was an op or not... With a channel of 100 clients and 
    thats 100 link SLink's

Done things:

* in read_packet(), there is a bit where a rejected client is being
  "fake" read. Make sure you read() all the data first, or we'll end up
  CPU-hogging the box. (check REJECT_HOLD)

* kill fdlist_add() and associated mask stuff. We'll revisit the fdset
  stuff through comm_setselect() magic later.

* Find what uses the res.c routines. Since there's no caching anymore,
  rip out the code that deals with cached replies.

* KILL THE ZIPLINKS CODE! DIE! Reimplement as an external process later.

* make sure we've fd_note()d on all the fd's as they change state
  eg a listen socket becoming a client or server, etc ...

* check out what the hell safe_write() is, why its in s_conf.c but being
  used in other places, and why its closing the fd for people. It should
  be moved out of there, and *not* close fds (forcing its users to instead!)
  (Its been deleted now.. thanks dianora)

* ok, this sucks. search for cptr->since, and esp in src/parse.c .
  All this flood protection has to come out and reappear in *one* place!
  (Adrian rewrote the line buffering code and client flood code..)


------------------------------------------------------------------------------
Little things to be done given enough time and initiative

.  The "ping timeout" message brought back to the old style
.  Bring back CIDR support in operator blocks
   user="wcampbel@144.26.*"; # works - even if the hostname resolves
   user="wcampbel@144.26.0.0/16"; # Does not work
.  RESTART needs to stop coring
.  CAPAB needs added for half-ops
.  LINKS when server-hide is set ON breaks some clients
.  GETTEXT not being detected without
   CC='gcc -L/usr/local/lib' ./configure --prefix='...'
   THEN...it doesn't adjust the #define in setup.h
   Known to occur on FreeBSD 4.x-STABLE with the gettext port installed
   to /usr/local
.  The 3 logging path settings are NOOP in the conf (logpath, oper_log, 
   gline_log)

