# $Id$

CREATE TABLE users (
	username TEXT,
	password TEXT,
	reg_time TIMESTAMP,
	last_time TIMESTAMP,
	flags INTEGER,
	PRIMARY KEY(username)
);

CREATE TABLE channels (
	chname TEXT,
	topic TEXT,
	modes TEXT,
	reg_time TIMESTAMP,
	last_time TIMESTAMP,
	flags INTEGER,
	PRIMARY KEY(chname)
);

CREATE TABLE members (
	chname TEXT,
	username TEXT,
	lastmod TEXT,
	level INTEGER,
	suspend INTEGER,
	FOREIGN KEY(chname) REFERENCES channels (chname) MATCH FULL,
	FOREIGN KEY(username) REFERENCES users (username) MATCH FULL	
);


CREATE TABLE chan_bans (
	chname text,
	ban_mask text,
	ban_reason text,
	level int4,
	hold unixtime,
	FOREIGN KEY(chname) REFERENCES channels (chname) MATCH FULL
);

	
