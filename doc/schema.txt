# $Id$

CREATE TABLE users (
	username TEXT,
	password TEXT,
	reg_time TIMESTAMP,
	last_time TIMESTAMP,
	flags INTEGER,
	PRIMARY KEY(username)
);

CREATE TABLE channels (
	chname TEXT,
	topic TEXT,
	modes TEXT,
	reg_time TIMESTAMP,
	last_time TIMESTAMP,
	flags INTEGER,
	PRIMARY KEY(chname)
);

CREATE TABLE members (
	chname TEXT,
	username TEXT,
	lastmod TEXT,
	level INTEGER,
	suspend INTEGER,
	FOREIGN KEY(chname) REFERENCES channels (chname) MATCH FULL,
	FOREIGN KEY(username) REFERENCES users (username) MATCH FULL	
);

CREATE TABLE bans (
	chname TEXT,
	mask TEXT,
	reason TEXT,
	username TEXT,
	level INTEGER,
	hold TIMESTAMP,
	FOREIGN KEY(chname) REFERENCES channels (chname) MATCH FULL
);

CREATE TABLE operbot (
	chname TEXT,
	oper TEXT
);

CREATE TABLE jupes (
	servername TEXT,
	reason TEXT
);
