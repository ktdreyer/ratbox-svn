# $Id$

CREATE TABLE channels (
	chname text,
	topic text,
	flags int4,
	reg_time unixtime,
	last_used unixtime,
	PRIMARY KEY(chname)
);

CREATE TABLE users (
	nickname text,
	password text,
	reg_time unixtime,
	last_used unixtime
);

CREATE TABLE chan_bans (
	chname text,
	ban_mask text,
	ban_reason text,
	level int4,
	hold unixtime,
	FOREIGN KEY(chname) REFERENCES channels 
);

CREATE TABLE chan_members (
	chname text,
	nickname text,
	level int4,
	suspend int4,
	FOREIGN KEY(chname) REFERENCES channels (chname) MATCH FULL,
	FOREIGN KEY(nickname) REFERENCES users (nickname) MATCH FULL	
);

	