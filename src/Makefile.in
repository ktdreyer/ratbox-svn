# $Id$

CC=@CC@
RM=@RM@
MV=@MV@
INSTALL=@INSTALL@
PREFIX=@prefix@
BIN=rserv@EXEEXT@
INCLUDES=-I ../include/
LDFLAGS=
LIBS=@LIBS@
CFLAGS=-g -O0 -Wall -Werror -DPREFIX=\"$(PREFIX)\"

MAKE = make

SRCS = 			\
        c_error.c       \
	c_message.c	\
	c_mode.c	\
	channel.c	\
	client.c	\
	conf.c		\
	event.c		\
	fileio.c	\
	log.c		\
	match.c		\
	io.c		\
	rserv.c		\
	s_alis.c	\
	scommand.c	\
	service.c	\
	tools.c		\
        u_help.c        \
        u_stats.c       \
	ucommand.c

OBJS=$(SRCS:.c=.o)

all: $(BIN)

$(BIN): $(OBJS)
	${CC} ${CFLAGS} ${LDFLAGS} -o $@ ${OBJS} $(LIBS)

.c.o:
	${CC} $(INCLUDES) ${CFLAGS} -c $<

build: $(BIN)

clean:
	$(RM) -f $(BIN) *.o

distclean: clean
	$(RM) Makefile

depend:
	$(CC) -MM $(INCLUDES) $(CFLAGS) $(SRCS) > .depend

include .depend
