leeh        2004/07/31 19:39:51 EDT	(20040731_5)

  Modified files:
    include              s_stats.h 
    modules/core         m_nick.c m_server.c 
    src                  client.c listener.c parse.c reject.c 
                         s_auth.c s_conf.c s_stats.c s_user.c 
  Log:
  - removed some pointless code.. we were declaring ircst as a struct, then
    ServerStats as a pointer to it and never touching ircst again.
  
  Revision  Changes    Path
  7.18      +1 -1      ircd-ratbox/include/s_stats.h
  1.153     +13 -13    ircd-ratbox/modules/core/m_nick.c
  1.137     +2 -2      ircd-ratbox/modules/core/m_server.c
  7.464     +25 -25    ircd-ratbox/src/client.c
  7.111     +3 -3      ircd-ratbox/src/listener.c
  7.183     +5 -5      ircd-ratbox/src/parse.c
  1.26      +1 -1      ircd-ratbox/src/reject.c
  7.167     +4 -4      ircd-ratbox/src/s_auth.c
  7.479     +6 -6      ircd-ratbox/src/s_conf.c
  7.37      +3 -4      ircd-ratbox/src/s_stats.c
  7.325     +5 -5      ircd-ratbox/src/s_user.c



leeh        2004/07/31 19:19:36 EDT	(20040731_4)

  Modified files:
    modules              m_stats.c 
  Log:
  - moved stats_tdeny() over to the dlinks
  
  Revision  Changes    Path
  1.222     +13 -19    ircd-ratbox/modules/m_stats.c



leeh        2004/07/31 19:03:49 EDT	(20040731_3)

  Modified files:
    include              s_newconf.h 
    modules              m_dline.c m_kline.c m_rehash.c m_stats.c 
    src                  ircd.c s_newconf.c 
  Log:
  - moved the temp kline/dline lists into an array
  - simplified expiry of them, we only expire those marked TEMP_MIN, the
    others we just reorganise
  - I broke temp undline, but ill fix it when I do the patricia :p
  
  Revision  Changes    Path
  7.36      +11 -20    ircd-ratbox/include/s_newconf.h
  1.41      +4 -9      ircd-ratbox/modules/m_dline.c
  1.188     +4 -15     ircd-ratbox/modules/m_kline.c
  1.83      +45 -26    ircd-ratbox/modules/m_rehash.c
  1.221     +18 -28    ircd-ratbox/modules/m_stats.c
  7.352     +0 -5      ircd-ratbox/src/ircd.c
  7.49      +76 -113   ircd-ratbox/src/s_newconf.c



leeh        2004/07/31 17:56:38 EDT	(20040731_2)

  Modified files:
    include              s_conf.h s_newconf.h 
    src                  s_conf.c s_newconf.c 
  Log:
  - move the temp kline/dline stuff over to s_newconf.c
  
  Revision  Changes    Path
  7.284     +0 -25     ircd-ratbox/include/s_conf.h
  7.35      +24 -0     ircd-ratbox/include/s_newconf.h
  7.478     +0 -186    ircd-ratbox/src/s_conf.c
  7.48      +187 -0    ircd-ratbox/src/s_newconf.c



leeh        2004/07/31 12:11:37 EDT	(20040731_1)

  Modified files:
    src                  newconf.c 
  Log:
  - verify len > 0 in the generic conf string parser..
  
  Revision  Changes    Path
  7.165     +1 -1      ircd-ratbox/src/newconf.c



leeh        2004/07/31 11:04:27 EDT	(20040731_0)

  Modified files:
    include              s_gline.h s_newconf.h 
    modules              m_gline.c 
    src                  Makefile.in ircd.c s_newconf.c 
  Removed files:
    src                  s_gline.c 
  Log:
  - move expiration of temp glines over to m_gline.c
  - move expiration of triggered glines to s_newconf.c
  - remove s_gline.c
  
  Revision  Changes    Path
  7.19      +0 -9      ircd-ratbox/include/s_gline.h
  7.34      +3 -0      ircd-ratbox/include/s_newconf.h
  1.143     +42 -3     ircd-ratbox/modules/m_gline.c
  7.149     +0 -1      ircd-ratbox/src/Makefile.in
  7.351     +0 -2      ircd-ratbox/src/ircd.c
  1.43      +0 -128    ircd-ratbox/src/s_gline.c (dead)
  7.47      +24 -0     ircd-ratbox/src/s_newconf.c



leeh        2004/07/30 19:50:38 EDT	(20040730_12)

  Modified files:
    src                  newconf.c 
  Log:
  - fix remove_conf_item()
  
  Revision  Changes    Path
  7.164     +20 -12    ircd-ratbox/src/newconf.c



leeh        2004/07/30 19:43:59 EDT	(20040730_11)

  Modified files:
    src                  newconf.c 
  Log:
  - move rest of newconf.c that needs it over to table form..
  - fix a minor memleak when a listener {}; block doesnt end
  
  Revision  Changes    Path
  7.163     +62 -45    ircd-ratbox/src/newconf.c



leeh        2004/07/30 16:24:00 EDT	(20040730_10)

  Modified files:
    modules/core         m_server.c 
    src                  commio.c crypt.c event.c getopt.c ircd.c 
                         ircd_lexer.l ircd_signal.c modules.c 
    tools                README.mkpasswd 
  Removed files:
    servlink             descrip.mms 
    src                  descrip.mms qio.c version.com 
    tools                descrip.mms mkpasswd_vms.c 
  Log:
  - remove VMS
  
  Revision  Changes    Path
  1.136     +2 -7      ircd-ratbox/modules/core/m_server.c
  1.2       +0 -15     ircd-ratbox/servlink/descrip.mms (dead)
  1.11      +0 -20     ircd-ratbox/src/commio.c
  7.10      +0 -4      ircd-ratbox/src/crypt.c
  7.13      +0 -44     ircd-ratbox/src/descrip.mms (dead)
  7.42      +0 -54     ircd-ratbox/src/event.c
  7.22      +0 -4      ircd-ratbox/src/getopt.c
  7.350     +3 -19     ircd-ratbox/src/ircd.c
  1.162     +0 -4      ircd-ratbox/src/ircd_lexer.l
  7.24      +0 -25     ircd-ratbox/src/ircd_signal.c
  7.145     +0 -3      ircd-ratbox/src/modules.c
  7.6       +0 -221    ircd-ratbox/src/qio.c (dead)
  7.6       +0 -101    ircd-ratbox/src/version.com (dead)
  1.7       +0 -5      ircd-ratbox/tools/README.mkpasswd
  7.7       +0 -25     ircd-ratbox/tools/descrip.mms (dead)
  7.2       +0 -458    ircd-ratbox/tools/mkpasswd_vms.c (dead)



leeh        2004/07/30 14:09:42 EDT	(20040730_9)

  Modified files:
    doc                  example.conf example.efnet.conf 
    include              s_conf.h 
    modules              m_info.c 
    src                  ircd.c newconf.c s_conf.c 
  Log:
  - removed links_delay, now hardcoded to 5 mins
  - removed a couple of unused parts of a struct
  
  Revision  Changes    Path
  7.245     +0 -5      ircd-ratbox/doc/example.conf
  7.77      +0 -5      ircd-ratbox/doc/example.efnet.conf
  7.283     +0 -6      ircd-ratbox/include/s_conf.h
  1.111     +1 -7      ircd-ratbox/modules/m_info.c
  7.349     +1 -5      ircd-ratbox/src/ircd.c
  7.162     +2 -3      ircd-ratbox/src/newconf.c
  7.477                ircd-ratbox/src/s_conf.c



leeh        2004/07/30 13:42:08 EDT	(20040730_8)

  Modified files:
    src                  newconf.c 
  Log:
  - moved serverinfo/admin/general to table form
  
  Revision  Changes    Path
  7.161     +37 -85    ircd-ratbox/src/newconf.c



androsyn    2004/07/30 13:26:46 EDT	(20040730_7)

  Modified files:
    include              s_serv.h 
    modules/core         m_server.c 
    src                  s_serv.c 
  Log:
  Move fork_server and start_io into m_server
  
  Revision  Changes    Path
  7.96      +0 -3      ircd-ratbox/include/s_serv.h
  1.135     +266 -1    ircd-ratbox/modules/core/m_server.c
  7.408     +0 -258    ircd-ratbox/src/s_serv.c



leeh        2004/07/30 13:12:02 EDT	(20040730_6)

  Modified files:
    modules              m_dline.c m_kline.c m_resv.c m_xline.c 
    src                  ircd.c s_conf.c s_log.c 
  Log:
  - we need to fflush() after fputs()
  
  Revision  Changes    Path
  1.40      +4 -1      ircd-ratbox/modules/m_dline.c
  1.187     +4 -1      ircd-ratbox/modules/m_kline.c
  1.65      +3 -1      ircd-ratbox/modules/m_resv.c
  1.56      +3 -1      ircd-ratbox/modules/m_xline.c
  7.348     +3 -0      ircd-ratbox/src/ircd.c
  7.476     +2 -0      ircd-ratbox/src/s_conf.c
  7.74      +2 -0      ircd-ratbox/src/s_log.c



leeh        2004/07/30 13:03:58 EDT	(20040730_5)

  Modified files:
    include              newconf.h s_conf.h 
    modules              m_info.c 
    src                  newconf.c s_conf.c s_log.c 
  Log:
  - added ability to set strings generically in the conf parser, and moved
    some stuff over to using this
  
  Revision  Changes    Path
  7.32      +1 -0      ircd-ratbox/include/newconf.h
  7.282     +13 -13    ircd-ratbox/include/s_conf.h
  1.110     +13 -13    ircd-ratbox/modules/m_info.c
  7.160     +110 -211  ircd-ratbox/src/newconf.c
  7.475     +46 -14    ircd-ratbox/src/s_conf.c
  7.73      +13 -13    ircd-ratbox/src/s_log.c



androsyn    2004/07/30 12:27:26 EDT	(20040730_4)

  Modified files:
    modules              m_oper.c 
  Log:
  nothing uses the return to oper_up() so make it a void
  
  Revision  Changes    Path
  1.85      +4 -4      ircd-ratbox/modules/m_oper.c



androsyn    2004/07/30 12:25:43 EDT	(20040730_3)

  Modified files:
    modules              m_oper.c 
  Log:
  Wrap the prototype for m_challenge in an #ifdef
  
  Revision  Changes    Path
  1.84      +3 -2      ircd-ratbox/modules/m_oper.c



androsyn    2004/07/30 12:20:39 EDT	(20040730_2)

  Modified files:
    include              s_user.h 
    modules              Makefile.in m_oper.c 
    src                  s_user.c 
  Removed files:
    modules              m_challenge.c 
  Log:
  Merge oper/challenge into one module, move oper_up into the module as well
  
  Revision  Changes    Path
  7.30      +0 -1      ircd-ratbox/include/s_user.h
  1.101     +0 -1      ircd-ratbox/modules/Makefile.in
  1.71      +0 -273    ircd-ratbox/modules/m_challenge.c (dead)
  1.83      +268 -2    ircd-ratbox/modules/m_oper.c
  7.324     +0 -46     ircd-ratbox/src/s_user.c



leeh        2004/07/30 11:38:38 EDT	(20040730_1)

  Modified files:
    include              newconf.h 
    src                  newconf.c 
  Log:
  - start moving the parser over to working from tables, with generic handling
    of yesno/int/time options where appropriate
  
  Revision  Changes    Path
  7.31      +8 -9      ircd-ratbox/include/newconf.h
  7.159     +142 -534  ircd-ratbox/src/newconf.c



leeh        2004/07/29 22:07:12 EDT	(20040730_0)

  Modified files:
    .                    configure configure.ac 
  Log:
  - fix the msg result on --enable-profile
  
  Revision  Changes    Path
  7.230     +4 -4      ircd-ratbox/configure
  7.44      +3 -3      ircd-ratbox/configure.ac



androsyn    2004/07/29 14:21:48 EDT	(20040729_7)

  Modified files:
    include              commio.h 
    src                  cache.c commio.c 
  Log:
  Clean up the remainder of the fbopen type stuff
  
  Revision  Changes    Path
  1.7       +0 -35     ircd-ratbox/include/commio.h
  1.17      +1 -1      ircd-ratbox/src/cache.c
  1.10      +0 -270    ircd-ratbox/src/commio.c



androsyn    2004/07/29 14:10:54 EDT	(20040729_6)

  Modified files:
    adns                 setup.c 
    modules              m_dline.c m_kline.c m_resv.c m_xline.c 
    src                  cache.c ircd.c ircd_lexer.l s_conf.c 
                         s_log.c 
  Log:
  missed the damn fbopens...
  
  Revision  Changes    Path
  1.35      +1 -1      ircd-ratbox/adns/setup.c
  1.39      +3 -3      ircd-ratbox/modules/m_dline.c
  1.186     +3 -3      ircd-ratbox/modules/m_kline.c
  1.64      +3 -3      ircd-ratbox/modules/m_resv.c
  1.55      +4 -4      ircd-ratbox/modules/m_xline.c
  1.16      +1 -1      ircd-ratbox/src/cache.c
  7.347     +1 -1      ircd-ratbox/src/ircd.c
  1.161     +2 -2      ircd-ratbox/src/ircd_lexer.l
  7.474     +6 -6      ircd-ratbox/src/s_conf.c
  7.72      +3 -3      ircd-ratbox/src/s_log.c



androsyn    2004/07/29 14:07:49 EDT	(20040729_5)

  Modified files:
    include              s_conf.h 
    modules              m_dline.c m_kline.c m_resv.c m_xline.c 
    src                  cache.c ircd.c ircd_lexer.l kdparse.c 
                         s_conf.c s_log.c 
  Log:
  Missed some..
  
  Revision  Changes    Path
  7.281     +4 -4      ircd-ratbox/include/s_conf.h
  1.38      +3 -3      ircd-ratbox/modules/m_dline.c
  1.185     +2 -2      ircd-ratbox/modules/m_kline.c
  1.63      +2 -2      ircd-ratbox/modules/m_resv.c
  1.54      +3 -3      ircd-ratbox/modules/m_xline.c
  1.15      +1 -1      ircd-ratbox/src/cache.c
  7.346     +1 -1      ircd-ratbox/src/ircd.c
  1.160     +1 -1      ircd-ratbox/src/ircd_lexer.l
  7.37      +4 -4      ircd-ratbox/src/kdparse.c
  7.473     +5 -5      ircd-ratbox/src/s_conf.c
  7.71      +2 -2      ircd-ratbox/src/s_log.c



androsyn    2004/07/29 14:03:12 EDT	(20040729_4)

  Modified files:
    adns                 adns.h internal.h setup.c 
    include              s_conf.h 
    modules              m_dline.c m_kline.c m_resv.c m_xline.c 
    src                  cache.c ircd.c ircd_lexer.l kdparse.c 
                         s_conf.c s_log.c 
  Log:
  Change fb* functions to use standard f* functions
  
  Revision  Changes    Path
  1.12      +2 -2      ircd-ratbox/adns/adns.h
  1.13      +1 -1      ircd-ratbox/adns/internal.h
  1.34      +8 -8      ircd-ratbox/adns/setup.c
  7.280     +2 -2      ircd-ratbox/include/s_conf.h
  1.37      +9 -9      ircd-ratbox/modules/m_dline.c
  1.184     +9 -9      ircd-ratbox/modules/m_kline.c
  1.62      +8 -8      ircd-ratbox/modules/m_resv.c
  1.53      +11 -11    ircd-ratbox/modules/m_xline.c
  1.14      +3 -3      ircd-ratbox/src/cache.c
  7.345     +2 -2      ircd-ratbox/src/ircd.c
  1.159     +3 -3      ircd-ratbox/src/ircd_lexer.l
  7.36      +4 -4      ircd-ratbox/src/kdparse.c
  7.472     +10 -10    ircd-ratbox/src/s_conf.c
  7.70      +15 -15    ircd-ratbox/src/s_log.c



leeh        2004/07/29 13:00:37 EDT	(20040729_3)

  Modified files:
    include              config.h 
  Log:
  - piddpath had been moved to the log dir when it should be in etc/
  
  Revision  Changes    Path
  7.176     +1 -1      ircd-ratbox/include/config.h



leeh        2004/07/29 12:59:33 EDT	(20040729_2)

  Modified files:
    include              s_serv.h 
    modules/core         m_server.c 
    src                  s_serv.c 
  Log:
  - move check_server(), server_estab() and bursting funcs into m_server.c
  
  Revision  Changes    Path
  7.95      +3 -5      ircd-ratbox/include/s_serv.h
  1.134     +733 -1    ircd-ratbox/modules/core/m_server.c
  7.407     +4 -728    ircd-ratbox/src/s_serv.c



leeh        2004/07/29 12:09:28 EDT	(20040729_1)

  Modified files:
    include              channel.h 
    modules/core         m_join.c 
    src                  channel.c 
  Log:
  - move can_join() to m_join.c
  
  Revision  Changes    Path
  7.154     +0 -1      ircd-ratbox/include/channel.h
  1.158     +63 -1     ircd-ratbox/modules/core/m_join.c
  7.419     +0 -59     ircd-ratbox/src/channel.c



leeh        2004/07/29 11:50:00 EDT	(20040729_0)

  Modified files:
    modules              Makefile.in 
    modules/core         m_join.c 
    src                  modules.c 
  Removed files:
    modules/core         m_sjoin.c 
  Log:
  - merge m_sjoin.c into m_join.c
  
  Revision  Changes    Path
  1.100     +0 -1      ircd-ratbox/modules/Makefile.in
  1.157     +466 -2    ircd-ratbox/modules/core/m_join.c
  1.202     +0 -718    ircd-ratbox/modules/core/m_sjoin.c (dead)
  7.144     +0 -1      ircd-ratbox/src/modules.c



leeh        2004/07/28 19:34:43 EDT	(20040728_5)

  Modified files:
    src                  newconf.c 
  Log:
  - adding stacking of ips in exempt {}; blocks
  
  Revision  Changes    Path
  7.158     +12 -33    ircd-ratbox/src/newconf.c



leeh        2004/07/28 19:23:27 EDT	(20040728_4)

  Modified files:
    doc                  example.conf example.efnet.conf 
    include              hostmask.h ircd.h s_conf.h s_newconf.h 
    modules              m_rehash.c 
    src                  hostmask.c ircd.c ircd_signal.c newconf.c 
                         s_conf.c s_newconf.c 
  Log:
  - remove ability to set klines/dlines/xlines/resvs via ircd.conf
  - rehash no longer rereads the ban configs
  - SIGUSR2 and /rehash banconfigs added to reread ban configs
  
  Revision  Changes    Path
  7.244     +1 -40     ircd-ratbox/doc/example.conf
  7.76      +1 -43     ircd-ratbox/doc/example.efnet.conf
  1.34      +1 -1      ircd-ratbox/include/hostmask.h
  7.74      +1 -0      ircd-ratbox/include/ircd.h
  7.279     +3 -1      ircd-ratbox/include/s_conf.h
  7.33      +2 -1      ircd-ratbox/include/s_newconf.h
  1.82      +11 -1     ircd-ratbox/modules/m_rehash.c
  7.98      +5 -4      ircd-ratbox/src/hostmask.c
  7.344     +12 -1     ircd-ratbox/src/ircd.c
  7.23      +10 -0     ircd-ratbox/src/ircd_signal.c
  7.157     +0 -280    ircd-ratbox/src/newconf.c
  7.471     +141 -139  ircd-ratbox/src/s_conf.c
  7.46      +8 -2      ircd-ratbox/src/s_newconf.c



leeh        2004/07/27 23:00:30 EDT	(20040728_3)

  Modified files:
    include              s_gline.h 
    modules              m_gline.c 
    src                  s_gline.c 
  Log:
  - expanded add_gline() out into m_gline.c
  - moved find_is_glined() s_gline.c -> find_existing_gline() m_gline.c
  
  Revision  Changes    Path
  7.18      +0 -3      ircd-ratbox/include/s_gline.h
  1.142     +22 -3     ircd-ratbox/modules/m_gline.c
  1.42      +1 -40     ircd-ratbox/src/s_gline.c



leeh        2004/07/27 22:42:28 EDT	(20040728_2)

  Modified files:
    include              channel.h 
    modules              m_topic.c 
    src                  channel.c 
  Log:
  - move allocate_topic() and set_channel_topic() to m_topic.c
  
  Revision  Changes    Path
  7.153     +4 -3      ircd-ratbox/include/channel.h
  1.89      +59 -1     ircd-ratbox/modules/m_topic.c
  7.418     +2 -56     ircd-ratbox/src/channel.c



leeh        2004/07/27 22:19:57 EDT	(20040728_1)

  Modified files:
    modules              .depend Makefile.in m_topic.c 
    src                  .depend 
  Removed files:
    modules              m_tb.c 
  Log:
  - merge m_tb.c into m_topic.c
  
  Revision  Changes    Path
  1.40      +0 -10     ircd-ratbox/modules/.depend
  1.99      +0 -1      ircd-ratbox/modules/Makefile.in
  1.8       +0 -115    ircd-ratbox/modules/m_tb.c (dead)
  1.88      +69 -2     ircd-ratbox/modules/m_topic.c
  7.43      +2 -2      ircd-ratbox/src/.depend



leeh        2004/07/27 22:17:51 EDT	(20040728_0)

  Modified files:
    .                    ChangeLog 
    include              patchlevel.h 
  Log:
  - clear the ChangeLog and rename to 2.1.0beta
  
  Revision  Changes    Path
  1.1412    +0 -25339  ircd-ratbox/ChangeLog
  7.66      +1 -1      ircd-ratbox/include/patchlevel.h



