leeh        2004/10/04 15:38:19 EDT	(20041004_2)

  Modified files:
    include              client.h conf.h 
    src                  conf.c service.c ucommand.c 
  Log:
  - allow logging in over irc
  
  Revision  Changes    Path
  1.22      +1 -0      rserv/include/client.h
  1.14      +2 -0      rserv/include/conf.h
  1.21      +1 -1      rserv/src/conf.c
  1.19      +74 -14    rserv/src/service.c
  1.14      +2 -2      rserv/src/ucommand.c



leeh        2004/10/04 15:37:24 EDT	(20041004_1)

  Modified files:
    include              conf.h newconf.h 
    src                  newconf.c s_chanserv.c s_jupeserv.c 
                         s_operbot.c s_userserv.c 
  Log:
  - extended the conf parser so that service "chanserv" { }; can have chanserv
    specific options etc.
  
  Revision  Changes    Path
  1.13      +12 -0     rserv/include/conf.h
  1.4       +7 -0      rserv/include/newconf.h
  1.11      +89 -4     rserv/src/newconf.c
  1.4       +6 -0      rserv/src/s_chanserv.c
  1.2       +4 -4      rserv/src/s_jupeserv.c
  1.9       +0 -19     rserv/src/s_operbot.c
  1.4       +6 -0      rserv/src/s_userserv.c



leeh        2004/10/04 15:36:22 EDT	(20041004_0)

  Modified files:
    doc                  example.conf 
    include              c_init.h client.h rserv.h 
    src                  Makefile.in rserv.c 
  Added files:
    src                  crypt.c s_jupeserv.c 
  Log:
  - add missing crypt.c
  - initial work on jupeserv
  
  Revision  Changes    Path
  1.10      +1 -1      rserv/doc/example.conf
  1.15      +2 -3      rserv/include/c_init.h
  1.21      +1 -0      rserv/include/client.h
  1.9       +2 -0      rserv/include/rserv.h
  1.26      +1 -1      rserv/src/Makefile.in
  1.1       +117 -0    rserv/src/crypt.c (new)
  1.31      +24 -3     rserv/src/rserv.c
  1.1       +185 -0    rserv/src/s_jupeserv.c (new)



leeh        2004/09/25 11:59:30 EDT	(20040925_14)

  Removed files:
    src/s_chanserv       .cvsignore .depend Makefile.in 
                         s_c_admin.c s_c_clear.c s_c_db.c 
                         s_c_local.h s_c_op.c s_c_set.c 
                         s_c_suspend.c s_chanserv.c 
    src/s_userserv       .cvsignore 
  Log:
  - remove the old chanserv files
  
  Revision  Changes    Path
  1.2       +0 -1      rserv/src/s_chanserv/.cvsignore (dead)
  1.3       +0 -30     rserv/src/s_chanserv/.depend (dead)
  1.6       +0 -49     rserv/src/s_chanserv/Makefile.in (dead)
  1.6       +0 -311    rserv/src/s_chanserv/s_c_admin.c (dead)
  1.2       +0 -55     rserv/src/s_chanserv/s_c_clear.c (dead)
  1.3       +0 -71     rserv/src/s_chanserv/s_c_db.c (dead)
  1.8       +0 -63     rserv/src/s_chanserv/s_c_local.h (dead)
  1.5       +0 -221    rserv/src/s_chanserv/s_c_op.c (dead)
  1.3       +0 -187    rserv/src/s_chanserv/s_c_set.c (dead)
  1.2       +0 -119    rserv/src/s_chanserv/s_c_suspend.c (dead)
  1.12      +0 -453    rserv/src/s_chanserv/s_chanserv.c (dead)
  1.2       +0 -1      rserv/src/s_userserv/.cvsignore (dead)



leeh        2004/09/25 11:57:10 EDT	(20040925_13)

  Modified files:
    include              channel.h tools.h 
    src                  Makefile.in match.c s_chanserv.c 
  Added files:
    include              modebuild.h 
    src                  modebuild.c 
  Log:
  - added a modebuilder to allow services to chain modes easily
  - more work on chanserv
  
  Revision  Changes    Path
  1.13      +2 -0      rserv/include/channel.h
  1.1       +13 -0     rserv/include/modebuild.h (new)
  1.12      +3 -0      rserv/include/tools.h
  1.25      +2 -3      rserv/src/Makefile.in
  1.3       +111 -80   rserv/src/match.c
  1.1       +84 -0     rserv/src/modebuild.c (new)
  1.3       +277 -2    rserv/src/s_chanserv.c



leeh        2004/09/25 11:53:23 EDT	(20040925_12)

  Modified files:
    doc                  schema.txt 
    include              channel.h client.h config.h rserv.h 
                         s_chanserv.h 
    src                  c_mode.c channel.c client.c rserv.c 
                         s_chanserv.c s_userserv.c 
  Log:
  - add loc_sqlite_exec(), to simplify calls to the db
  - more work on chanserv: suspend, op, voice, bans
  
  Revision  Changes    Path
  1.6       +7 -6      rserv/doc/schema.txt
  1.12      +2 -0      rserv/include/channel.h
  1.20      +1 -0      rserv/include/client.h
  1.19      +1 -0      rserv/include/config.h
  1.8       +3 -2      rserv/include/rserv.h
  1.10      +3 -0      rserv/include/s_chanserv.h
  1.15      +2 -1      rserv/src/c_mode.c
  1.25      +14 -0     rserv/src/channel.c
  1.21      +9 -0      rserv/src/client.c
  1.30      +18 -0     rserv/src/rserv.c
  1.2       +457 -24   rserv/src/s_chanserv.c
  1.3       +7 -31     rserv/src/s_userserv.c



leeh        2004/09/25 11:40:55 EDT	(20040925_11)

  Modified files:
    .                    LICENSE 
    doc                  schema.txt 
    include              client.h config.h s_chanserv.h 
                         s_userserv.h 
    src                  Makefile.in balloc.c cache.c channel.c 
                         client.c rserv.c s_userserv.c 
  Added files:
    src                  s_chanserv.c 
  Log:
  - clean up includes of user service, making some things static
  - make BlockHeapAlloc() memset
  - initial work on channel service, registration of channels,
    adding/deleting/modifying users, invites
  
  Revision  Changes    Path
  1.4       +1 -1      rserv/LICENSE
  1.5       +21 -17    rserv/doc/schema.txt
  1.19      +1 -1      rserv/include/client.h
  1.18      +1 -1      rserv/include/config.h
  1.9       +3 -7      rserv/include/s_chanserv.h
  1.9       +0 -7      rserv/include/s_userserv.h
  1.24      +1 -1      rserv/src/Makefile.in
  1.5       +1 -0      rserv/src/balloc.c
  1.4       +0 -4      rserv/src/cache.c
  1.24      +0 -2      rserv/src/channel.c
  1.20      +0 -6      rserv/src/client.c
  1.29      +0 -2      rserv/src/rserv.c
  1.1       +481 -0    rserv/src/s_chanserv.c (new)
  1.2       +11 -27    rserv/src/s_userserv.c



leeh        2004/09/25 11:37:13 EDT	(20040925_10)

  Removed files:
    src/s_userserv       .depend Makefile.in s_u_crypt.c s_u_db.c 
                         s_userserv.c 
  Log:
  - add flags to the user registration storage
  - move away from building libs to simply having one file like the other
    services
  
  Revision  Changes    Path
  1.4       +0 -10     rserv/src/s_userserv/.depend (dead)
  1.4       +0 -45     rserv/src/s_userserv/Makefile.in (dead)
  1.4       +0 -122    rserv/src/s_userserv/s_u_crypt.c (dead)
  1.5       +0 -66     rserv/src/s_userserv/s_u_db.c (dead)
  1.9       +0 -195    rserv/src/s_userserv/s_userserv.c (dead)



leeh        2004/09/25 11:36:57 EDT	(20040925_9)

  Modified files:
    src                  Makefile.in rserv.c 
  Added files:
    src                  s_userserv.c 
  Log:
  - add flags to the user registration storage
  - move away from building libs to simply having one file like the other
    services
  
  Revision  Changes    Path
  1.23      +5 -21     rserv/src/Makefile.in
  1.28      +2 -0      rserv/src/rserv.c
  1.1       +249 -0    rserv/src/s_userserv.c (new)



leeh        2004/09/25 11:36:42 EDT	(20040925_8)

  Modified files:
    include              rserv.h s_userserv.h 
  Log:
  - add flags to the user registration storage
  - move away from building libs to simply having one file like the other
    services
  
  Revision  Changes    Path
  1.7       +2 -0      rserv/include/rserv.h
  1.8       +2 -5      rserv/include/s_userserv.h



leeh        2004/09/25 11:36:20 EDT	(20040925_7)

  Modified files:
    doc                  schema.txt 
  Log:
  - add flags to the user registration storage
  - move away from building libs to simply having one file like the other
    services
  
  Revision  Changes    Path
  1.4       +2 -1      rserv/doc/schema.txt



leeh        2004/09/25 11:35:49 EDT	(20040925_6)

  Modified files:
    autoconf             configure.in 
  Log:
  - add flags to the user registration storage
  - move away from building libs to simply having one file like the other
    services
  
  Revision  Changes    Path
  1.11      +0 -2      rserv/autoconf/configure.in



leeh        2004/09/25 11:35:43 EDT	(20040925_5)

  Modified files:
    .                    configure 
  Log:
  - add flags to the user registration storage
  - move away from building libs to simply having one file like the other
    services
  
  Revision  Changes    Path
  1.11      +0 -4      rserv/configure



leeh        2004/09/25 11:28:22 EDT	(20040925_4)

  Modified files:
    include              newconf.h 
    src                  newconf.c s_operbot.c 
  Log:
  - port my generic conf parser stuff from ircd
  
  Revision  Changes    Path
  1.3       +11 -10    rserv/include/newconf.h
  1.10      +103 -128  rserv/src/newconf.c
  1.8       +1 -1      rserv/src/s_operbot.c



leeh        2004/09/25 11:27:12 EDT	(20040925_3)

  Modified files:
    include              client.h service.h 
    src                  s_alis.c s_operbot.c service.c 
    src/s_chanserv       s_chanserv.c 
    src/s_userserv       s_userserv.c 
  Log:
  - remove the service_error struct
  - make service_error() take format strings
  
  Revision  Changes    Path
  1.18      +0 -2      rserv/include/client.h
  1.12      +1 -7      rserv/include/service.h
  1.20      +8 -26     rserv/src/s_alis.c
  1.11      +1 -1      rserv/src/s_chanserv/s_chanserv.c
  1.7       +5 -11     rserv/src/s_operbot.c
  1.8       +8 -30     rserv/src/s_userserv/s_userserv.c
  1.18      +9 -19     rserv/src/service.c



leeh        2004/09/25 11:25:27 EDT	(20040925_2)

  Modified files:
    include              conf.h 
    src                  .depend Makefile.in cache.c conf.c 
                         lexer.l log.c rserv.c 
  Removed files:
    include              fileio.h 
    src                  fileio.c 
  Log:
  - remove fileio.?, use system fopen() etc instead
  
  Revision  Changes    Path
  1.12      +1 -1      rserv/include/conf.h
  1.2       +0 -95     rserv/include/fileio.h (dead)
  1.6       +6 -15     rserv/src/.depend
  1.22      +0 -1      rserv/src/Makefile.in
  1.3       +4 -5      rserv/src/cache.c
  1.20      +4 -5      rserv/src/conf.c
  1.3       +0 -283    rserv/src/fileio.c (dead)
  1.3       +5 -6      rserv/src/lexer.l
  1.5       +5 -5      rserv/src/log.c
  1.27      +9 -10     rserv/src/rserv.c



leeh        2004/09/25 11:23:45 EDT	(20040925_1)

  Modified files:
    doc                  schema.txt 
    include              config.h rserv.h s_userserv.h 
    src                  Makefile.in rserv.c 
    src/s_userserv       s_u_db.c s_userserv.c 
  Log:
  - make user service save/load from a db
  
  Revision  Changes    Path
  1.3       +8 -8      rserv/doc/schema.txt
  1.17      +1 -0      rserv/include/config.h
  1.6       +2 -0      rserv/include/rserv.h
  1.7       +2 -2      rserv/include/s_userserv.h
  1.21      +1 -1      rserv/src/Makefile.in
  1.26      +9 -0      rserv/src/rserv.c
  1.4       +35 -13    rserv/src/s_userserv/s_u_db.c
  1.7       +5 -2      rserv/src/s_userserv/s_userserv.c



leeh        2004/09/25 11:21:56 EDT	(20040925_0)

  Modified files:
    include              client.h config.h 
    src                  Makefile.in client.c 
  Removed files:
    src                  s_hoststat.c 
  Log:
  - remove host statistics service
  
  Revision  Changes    Path
  1.17      +1 -34     rserv/include/client.h
  1.16      +0 -16     rserv/include/config.h
  1.20      +0 -1      rserv/src/Makefile.in
  1.19      +0 -199    rserv/src/client.c
  1.7       +0 -189    rserv/src/s_hoststat.c (dead)



leeh        2004/01/26 07:35:02 EST	(20040126_0)

  Modified files:
    src/s_chanserv       Makefile.in s_c_admin.c s_c_local.h 
                         s_c_op.c s_chanserv.c 
  Added files:
    src/s_chanserv       s_c_suspend.c 
  Log:
  - added "INVITE" to s_c_op.c
  - added "SUSPEND", "UNSUSPEND" to s_c_suspend.c
  - added checking of suspended level to verify_member_access()
  
  Revision  Changes    Path
  1.5       +2 -1      rserv/src/s_chanserv/Makefile.in
  1.5       +16 -0     rserv/src/s_chanserv/s_c_admin.c
  1.7       +3 -0      rserv/src/s_chanserv/s_c_local.h
  1.4       +39 -2     rserv/src/s_chanserv/s_c_op.c
  1.1       +119 -0    rserv/src/s_chanserv/s_c_suspend.c (new)
  1.10      +7 -3      rserv/src/s_chanserv/s_chanserv.c



leeh        2004/01/25 18:12:47 EST	(20040125_1)

  Modified files:
    include              hook.h 
    src                  .depend c_mode.c hook.c 
    src/s_chanserv       .depend s_c_local.h s_c_set.c 
                         s_chanserv.c 
    src/s_userserv       .depend 
  Log:
  - added a hook for mode +o's, so STRICTOP/NOOP are complete
  - added another hook for joins, to handle autoop/autovoice
  
  Revision  Changes    Path
  1.2       +1 -0      rserv/include/hook.h
  1.5       +4 -2      rserv/src/.depend
  1.14      +16 -3     rserv/src/c_mode.c
  1.2       +1 -1      rserv/src/hook.c
  1.2       +26 -4     rserv/src/s_chanserv/.depend
  1.6       +1 -0      rserv/src/s_chanserv/s_c_local.h
  1.2       +36 -4     rserv/src/s_chanserv/s_c_set.c
  1.9       +170 -3    rserv/src/s_chanserv/s_chanserv.c
  1.3       +3 -2      rserv/src/s_userserv/.depend



leeh        2004/01/25 17:11:50 EST	(20040125_0)

  Modified files:
    include              channel.h s_chanserv.h service.h 
    src                  Makefile.in channel.c client.c io.c 
                         scommand.c service.c 
    src/s_chanserv       Makefile.in s_c_admin.c s_c_local.h 
                         s_chanserv.c 
  Added files:
    include              hook.h 
    src                  hook.c 
    src/s_chanserv       s_c_clear.c s_c_set.c 
  Log:
  - added very basic hook support
  - added a hook for joined users
  - fix a bug where we destroyed a channel with services still in it
  - split introduce_services() up, as we need to introduce the services
    first, then channels after burst
  - added some of "SET" stuff
  - added "CLEARMODES"
  
  Revision  Changes    Path
  1.11      +1 -1      rserv/include/channel.h
  1.1       +13 -0     rserv/include/hook.h (new)
  1.8       +1 -0      rserv/include/s_chanserv.h
  1.11      +2 -0      rserv/include/service.h
  1.19      +1 -0      rserv/src/Makefile.in
  1.23      +48 -28    rserv/src/channel.c
  1.18      +1 -0      rserv/src/client.c
  1.1       +38 -0     rserv/src/hook.c (new)
  1.23      +2 -0      rserv/src/io.c
  1.4       +3 -1      rserv/src/s_chanserv/Makefile.in
  1.4       +2 -1      rserv/src/s_chanserv/s_c_admin.c
  1.1       +55 -0     rserv/src/s_chanserv/s_c_clear.c (new)
  1.5       +11 -0     rserv/src/s_chanserv/s_c_local.h
  1.1       +155 -0    rserv/src/s_chanserv/s_c_set.c (new)
  1.8       +95 -0     rserv/src/s_chanserv/s_chanserv.c
  1.15      +1 -1      rserv/src/scommand.c
  1.17      +20 -4     rserv/src/service.c



leeh        2004/01/24 10:33:49 EST	(20040124_2)

  Modified files:
    include              s_chanserv.h s_userserv.h 
    src/s_chanserv       s_c_admin.c s_c_local.h s_c_op.c 
                         s_chanserv.c 
    src/s_userserv       s_userserv.c 
  Added files:
    help/chanserv        modauto moduser 
  Log:
  - add storage for who last modified a users membership registration
  - add sending of errors to find_user_reg() and find_user_reg_nick()
  - added "MODUSER" and "MODAUTO"
  
  Revision  Changes    Path
  1.1       +5 -0      rserv/help/chanserv/modauto (new)
  1.1       +5 -0      rserv/help/chanserv/moduser (new)
  1.7       +3 -0      rserv/include/s_chanserv.h
  1.6       +4 -2      rserv/include/s_userserv.h
  1.3       +118 -24   rserv/src/s_chanserv/s_c_admin.c
  1.4       +7 -2      rserv/src/s_chanserv/s_c_local.h
  1.3       +1 -1      rserv/src/s_chanserv/s_c_op.c
  1.7       +5 -1      rserv/src/s_chanserv/s_chanserv.c
  1.6       +18 -11    rserv/src/s_userserv/s_userserv.c



leeh        2004/01/24 09:30:02 EST	(20040124_1)

  Modified files:
    src/s_chanserv       s_c_local.h s_c_op.c s_chanserv.c 
  Added files:
    help/chanserv        devoice voice 
  Log:
  - added a new function to parse OP/DEOP
  - added "VOICE"/"DEVOICE"
  - added verify_member_lower()
  
  Revision  Changes    Path
  1.1       +5 -0      rserv/help/chanserv/devoice (new)
  1.1       +5 -0      rserv/help/chanserv/voice (new)
  1.3       +5 -0      rserv/src/s_chanserv/s_c_local.h
  1.2       +69 -94    rserv/src/s_chanserv/s_c_op.c
  1.6       +20 -0     rserv/src/s_chanserv/s_chanserv.c



leeh        2004/01/24 07:00:58 EST	(20040124_0)

  Modified files:
    include              channel.h rserv.h s_chanserv.h 
    src                  channel.c s_operbot.c 
    src/s_chanserv       Makefile.in s_c_admin.c s_c_local.h 
                         s_chanserv.c 
  Added files:
    help/chanserv        adduser deluser deop join op part 
                         register 
    src/s_chanserv       s_c_op.c 
  Log:
  - make part_service() take a const char *chname for now
  - fix operbot OP to update its internal membership with the op
  - added "JOIN"/"PART" to chanserv, in s_c_admin.c
  - added "OP"/"DEOP" to chanserv, in s_c_op.c
  - added help files for chanserv stuff
  
  Revision  Changes    Path
  1.1       +5 -0      rserv/help/chanserv/adduser (new)
  1.1       +4 -0      rserv/help/chanserv/deluser (new)
  1.1       +5 -0      rserv/help/chanserv/deop (new)
  1.1       +3 -0      rserv/help/chanserv/join (new)
  1.1       +5 -0      rserv/help/chanserv/op (new)
  1.1       +3 -0      rserv/help/chanserv/part (new)
  1.1       +3 -0      rserv/help/chanserv/register (new)
  1.10      +1 -1      rserv/include/channel.h
  1.5       +2 -0      rserv/include/rserv.h
  1.6       +1 -1      rserv/include/s_chanserv.h
  1.22      +9 -1      rserv/src/channel.c
  1.3       +2 -1      rserv/src/s_chanserv/Makefile.in
  1.2       +28 -0     rserv/src/s_chanserv/s_c_admin.c
  1.2       +7 -0      rserv/src/s_chanserv/s_c_local.h
  1.1       +209 -0    rserv/src/s_chanserv/s_c_op.c (new)
  1.5       +4 -0      rserv/src/s_chanserv/s_chanserv.c
  1.6       +3 -3      rserv/src/s_operbot.c



leeh        2004/01/23 18:36:18 EST	(20040123_1)

  Modified files:
    include              s_chanserv.h s_userserv.h service.h 
    src                  s_alis.c s_hoststat.c s_operbot.c 
                         service.c 
    src/s_chanserv       Makefile.in s_c_db.c s_chanserv.c 
    src/s_userserv       s_userserv.c 
  Added files:
    src/s_chanserv       s_c_admin.c s_c_local.h 
  Log:
  - adding a 'userreg' param to service commands, used to check user is
    logged in when user service is enabled
  - moved some stuff from s_chanserv.h -> s_c_local.h
  - split "REGISTER" chanserv function into s_c_admin.c, added "ADDUSER" and
    "DELUSER"
  - added verify_member_access() to verify client has access level to channel
  - added find_user_reg_nick() which accepts '=nick'
  
  Revision  Changes    Path
  1.5       +0 -11     rserv/include/s_chanserv.h
  1.5       +3 -0      rserv/include/s_userserv.h
  1.10      +1 -0      rserv/include/service.h
  1.19      +2 -2      rserv/src/s_alis.c
  1.2       +2 -1      rserv/src/s_chanserv/Makefile.in
  1.1       +172 -0    rserv/src/s_chanserv/s_c_admin.c (new)
  1.2       +1 -0      rserv/src/s_chanserv/s_c_db.c
  1.1       +31 -0     rserv/src/s_chanserv/s_c_local.h (new)
  1.4       +42 -47    rserv/src/s_chanserv/s_chanserv.c
  1.6       +4 -4      rserv/src/s_hoststat.c
  1.5       +3 -3      rserv/src/s_operbot.c
  1.5       +19 -9     rserv/src/s_userserv/s_userserv.c
  1.16      +10 -0     rserv/src/service.c



leeh        2004/01/23 13:55:50 EST	(20040123_0)

  Modified files:
    doc                  example.conf 
    include              conf.h io.h 
    src                  newconf.c ucommand.c 
  Log:
  - added basic flags, to restrict .die etc
  
  Revision  Changes    Path
  1.9       +9 -0      rserv/doc/example.conf
  1.11      +8 -0      rserv/include/conf.h
  1.14      +1 -1      rserv/include/io.h
  1.9       +24 -11    rserv/src/newconf.c
  1.13      +20 -12    rserv/src/ucommand.c



leeh        2004/01/22 08:42:36 EST	(20040122_1)

  Modified files:
    src                  c_message.c conf.c newconf.c rserv.c 
  Log:
  - ignore any ctcp requests that arent dcc
  - fix couple of bugs in conf parser
  - patch via Hwy to add support for signals HUP and TERM
  
  Revision  Changes    Path
  1.15      +10 -3     rserv/src/c_message.c
  1.19      +1 -0      rserv/src/conf.c
  1.8       +1 -1      rserv/src/newconf.c
  1.25      +32 -0     rserv/src/rserv.c



androsyn    2004/01/21 20:20:35 EST	(20040122_0)

  Removed files:
    include              db.h 
    src                  db-pgsql.c db-sqlite.c 
  Log:
  I think we'll only support sqlite so the abstraction interface is silly
  
  Revision  Changes    Path
  1.2       +0 -21     rserv/include/db.h (dead)
  1.2       +0 -89     rserv/src/db-pgsql.c (dead)
  1.2       +0 -46     rserv/src/db-sqlite.c (dead)



androsyn    2004/01/21 15:30:01 EST	(20040121_2)

  Added files:
    include              db.h 
    src                  db-pgsql.c db-sqlite.c 
  Log:
  Add the db interface wrappers.
  
  Revision  Changes    Path
  1.1       +21 -0     rserv/include/db.h (new)
  1.1       +89 -0     rserv/src/db-pgsql.c (new)
  1.1       +46 -0     rserv/src/db-sqlite.c (new)



androsyn    2004/01/21 14:48:39 EST	(20040121_1)

  Modified files:
    doc                  schema.txt 
  Log:
  A schema that'll actually load in sqlite now ;)
  
  Revision  Changes    Path
  1.2       +5 -5      rserv/doc/schema.txt



androsyn    2004/01/21 13:46:42 EST	(20040121_0)

  Added files:
    doc                  schema.txt 
  Log:
  Rough draft of the db schema
  
  Revision  Changes    Path
  1.1       +37 -0     rserv/doc/schema.txt (new)



leeh        2004/01/20 06:05:20 EST	(20040120_1)

  Modified files:
    src                  Makefile.in lexer.l parser.y 
  Log:
  - patch via Hwy:
    - Always rebuild the binary when 'make' is run.
    - Added two missing headers that caused compilation to fail on FreeBSD.
  
  Revision  Changes    Path
  1.18      +3 -0      rserv/src/Makefile.in
  1.2       +1 -0      rserv/src/lexer.l
  1.2       +1 -0      rserv/src/parser.y



leeh        2004/01/20 06:02:28 EST	(20040120_0)

  Modified files:
    include              client.h conf.h io.h service.h 
    src                  channel.c conf.c io.c newconf.c rserv.c 
                         service.c ucommand.c 
  Added files:
    .                    CREDITS 
  Log:
  - add a CREDITS file
  - implement reference counting for oper blocks, now deallocate them once
    a user has logged in
  - added rehash
  - split the client/server stuff in sock_close() out into their own
    functions
  
  Revision  Changes    Path
  1.1       +14 -0     rserv/CREDITS (new)
  1.16      +2 -0      rserv/include/client.h
  1.10      +17 -3     rserv/include/conf.h
  1.13      +7 -6      rserv/include/io.h
  1.9       +2 -0      rserv/include/service.h
  1.21      +4 -0      rserv/src/channel.c
  1.18      +92 -3     rserv/src/conf.c
  1.22      +45 -18    rserv/src/io.c
  1.7       +12 -6     rserv/src/newconf.c
  1.24      +1 -1      rserv/src/rserv.c
  1.15      +7 -0      rserv/src/service.c
  1.12      +15 -0     rserv/src/ucommand.c



leeh        2004/01/19 11:06:10 EST	(20040119_0)

  Modified files:
    src                  c_mode.c 
  Log:
  - build a dlink_list of services deopped in a mode, so we only rejoin
    a service once per mode command, rather than once per -o
  
  Revision  Changes    Path
  1.13      +20 -1     rserv/src/c_mode.c



leeh        2004/01/18 11:36:43 EST	(20040118_1)

  Modified files:
    doc                  example.conf 
    include              conf.h io.h 
    src                  c_message.c conf.c io.c newconf.c 
                         u_stats.c ucommand.c 
  Log:
  - changed user=""; in oper {}; to be a list, so you can restrict a
    user@host to a specific server
  - cleaned up the connecting client stuff, we now attach their oper block
    when we connect to them
  - added FLAGS_AUTH to determine whether a user has logged in
  
  Revision  Changes    Path
  1.8       +7 -3      rserv/doc/example.conf
  1.9       +3 -2      rserv/include/conf.h
  1.12      +12 -7     rserv/include/io.h
  1.14      +4 -3      rserv/src/c_message.c
  1.17      +4 -21     rserv/src/conf.c
  1.21      +10 -10    rserv/src/io.c
  1.6       +29 -2     rserv/src/newconf.c
  1.7       +3 -2      rserv/src/u_stats.c
  1.11      +3 -9      rserv/src/ucommand.c



leeh        2004/01/18 09:01:26 EST	(20040118_0)

  Modified files:
    include              conf.h service.h 
    src                  conf.c newconf.c s_alis.c s_hoststat.c 
                         s_operbot.c service.c 
    src/s_chanserv       s_chanserv.c 
    src/s_userserv       s_userserv.c 
  Log:
  - reworked the multiple user=""; lines in oper {}; to create seperate
    confs instead of just building a linked list of hosts
  - added a minparc param to service_command
  
  Revision  Changes    Path
  1.8       +1 -0      rserv/include/conf.h
  1.8       +1 -0      rserv/include/service.h
  1.16      +10 -0     rserv/src/conf.c
  1.5       +27 -53    rserv/src/newconf.c
  1.18      +2 -8      rserv/src/s_alis.c
  1.3       +2 -10     rserv/src/s_chanserv/s_chanserv.c
  1.5       +5 -25     rserv/src/s_hoststat.c
  1.4       +3 -17     rserv/src/s_operbot.c
  1.4       +4 -18     rserv/src/s_userserv/s_userserv.c
  1.14      +12 -2     rserv/src/service.c



leeh        2004/01/16 14:14:36 EST	(20040116_10)

  Modified files:
    src                  newconf.c 
  Log:
  - need to reset the services nick in hash when we change it
  
  Revision  Changes    Path
  1.4       +2 -0      rserv/src/newconf.c



leeh        2004/01/16 13:33:31 EST	(20040116_9)

  Modified files:
    help                 Makefile.in 
    help/alis            list 
    help/hoststat        clones host testmask 
    help/operbot         invite op 
    include              s_chanserv.h 
  Log:
  - updated the help stuff some more
  - fleshed out the chanserv structure a bit
  
  Revision  Changes    Path
  1.2       +2 -2      rserv/help/Makefile.in
  1.2       +1 -0      rserv/help/alis/list
  1.2       +1 -2      rserv/help/hoststat/clones
  1.2       +1 -2      rserv/help/hoststat/host
  1.2       +1 -2      rserv/help/hoststat/testmask
  1.2       +1 -0      rserv/help/operbot/invite
  1.2       +1 -0      rserv/help/operbot/op
  1.4       +13 -0     rserv/include/s_chanserv.h



leeh        2004/01/16 12:40:51 EST	(20040116_8)

  Modified files:
    include              tools.h 
    src                  Makefile.in balloc.c channel.c conf.c 
                         service.c tools.c 
  Added files:
    help/hoststat        clones host testmask 
  Log:
  - added compile flags -Wwrite-strings and -Wmissing-declarations and fixed
    compile errors with them
  - added casts for time_t usage
  - add some hoststat help files
  
  Revision  Changes    Path
  1.1       +4 -0      rserv/help/hoststat/clones (new)
  1.1       +4 -0      rserv/help/hoststat/host (new)
  1.1       +4 -0      rserv/help/hoststat/testmask (new)
  1.11      +1 -0      rserv/include/tools.h
  1.17      +1 -1      rserv/src/Makefile.in
  1.4       +1 -1      rserv/src/balloc.c
  1.20      +5 -4      rserv/src/channel.c
  1.15      +2 -2      rserv/src/conf.c
  1.13      +3 -2      rserv/src/service.c
  1.8       +2 -2      rserv/src/tools.c



leeh        2004/01/16 11:00:00 EST	(20040116_7)

  Modified files:
    src                  s_operbot.c service.c 
  Added files:
    help/operbot         invite op 
  Log:
  - set the operonly flag in operbot cmd_table, removed it from each
    function
  - fix check for '.' in service nick
  - fix scommand helpfiles
  - dont send help index if no commands available
  
  Revision  Changes    Path
  1.1       +2 -0      rserv/help/operbot/invite (new)
  1.1       +2 -0      rserv/help/operbot/op (new)
  1.3       +3 -17     rserv/src/s_operbot.c
  1.12      +15 -9     rserv/src/service.c



leeh        2004/01/16 10:38:31 EST	(20040116_6)

  rserv/help/operbot - New directory



leeh        2004/01/16 10:37:27 EST	(20040116_5)

  rserv/help/userserv - New directory



leeh        2004/01/16 10:37:24 EST	(20040116_4)

  rserv/help/jupeserv - New directory



leeh        2004/01/16 10:37:23 EST	(20040116_3)

  rserv/help/hoststat - New directory



leeh        2004/01/16 10:37:22 EST	(20040116_2)

  rserv/help/chanserv - New directory



leeh        2004/01/16 07:24:29 EST	(20040116_1)

  Modified files:
    doc                  example.conf 
    include              rserv.h 
    src                  rserv.c 
    src/s_userserv       s_u_crypt.c 
  Log:
  - cleaned up includes in rserv.c
  - added a runtime check for md5 support in crypt()
  
  Revision  Changes    Path
  1.7       +8 -1      rserv/doc/example.conf
  1.4       +2 -0      rserv/include/rserv.h
  1.23      +18 -10    rserv/src/rserv.c
  1.3       +9 -11     rserv/src/s_userserv/s_u_crypt.c



leeh        2004/01/16 06:45:55 EST	(20040116_0)

  Modified files:
    .                    configure 
    autoconf             configure.in 
    include              io.h setup.h.in 
    src                  io.c 
  Log:
  - patch from Hwy to give ipv6 support
  
  Revision  Changes    Path
  1.10      +1 -1      rserv/autoconf/configure.in
  1.10      +1 -1      rserv/configure
  1.11      +1 -1      rserv/include/io.h
  1.5       +3 -0      rserv/include/setup.h.in
  1.20      +135 -4    rserv/src/io.c



leeh        2004/01/15 17:40:12 EST	(20040115_18)

  Modified files:
    include              c_init.h channel.h s_chanserv.h 
    src                  channel.c rserv.c 
    src/s_chanserv       s_chanserv.c 
    src/s_userserv       s_userserv.c 
  Log:
  - add is_opped/is_voiced macros
  - add inits for chanserv
  - made hash_channel extern
  - tidied up chanserv a bit
  
  Revision  Changes    Path
  1.14      +3 -0      rserv/include/c_init.h
  1.9       +5 -0      rserv/include/channel.h
  1.3       +6 -2      rserv/include/s_chanserv.h
  1.19      +1 -1      rserv/src/channel.c
  1.22      +3 -0      rserv/src/rserv.c
  1.2       +51 -4     rserv/src/s_chanserv/s_chanserv.c
  1.3       +1 -0      rserv/src/s_userserv/s_userserv.c



leeh        2004/01/15 17:00:39 EST	(20040115_17)

  Modified files:
    include              s_chanserv.h 
  Log:
  - add topic storage to struct chan_reg
  
  Revision  Changes    Path
  1.2       +1 -0      rserv/include/s_chanserv.h



leeh        2004/01/15 16:38:35 EST	(20040115_16)

  Modified files:
    .                    configure 
    autoconf             configure.in 
    include              config.h s_userserv.h 
    src                  Makefile.in 
  Added files:
    include              s_chanserv.h 
    src/s_chanserv       .cvsignore .depend Makefile.in s_c_db.c 
                         s_chanserv.c 
  Log:
  - added the beginnings of chanserv
  
  Revision  Changes    Path
  1.9       +1 -0      rserv/autoconf/configure.in
  1.9       +2 -0      rserv/configure
  1.15      +3 -1      rserv/include/config.h
  1.1       +42 -0     rserv/include/s_chanserv.h (new)
  1.4       +1 -0      rserv/include/s_userserv.h
  1.16      +2 -2      rserv/src/Makefile.in
  1.1       +1 -0      rserv/src/s_chanserv/.cvsignore (new)
  1.1       +8 -0      rserv/src/s_chanserv/.depend (new)
  1.1       +44 -0     rserv/src/s_chanserv/Makefile.in (new)
  1.1       +70 -0     rserv/src/s_chanserv/s_c_db.c (new)
  1.1       +125 -0    rserv/src/s_chanserv/s_chanserv.c (new)



leeh        2004/01/15 15:56:57 EST	(20040115_15)

  Modified files:
    include              s_userserv.h 
    src/s_userserv       s_u_db.c s_userserv.c 
  Log:
  - store when it was regged/last used
  
  Revision  Changes    Path
  1.3       +3 -0      rserv/include/s_userserv.h
  1.3       +1 -2      rserv/src/s_userserv/s_u_db.c
  1.2       +3 -0      rserv/src/s_userserv/s_userserv.c



leeh        2004/01/15 15:38:23 EST	(20040115_14)

  Modified files:
    src                  .depend 
    src/s_userserv       .depend Makefile.in s_u_db.c 
  Log:
  - fix .depend, make it compile properly
  
  Revision  Changes    Path
  1.4       +18 -19    rserv/src/.depend
  1.2       +5 -4      rserv/src/s_userserv/.depend
  1.3       +3 -5      rserv/src/s_userserv/Makefile.in
  1.2       +3 -5      rserv/src/s_userserv/s_u_db.c



leeh        2004/01/15 15:31:05 EST	(20040115_13)

  Modified files:
    include              client.h 
    src/s_userserv       Makefile.in s_u_crypt.c s_userserv.h 
  Added files:
    src/s_userserv       s_u_db.c 
  Log:
  - add db stubs
  - prepare source for repo move of s_userserv.h
  
  Revision  Changes    Path
  1.15      +1 -1      rserv/include/client.h
  1.2       +4 -2      rserv/src/s_userserv/Makefile.in
  1.2       +4 -0      rserv/src/s_userserv/s_u_crypt.c
  1.1       +47 -0     rserv/src/s_userserv/s_u_db.c (new)
  1.2       +3 -0      rserv/src/s_userserv/s_userserv.h



leeh        2004/01/15 14:22:59 EST	(20040115_12)

  Modified files:
    .                    ChangeLog 
  Log:
  - cleanup the changelog after cvs went wierd.
  
  Revision  Changes    Path
  1.64      +6 -85     rserv/ChangeLog



leeh        2004/01/15 14:10:48 EST	(20040115_11)

  Modified files:
    .                    configure 
    autoconf             configure.in 
    include              c_init.h client.h config.h 
    src                  .depend Makefile.in client.c rserv.c 
                         service.c 
  Added files:
    src/s_userserv       .cvsignore .depend Makefile.in 
                         s_u_crypt.c s_userserv.c s_userserv.h 
  Log:
  - added checks for ranlib/ar to configure
  - added the initial user registration service, just stored in memory atm
  - added the Makefile stuff for the service directories
  - hash_nick() -> global hash_name()
  - I need to stop just doing "*buf++;" :P
  
  Revision  Changes    Path
  1.1       +1 -0      rserv/src/s_userserv/.cvsignore (new)
  1.1       +8 -0      rserv/src/s_userserv/.depend (new)
  1.1       +45 -0     rserv/src/s_userserv/Makefile.in (new)
  1.1       +120 -0    rserv/src/s_userserv/s_u_crypt.c (new)
  1.1       +207 -0    rserv/src/s_userserv/s_userserv.c (new)
  1.1       +25 -0     rserv/src/s_userserv/s_userserv.h (new)

leeh        2004/01/15 10:48:34 EST	(20040115_6)

  rserv/src/s_userserv - New directory
  rserv/src/s_jupeserv - New directory
  rserv/src/s_chanserv - New directory

leeh        2004/01/15 10:13:19 EST	(20040115_3)

  Modified files:
    include              config.h tools.h 
    src                  rserv.c tools.c 
  Log:
  - made dlink_nodes use a balloc
  - add some comments as to which things need to be init'd before what
  
  Revision  Changes    Path
  1.13      +2 -0      rserv/include/config.h
  1.10      +3 -1      rserv/include/tools.h
  1.20      +11 -3     rserv/src/rserv.c
  1.7       +24 -8     rserv/src/tools.c



leeh        2004/01/15 09:50:52 EST	(20040115_2)

  Modified files:
    src                  .cvsignore 
  Added files:
    .                    .cvsignore 
    help                 .cvsignore 
    include              .cvsignore 
  Log:
  - added/updated .cvsignore files
  
  Revision  Changes    Path
  1.1       +4 -0      rserv/.cvsignore (new)
  1.1       +1 -0      rserv/help/.cvsignore (new)
  1.1       +1 -0      rserv/include/.cvsignore (new)
  1.2       +3 -3      rserv/src/.cvsignore



leeh        2004/01/15 09:48:10 EST	(20040115_1)

  Modified files:
    include              client.h config.h tools.h 
    src                  client.c conf.c s_hoststat.c tools.c 
  Log:
  - added an extended hosthash for hoststat service, keeps track of maximum
    host counts etc
  - added get_time() to return time as DD/MM/YY HH:MM TZ
  - oper {}; shouldve been using match(), not strcmp()
  
  Revision  Changes    Path
  1.13      +14 -1     rserv/include/client.h
  1.12      +10 -0     rserv/include/config.h
  1.9       +1 -0      rserv/include/tools.h
  1.16      +57 -0     rserv/src/client.c
  1.14      +4 -4      rserv/src/conf.c
  1.4       +14 -2     rserv/src/s_hoststat.c
  1.6       +14 -0     rserv/src/tools.c



leeh        2004/01/15 09:01:16 EST	(20040115_0)

  Modified files:
    doc                  example.conf 
    include              channel.h 
    src                  channel.c s_alis.c 
  Log:
  - add operbot {}; to example.conf
  - add chmode_to_string_simple() for alis
  
  Revision  Changes    Path
  1.6       +9 -0      rserv/doc/example.conf
  1.8       +1 -0      rserv/include/channel.h
  1.18      +39 -0     rserv/src/channel.c
  1.17      +2 -2      rserv/src/s_alis.c



leeh        2004/01/14 15:59:31 EST	(20040114_0)

  Modified files:
    doc                  example.conf 
    include              config.h newconf.h 
    src                  channel.c newconf.c rserv.c s_alis.c 
                         s_hoststat.c s_operbot.c 
  Log:
  - added service {}; block to conf, to specify a servers n!u@h and gecos
  - added defines for the three services
  - implemented part_service()
  - add operbot {}; block to control which channels operbot joins
  - remove .objoin/.obpart from operbot, theyre not gunna be used
  
  Revision  Changes    Path
  1.5       +18 -0     rserv/doc/example.conf
  1.11      +17 -1     rserv/include/config.h
  1.2       +1 -1      rserv/include/newconf.h
  1.17      +5 -0      rserv/src/channel.c
  1.3       +78 -1     rserv/src/newconf.c
  1.19      +6 -0      rserv/src/rserv.c
  1.16      +4 -0      rserv/src/s_alis.c
  1.3       +4 -0      rserv/src/s_hoststat.c
  1.2       +16 -15    rserv/src/s_operbot.c



leeh        2004/01/13 14:44:16 EST	(20040113_0)

  Modified files:
    include              channel.h 
    src                  c_mode.c cache.c channel.c client.c 
                         tools.c 
  Log:
  - make services rejoining just issue an SJOIN with the client opped
  - added memset()'s where we BlockHeapAlloc()
  - fixed the hosthash
  - made dlink_add() set m->prev = NULL
  
  Revision  Changes    Path
  1.7       +1 -2      rserv/include/channel.h
  1.12      +1 -1      rserv/src/c_mode.c
  1.2       +3 -1      rserv/src/cache.c
  1.16      +4 -6      rserv/src/channel.c
  1.15      +14 -0     rserv/src/client.c
  1.5       +1 -0      rserv/src/tools.c



leeh        2004/01/12 18:40:07 EST	(20040112_0)

  Modified files:
    include              c_init.h channel.h client.h io.h 
    src                  Makefile.in c_mode.c channel.c io.c 
                         rserv.c scommand.c service.c 
  Added files:
    src                  s_operbot.c 
  Log:
  - added an operbot service
  - added storage/functions for services on channels
  - dont introduce services until after EOB
  - made chmode_to_string() give key/limit
  
  Revision  Changes    Path
  1.12      +3 -0      rserv/include/c_init.h
  1.6       +7 -0      rserv/include/channel.h
  1.12      +2 -0      rserv/include/client.h
  1.10      +2 -0      rserv/include/io.h
  1.14      +1 -0      rserv/src/Makefile.in
  1.11      +10 -0     rserv/src/c_mode.c
  1.15      +86 -7     rserv/src/channel.c
  1.19      +0 -2      rserv/src/io.c
  1.18      +1 -0      rserv/src/rserv.c
  1.1       +152 -0    rserv/src/s_operbot.c (new)
  1.14      +2 -0      rserv/src/scommand.c
  1.10      +13 -0     rserv/src/service.c



leeh        2004/01/10 20:27:18 EST	(20040111_2)

  Modified files:
    include              scommand.h stdinc.h 
    src                  c_error.c c_message.c c_mode.c channel.c 
                         client.c io.c scommand.c 
  Log:
  - make parv in the scommand handlers const, otherwise the hooks will have
    issues
  
  Revision  Changes    Path
  1.4       +2 -2      rserv/include/scommand.h
  1.8       +10 -0     rserv/include/stdinc.h
  1.5       +2 -2      rserv/src/c_error.c
  1.13      +13 -7     rserv/src/c_message.c
  1.10      +3 -3      rserv/src/c_mode.c
  1.14      +17 -14    rserv/src/channel.c
  1.14      +10 -10    rserv/src/client.c
  1.18      +1 -1      rserv/src/io.c
  1.13      +17 -17    rserv/src/scommand.c



leeh        2004/01/10 20:12:13 EST	(20040111_1)

  Modified files:
    include              scommand.h tools.h 
    src                  c_error.c c_message.c c_mode.c channel.c 
                         client.c scommand.c 
  Log:
  - fix a core in the hosthash
  - added hooks for scommands
  
  Revision  Changes    Path
  1.3       +7 -1      rserv/include/scommand.h
  1.8       +2 -0      rserv/include/tools.h
  1.4       +1 -1      rserv/src/c_error.c
  1.12      +1 -1      rserv/src/c_message.c
  1.9       +1 -1      rserv/src/c_mode.c
  1.13      +6 -6      rserv/src/channel.c
  1.13      +10 -6     rserv/src/client.c
  1.12      +56 -7     rserv/src/scommand.c



leeh        2004/01/10 19:22:26 EST	(20040111_0)

  Modified files:
    doc                  example.conf 
    include              conf.h 
    src                  c_message.c conf.c newconf.c s_hoststat.c 
  Log:
  - added TESTMASK to hoststat, returning how many clients match the
    given user@host
  - added "dcc" priv to oper {};, controlling whether they can dcc in or not
  
  Revision  Changes    Path
  1.4       +4 -1      rserv/doc/example.conf
  1.7       +3 -1      rserv/include/conf.h
  1.11      +8 -1      rserv/src/c_message.c
  1.13      +4 -4      rserv/src/conf.c
  1.2       +15 -1     rserv/src/newconf.c
  1.2       +37 -0     rserv/src/s_hoststat.c



leeh        2004/01/10 13:32:04 EST	(20040110_0)

  Modified files:
    .                    configure 
    autoconf             configure.in 
    doc                  example.conf 
    include              c_init.h channel.h client.h conf.h 
                         config.h io.h service.h tools.h 
    src                  Makefile.in c_message.c c_mode.c client.c 
                         conf.c io.c rserv.c s_alis.c scommand.c 
                         service.c tools.c u_stats.c ucommand.c 
  Added files:
    include              newconf.h 
    src                  lexer.l newconf.c parser.y s_hoststat.c 
  Log:
  - ported the config parser from ircd-ratbox
  - rewrote example.conf
  - add flags to conf_oper, so encryption of password is optional per oper {};
  - change the service notice handlers to use already split parv/parc
  - fix ALIS to handle the parv/parc properly
  - add a hostname hash table and user@host list as a dlink off host hash
  - add a basic hoststat service with CLONES/HOST
  - make autoconn a config option
  - mode +beI parser
  - moved RECONNECT_DELAY and PING_TIME to the config
  - added /ctcp service chat handler to listen to a port for them to dcc in
  - add dcc_vhost config option, controlling vhost for inbound/outbound dccs
  - add dcc_{low|high}_port config option, controlling port range to listen on
  - moved some stuff out of sock_open() into new sock_create()
  - added set_default_conf() and validate_conf()
  
  Revision  Changes    Path
  1.7       +2 -0      rserv/autoconf/configure.in
  1.7       +162 -46   rserv/configure
  1.3       +77 -109   rserv/doc/example.conf
  1.11      +3 -0      rserv/include/c_init.h
  1.5       +3 -0      rserv/include/channel.h
  1.11      +22 -0     rserv/include/client.h
  1.6       +27 -6     rserv/include/conf.h
  1.10      +0 -19     rserv/include/config.h
  1.9       +30 -5     rserv/include/io.h
  1.1       +67 -0     rserv/include/newconf.h (new)
  1.7       +1 -1      rserv/include/service.h
  1.7       +2 -0      rserv/include/tools.h
  1.13      +21 -4     rserv/src/Makefile.in
  1.10      +37 -27    rserv/src/c_message.c
  1.8       +58 -0     rserv/src/c_mode.c
  1.12      +131 -0    rserv/src/client.c
  1.12      +57 -291   rserv/src/conf.c
  1.17      +330 -201  rserv/src/io.c
  1.1       +265 -0    rserv/src/lexer.l (new)
  1.1       +628 -0    rserv/src/newconf.c (new)
  1.1       +306 -0    rserv/src/parser.y (new)
  1.17      +4 -1      rserv/src/rserv.c
  1.15      +31 -59    rserv/src/s_alis.c
  1.1       +156 -0    rserv/src/s_hoststat.c (new)
  1.11      +2 -2      rserv/src/scommand.c
  1.9       +47 -1     rserv/src/service.c
  1.4       +32 -0     rserv/src/tools.c
  1.6       +1 -1      rserv/src/u_stats.c
  1.10      +6 -8      rserv/src/ucommand.c



leeh        2004/01/08 08:26:43 EST	(20040108_2)

  Modified files:
    src                  Makefile.in 
  Log:
  - add an empty install target
  
  Revision  Changes    Path
  1.12      +2 -0      rserv/src/Makefile.in



leeh        2004/01/08 07:54:01 EST	(20040108_1)

  Modified files:
    include              stdinc.h 
    src                  service.c ucommand.c 
  Log:
  - s/MAXPATHLEN/PATH_MAX
  - linux needs <limits.h>
  
  Revision  Changes    Path
  1.7       +1 -0      rserv/include/stdinc.h
  1.8       +1 -1      rserv/src/service.c
  1.9       +1 -1      rserv/src/ucommand.c



leeh        2004/01/08 07:45:48 EST	(20040108_0)

  Added files:
    help                 Makefile.in 
  Log:
  - actually add the help Makefile.in
  
  Revision  Changes    Path
  1.1       +36 -0     rserv/help/Makefile.in (new)



leeh        2004/01/07 18:19:03 EST	(20040107_0)

  Modified files:
    include              config.h 
  Log:
  - revved patchlevel to rc1
  
  Revision  Changes    Path
  1.9       +1 -1      rserv/include/config.h



leeh        2004/01/04 06:35:07 EST	(20040104_0)

  Modified files:
    .                    Makefile.in configure 
    autoconf             configure.in 
  Log:
  - install help files on make install
  
  Revision  Changes    Path
  1.4       +7 -1      rserv/Makefile.in
  1.6       +1 -0      rserv/autoconf/configure.in
  1.6       +2 -0      rserv/configure



leeh        2004/01/03 15:02:57 EST	(20040103_3)

  Modified files:
    .                    LICENSE 
    doc                  example.conf 
    include              balloc.h c_init.h client.h config.h 
                         service.h stdinc.h tools.h ucommand.h 
    src                  .depend Makefile.in balloc.c c_error.c 
                         c_message.c c_mode.c channel.c client.c 
                         conf.c event.c fileio.c io.c log.c 
                         match.c rserv.c s_alis.c scommand.c 
                         service.c tools.c u_stats.c ucommand.c 
  Added files:
    help/alis            list 
    help/main            u-connect u-die u-events u-flags u-quit 
                         u-service u-stats u-status 
    include              cache.h 
    src                  cache.c 
  Removed files:
    src                  u_flags.c u_help.c 
  Log:
  - put *.c under a standard header
  - ported my cache.{c|h} from ircd-ratbox
  - moved the help stuff into files
  - init_blockheap() -> init_balloc() for consistency
  - services can now link in ucommand_handlers in their struct
  - restored statistics for services
  - u_flags.c,u_help.c -> ucommand.c
  - added some comments here and there
  - show_channel() -> print_channel(), added show_channel() to determine whether
    to display a channel or not (ALIS)
  
  Revision  Changes    Path
  1.3       +3 -2      rserv/LICENSE
  1.2       +2 -1      rserv/doc/example.conf
  1.1       +9 -0      rserv/help/alis/list (new)
  1.1       +2 -0      rserv/help/main/u-connect (new)
  1.1       +2 -0      rserv/help/main/u-die (new)
  1.1       +2 -0      rserv/help/main/u-events (new)
  1.1       +5 -0      rserv/help/main/u-flags (new)
  1.1       +2 -0      rserv/help/main/u-quit (new)
  1.1       +3 -0      rserv/help/main/u-service (new)
  1.1       +7 -0      rserv/help/main/u-stats (new)
  1.1       +2 -0      rserv/help/main/u-status (new)
  1.3       +4 -3      rserv/include/balloc.h
  1.10      +0 -6      rserv/include/c_init.h
  1.1       +31 -0     rserv/include/cache.h (new)
  1.10      +8 -0      rserv/include/client.h
  1.8       +4 -11     rserv/include/config.h
  1.6       +9 -5      rserv/include/service.h
  1.6       +1 -0      rserv/include/stdinc.h
  1.6       +2 -0      rserv/include/tools.h
  1.4       +8 -1      rserv/include/ucommand.h
  1.2       +18 -12    rserv/src/.depend
  1.11      +1 -2      rserv/src/Makefile.in
  1.3       +39 -41    rserv/src/balloc.c
  1.3       +4 -3      rserv/src/c_error.c
  1.9       +4 -3      rserv/src/c_message.c
  1.7       +5 -5      rserv/src/c_mode.c
  1.1       +121 -0    rserv/src/cache.c (new)
  1.12      +10 -5     rserv/src/channel.c
  1.11      +114 -10   rserv/src/client.c
  1.11      +4 -3      rserv/src/conf.c
  1.4       +5 -4      rserv/src/event.c
  1.2       +6 -5      rserv/src/fileio.c
  1.16      +94 -24    rserv/src/io.c
  1.4       +4 -3      rserv/src/log.c
  1.2       +5 -4      rserv/src/match.c
  1.16      +10 -7     rserv/src/rserv.c
  1.14      +66 -93    rserv/src/s_alis.c
  1.10      +5 -4      rserv/src/scommand.c
  1.7       +129 -11   rserv/src/service.c
  1.3       +48 -7     rserv/src/tools.c
  1.2       +0 -88     rserv/src/u_flags.c (dead)
  1.4       +0 -154    rserv/src/u_help.c (dead)
  1.5       +9 -2      rserv/src/u_stats.c
  1.8       +217 -30   rserv/src/ucommand.c



leeh        2004/01/03 15:01:02 EST	(20040103_2)

  rserv/help/main - New directory



leeh        2004/01/03 15:00:53 EST	(20040103_1)

  rserv/help/alis - New directory



leeh        2004/01/03 15:00:47 EST	(20040103_0)

  rserv/help - New directory



leeh        2004/01/02 17:59:45 EST	(20040102_1)

  Modified files:
    include              client.h service.h 
    src                  Makefile.in c_message.c s_alis.c 
                         service.c 
  Log:
  - reworked all the service handlers, now the error stuff is generic,
    as is help and the commands..
  
  Revision  Changes    Path
  1.9       +8 -2      rserv/include/client.h
  1.5       +27 -1     rserv/include/service.h
  1.10      +1 -1      rserv/src/Makefile.in
  1.8       +4 -3      rserv/src/c_message.c
  1.13      +141 -267  rserv/src/s_alis.c
  1.6       +123 -4    rserv/src/service.c



leeh        2004/01/02 17:04:11 EST	(20040102_0)

  Modified files:
    src                  client.c 
  Log:
  - patch from hwy to fix an invalid pointer reference
  
  Revision  Changes    Path
  1.10      +1 -1      rserv/src/client.c



leeh        2004/01/01 13:17:46 EST	(20040101_0)

  Modified files:
    include              balloc.h stdinc.h tools.h 
    src                  balloc.c channel.c client.c rserv.c 
  Log:
  - added init_blockheap() to main()
  - ported s_assert() from ircd-ratbox
  - reenabled s_assert() calls in balloc.c, added a couple in client.c
  - I forgot to change some (read: any) my_free() to BlockHeapFree() :P
  - dont fork under cygwin, dont check pidfile if not forking
  
  Revision  Changes    Path
  1.2       +1 -3      rserv/include/balloc.h
  1.5       +2 -0      rserv/include/stdinc.h
  1.5       +24 -0     rserv/include/tools.h
  1.2       +8 -7      rserv/src/balloc.c
  1.11      +2 -2      rserv/src/channel.c
  1.9       +27 -28    rserv/src/client.c
  1.15      +11 -3     rserv/src/rserv.c



leeh        2003/12/30 16:55:18 EST	(20031230_1)

  Added files:
    include              balloc.h 
    src                  balloc.c 
  Log:
  - added balloc.c/h
  
  Revision  Changes    Path
  1.1       +77 -0     rserv/include/balloc.h (new)
  1.1       +542 -0    rserv/src/balloc.c (new)



leeh        2003/12/30 16:53:04 EST	(20031230_0)

  Modified files:
    .                    configure 
    autoconf             configure.in 
    include              config.h io.h setup.h.in 
    src                  Makefile.in channel.c client.c io.c 
                         rserv.c scommand.c 
  Log:
  - ported the balloc from ircd-ratbox
  - added CONN_HANDSHAKE, for servers who have connected sockets, but havent
    authed yet
  - changed the connect notices, so we gve "established" on a sockets
    connection and "completed" when we receive a PONG
  - added a check that the servername equals the one in the C:
  - added a handler for PONG
  
  Revision  Changes    Path
  1.5       +1 -1      rserv/autoconf/configure.in
  1.5       +1 -1      rserv/configure
  1.7       +26 -1     rserv/include/config.h
  1.8       +5 -2      rserv/include/io.h
  1.4       +3 -0      rserv/include/setup.h.in
  1.9       +1 -0      rserv/src/Makefile.in
  1.10      +9 -2      rserv/src/channel.c
  1.8       +30 -5     rserv/src/client.c
  1.15      +21 -3     rserv/src/io.c
  1.14      +1 -1      rserv/src/rserv.c
  1.9       +33 -4     rserv/src/scommand.c



leeh        2003/12/26 16:45:24 EST	(20031226_8)

  Modified files:
    src                  Makefile.in 
  Added files:
    src                  .depend 
  Log:
  - add a .depend file
  - add u_flags.c to Makefile
  
  Revision  Changes    Path
  1.1       +73 -0     rserv/src/.depend (new)
  1.8       +1 -0      rserv/src/Makefile.in



leeh        2003/12/26 16:43:14 EST	(20031226_7)

  Modified files:
    .                    Makefile.in configure 
    autoconf             configure.in 
    include              c_init.h config.h io.h log.h setup.h.in 
    src                  Makefile.in c_error.c event.c io.c log.c 
                         rserv.c s_alis.c u_help.c u_stats.c 
                         ucommand.c 
  Added files:
    doc                  example.conf 
    src                  u_flags.c 
  Log:
  - added configure/Makefile stuff for linking in libs
  - check for crypt()
  - added CRYPT_PASSWORDS, controls whether crypted passwords are used
  - added an example config file
  - added .flags, controlling which messages clients get
  - implemented a 'partyline'
  - sendto_connection() -> sendto_one()
  - sendto_connections() -> sendto_all()
  - added sendto_all_butone()
  - removed slog_send(), added sendto_all() function calls
  
  Revision  Changes    Path
  1.3       +2 -0      rserv/Makefile.in
  1.4       +3 -1      rserv/autoconf/configure.in
  1.4       +126 -30   rserv/configure
  1.1       +114 -0    rserv/doc/example.conf (new)
  1.9       +4 -1      rserv/include/c_init.h
  1.6       +5 -0      rserv/include/config.h
  1.7       +17 -6     rserv/include/io.h
  1.4       +0 -1      rserv/include/log.h
  1.3       +7 -1      rserv/include/setup.h.in
  1.7       +4 -3      rserv/src/Makefile.in
  1.2       +4 -2      rserv/src/c_error.c
  1.3       +4 -4      rserv/src/event.c
  1.14      +128 -30   rserv/src/io.c
  1.3       +0 -14     rserv/src/log.c
  1.13      +1 -0      rserv/src/rserv.c
  1.12      +10 -11    rserv/src/s_alis.c
  1.1       +88 -0     rserv/src/u_flags.c (new)
  1.3       +20 -12    rserv/src/u_help.c
  1.4       +17 -19    rserv/src/u_stats.c
  1.7       +52 -44    rserv/src/ucommand.c



leeh        2003/12/26 16:42:14 EST	(20031226_6)

  rserv/doc - New directory



leeh        2003/12/26 16:41:00 EST	(20031226_5)

  Modified files:
    .                    LICENSE Makefile.in configure 
    autoconf             configure.in 
    include              config.h 
    src                  Makefile.in conf.c 
  Added files:
    .                    INSTALL 
  Removed files:
    .                    ASSUMPTIONS 
  Log:
  - added a CREDITS file
  - added an INSTALL file
  - added make install, and support for --prefix on configure
  - die() when we cant open the conf file
  - remove old unused ASSUMPTIONS file
  
  Revision  Changes    Path
  1.3       +0 -3      rserv/ASSUMPTIONS (dead)
  1.1       +21 -0     rserv/INSTALL (new)
  1.2       +3 -0      rserv/LICENSE
  1.2       +8 -0      rserv/Makefile.in
  1.3       +1 -0      rserv/autoconf/configure.in
  1.3       +128 -32   rserv/configure
  1.5       +27 -1     rserv/include/config.h
  1.6       +8 -6      rserv/src/Makefile.in
  1.10      +4 -1      rserv/src/conf.c



leeh        2003/12/26 16:39:48 EST	(20031226_4)

  Modified files:
    include              channel.h config.h io.h tools.h 
                         ucommand.h 
    src                  Makefile.in c_message.c channel.c conf.c 
                         io.c s_alis.c scommand.c tools.c u_help.c 
                         u_stats.c ucommand.c 
  Log:
  - add PING_TIME, how often a server can be idle before we send a PING, double
    this with no data will cause a server to be exited
  - added get_sendq(), so the sendq bit in stats u/.stats uplink works
  - moved getfield() tools.c -> conf.c
  - moved get_duration() stats.c -> tools.c
  - stats.c is now u_stats.c, which only contains .stats
  - reworked .help, list_ucommand() is gone, now have extended help too
  - improved .status a bit to give channel/topic counts etc
  - reset the ALIS flood values to something sensible
  
  Revision  Changes    Path
  1.4       +2 -0      rserv/include/channel.h
  1.4       +2 -0      rserv/include/config.h
  1.6       +3 -0      rserv/include/io.h
  1.4       +2 -2      rserv/include/tools.h
  1.3       +0 -2      rserv/include/ucommand.h
  1.5       +1 -1      rserv/src/Makefile.in
  1.7       +0 -1      rserv/src/c_message.c
  1.9       +24 -0     rserv/src/channel.c
  1.9       +31 -0     rserv/src/conf.c
  1.13      +38 -0     rserv/src/io.c
  1.11      +2 -2      rserv/src/s_alis.c
  1.8       +2 -2      rserv/src/scommand.c
  1.2       +16 -25    rserv/src/tools.c
  1.2       +132 -3    rserv/src/u_help.c
  1.3       +5 -24     rserv/src/u_stats.c
  1.6       +12 -49    rserv/src/ucommand.c



leeh        2003/12/26 16:37:46 EST	(20031226_3)

  Modified files:
    include              c_init.h 
    src                  client.c rserv.c s_alis.c scommand.c 
                         stats.c ucommand.c 
  Log:
  - renamed .stats to .service, which now lists the services in use
  - added .stats command to get various statistics, uses a table of commands
    and functions, currently has:
      opers, servers, uplink, uptime
  - c_nick() wasnt setting a clients gecos
  - cleaned up alis stats a bit
  - added WHOIS command handling
  - finished TRACE command handling
  
  Revision  Changes    Path
  1.8       +3 -0      rserv/include/c_init.h
  1.7       +3 -1      rserv/src/client.c
  1.12      +1 -0      rserv/src/rserv.c
  1.10      +8 -6      rserv/src/s_alis.c
  1.7       +76 -1     rserv/src/scommand.c
  1.2       +99 -0     rserv/src/stats.c
  1.5       +27 -15    rserv/src/ucommand.c



leeh        2003/12/26 16:36:16 EST	(20031226_2)

  Modified files:
    include              c_init.h event.h ucommand.h 
    src                  Makefile.in event.c rserv.c s_alis.c 
                         scommand.c ucommand.c 
  Added files:
    src                  stats.c u_help.c 
  Log:
  - added event_show() to list events to a given connection
  - added .events command to list events
  - get_duration() to convert seconds into string form of duration
  - added .help command, simply walks the ucommand hash listing commands
  - added alis stats
  - fix VERSION to not have release hardcoded
  - STATS fix so 'C' shows autoconn setting properly, and port
  - STATS u/v now use get_duration()
  - added .status command to get basic status information
  
  Revision  Changes    Path
  1.7       +3 -0      rserv/include/c_init.h
  1.3       +4 -0      rserv/include/event.h
  1.2       +2 -0      rserv/include/ucommand.h
  1.4       +2 -0      rserv/src/Makefile.in
  1.2       +18 -0     rserv/src/event.c
  1.11      +2 -0      rserv/src/rserv.c
  1.9       +40 -2     rserv/src/s_alis.c
  1.6       +16 -39    rserv/src/scommand.c
  1.1       +24 -0     rserv/src/stats.c (new)
  1.1       +17 -0     rserv/src/u_help.c (new)
  1.4       +78 -0     rserv/src/ucommand.c



leeh        2003/12/26 16:34:53 EST	(20031226_1)

  Modified files:
    include              c_init.h conf.h io.h 
    src                  Makefile.in conf.c io.c rserv.c 
                         ucommand.c 
  Added files:
    src                  c_error.c 
  Log:
  - add "ERROR" command handling
  - remove the hardcoding of server password, make it use the one in C:
  - only positive ports in a C: enable autoconn, negative ports are allowed
    as 'default' ports on .connect
  - fix the autoconn stuff, we now store when last connect was and use that to
    decide where to connect to
  - cleaned the notice in die() up
  - remove rserv.exe on clean, for cygwin
  
  Revision  Changes    Path
  1.6       +3 -1      rserv/include/c_init.h
  1.5       +2 -0      rserv/include/conf.h
  1.5       +1 -0      rserv/include/io.h
  1.3       +2 -1      rserv/src/Makefile.in
  1.1       +28 -0     rserv/src/c_error.c (new)
  1.8       +5 -5      rserv/src/conf.c
  1.12      +45 -16    rserv/src/io.c
  1.10      +5 -6      rserv/src/rserv.c
  1.3       +12 -9     rserv/src/ucommand.c



leeh        2003/12/26 16:33:57 EST	(20031226_0)

  Modified files:
    include              client.h conf.h io.h log.h service.h 
                         stdinc.h 
    src                  c_message.c conf.c io.c log.c rserv.c 
                         s_alis.c service.c ucommand.c 
  Log:
  in true blue peter style, here are some commits I prepared earlier..
  
  - removed receive passwords from C:, just have a single send password
  - added O: controlling who can DCC services, and requiring logins for
    commands
  - store username/host in connecting clients so we can auth against O:
  - added sendto_connections() to send to all users
  - added slog_send() to log and send to users
  - make a few logging things send to users too
  - added generic stats handlers for services
  - fix parser bug on commands with no params
  - added .login command
  - added .die command
  - added .stats command, to use the generic service stats handler
  - added .connect command, to connect to a specific server
  
  Revision  Changes    Path
  1.8       +4 -0      rserv/include/client.h
  1.4       +17 -2     rserv/include/conf.h
  1.4       +8 -1      rserv/include/io.h
  1.3       +1 -0      rserv/include/log.h
  1.4       +2 -0      rserv/include/service.h
  1.4       +1 -0      rserv/include/stdinc.h
  1.6       +2 -2      rserv/src/c_message.c
  1.7       +117 -9    rserv/src/conf.c
  1.11      +80 -40    rserv/src/io.c
  1.2       +15 -0     rserv/src/log.c
  1.9       +1 -1      rserv/src/rserv.c
  1.8       +9 -1      rserv/src/s_alis.c
  1.5       +1 -0      rserv/src/service.c
  1.2       +149 -1    rserv/src/ucommand.c



leeh        2003/12/18 19:29:58 EST	(20031219_0)

  Modified files:
    src                  c_message.c conf.c io.c 
  Log:
  - send errors to client on invalid dcc requests
  - made conf parser add connects to tail, so theyre tried in order of conf
  - kludged support for multiple servers, atm it takes the head element,
    tries it then moves it to the tail.
  
  Revision  Changes    Path
  1.5       +21 -0     rserv/src/c_message.c
  1.6       +1 -1      rserv/src/conf.c
  1.10      +11 -1     rserv/src/io.c



leeh        2003/12/18 15:39:38 EST	(20031218_3)

  Modified files:
    include              client.h io.h scommand.h 
    src                  Makefile.in c_message.c c_mode.c 
                         channel.c client.c io.c rserv.c 
                         scommand.c service.c 
  Added files:
    include              ucommand.h 
    src                  ucommand.c 
  Log:
  - added support for dcc connections, currently allows anyone opered to
    dcc until I put in some ACLs
  - added user command framework
  - command.{c|h} was renamed to scommand.{c|h}, fix Makefile/includes
  
  Revision  Changes    Path
  1.7       +3 -3      rserv/include/client.h
  1.3       +5 -1      rserv/include/io.h
  1.2       +5 -4      rserv/include/scommand.h
  1.1       +21 -0     rserv/include/ucommand.h (new)
  1.2       +3 -2      rserv/src/Makefile.in
  1.4       +47 -1     rserv/src/c_message.c
  1.6       +1 -1      rserv/src/c_mode.c
  1.8       +1 -1      rserv/src/channel.c
  1.6       +1 -1      rserv/src/client.c
  1.9       +215 -19   rserv/src/io.c
  1.8       +4 -2      rserv/src/rserv.c
  1.5       +7 -7      rserv/src/scommand.c
  1.4       +1 -1      rserv/src/service.c
  1.1       +76 -0     rserv/src/ucommand.c (new)



leeh        2003/12/18 13:03:04 EST	(20031218_2)

  Modified files:
    src                  io.c 
  Log:
  - fix so when we connect() somewhere, we test we can write to it, not read
    to it
  - make signon_to_server() a write function, which checks for the connect()
    having gone wrong.
  
  Revision  Changes    Path
  1.8       +22 -7     rserv/src/io.c



leeh        2003/12/18 09:08:02 EST	(20031218_1)

  Modified files:
    src                  io.c 
  Log:
  - added timeouts for places we connect to
  - fix a core when trying to send to a dead server
  
  Revision  Changes    Path
  1.7       +14 -2     rserv/src/io.c



leeh        2003/12/18 08:25:35 EST	(20031218_0)

  Modified files:
    src                  io.c 
  Log:
  - added logging for connections/disconnections from the server
  - added ignore_errno() so the proper read()/write() errors are ignored
  
  Revision  Changes    Path
  1.6       +83 -15    rserv/src/io.c



leeh        2003/12/17 17:27:07 EST	(20031217_0)

  Modified files:
    src                  client.c rserv.c 
  Log:
  - add in some services fight checking
  - fix to show right pid after the fork()
  
  Revision  Changes    Path
  1.5       +21 -0     rserv/src/client.c
  1.7       +6 -2      rserv/src/rserv.c



leeh        2003/12/15 15:43:46 EST	(20031215_0)

  Modified files:
    include              c_init.h client.h service.h 
    src                  c_message.c c_mode.c channel.c conf.c 
                         rserv.c s_alis.c service.c 
  Log:
  - implemented service flood protection for ALIS.  allow upto 40 points,
    "help" = 1, "help list" = 2, "list" = 3, 5 points removed per second
  - added some comments to c_mode.c/channel.c
  - check service name doesnt contain a '.'
  - ALIS cleanups:
    - added a struct query to hold the query variables
    - made printing a channel its own function
    - made parsing the options its own function
  
  Revision  Changes    Path
  1.5       +1 -1      rserv/include/c_init.h
  1.6       +2 -0      rserv/include/client.h
  1.3       +2 -1      rserv/include/service.h
  1.3       +1 -1      rserv/src/c_message.c
  1.5       +12 -0     rserv/src/c_mode.c
  1.7       +81 -1     rserv/src/channel.c
  1.5       +6 -0      rserv/src/conf.c
  1.6       +4 -2      rserv/src/rserv.c
  1.7       +239 -201  rserv/src/s_alis.c
  1.3       +28 -5     rserv/src/service.c



leeh        2003/12/13 11:13:10 EST	(20031213_0)

  Modified files:
    .                    configure 
    autoconf             configure.in 
    include              client.h config.h rserv.h service.h 
                         setup.h.in 
    src                  c_mode.c channel.c client.c conf.c io.c 
                         rserv.c s_alis.c service.c 
  Log:
  - added -f [foreground] -v [version] -h [help] options to the daemon, with
    some getopt() stuff.
  - added setup_corefile()
  - added stuff for reading/writing pids to check we're not already running
  - move parse_server() rserv.c -> io.c, and clean up io.c
  - remove some debugging log stuff
  - added conf options to define a service's nick/user/host/gecos/opered
    status
  
  Revision  Changes    Path
  1.2       +1 -1      rserv/autoconf/configure.in
  1.2       +1 -1      rserv/configure
  1.5       +3 -0      rserv/include/client.h
  1.3       +6 -2      rserv/include/config.h
  1.3       +1 -3      rserv/include/rserv.h
  1.2       +4 -0      rserv/include/service.h
  1.2       +3 -0      rserv/include/setup.h.in
  1.4       +0 -50     rserv/src/c_mode.c
  1.6       +0 -6      rserv/src/channel.c
  1.4       +3 -8      rserv/src/client.c
  1.4       +68 -1     rserv/src/conf.c
  1.5       +216 -56   rserv/src/io.c
  1.5       +110 -115  rserv/src/rserv.c
  1.6       +1 -1      rserv/src/s_alis.c
  1.2       +21 -2     rserv/src/service.c



leeh        2003/12/12 17:44:45 EST	(20031212_1)

  Modified files:
    include              conf.h stdinc.h tools.h 
    src                  conf.c io.c 
  Added files:
    .                    Makefile.in configure 
    autoconf             configure.in install-sh 
    include              setup.h.in 
    src                  Makefile.in 
  Removed files:
    src                  Makefile 
  Log:
  - added autoconf stuff
  - made includes and functions use configure output
  - added support for vhosting
  
  Revision  Changes    Path
  1.1       +45 -0     rserv/Makefile.in (new)
  1.1       +27 -0     rserv/autoconf/configure.in (new)
  1.1       +253 -0    rserv/autoconf/install-sh (new)
  1.1       +1752 -0   rserv/configure (new)
  1.3       +2 -0      rserv/include/conf.h
  1.1       +43 -0     rserv/include/setup.h.in (new)
  1.3       +25 -1     rserv/include/stdinc.h
  1.3       +2 -0      rserv/include/tools.h
  1.3       +0 -60     rserv/src/Makefile (dead)
  1.1       +51 -0     rserv/src/Makefile.in (new)
  1.3       +13 -5     rserv/src/conf.c
  1.4       +5 -1      rserv/src/io.c



leeh        2003/12/12 17:38:44 EST	(20031212_0)

  rserv/autoconf - New directory



leeh        2003/12/11 10:05:56 EST	(20031211_2)

  Modified files:
    src                  command.c rserv.c s_alis.c 
  Log:
  - implemented ALIS -skip to skip first n matches
  - implemented ALIS -topic to search for topics
  
  Revision  Changes    Path
  1.4       +1 -1      rserv/src/command.c
  1.4       +1 -2      rserv/src/rserv.c
  1.5       +69 -3     rserv/src/s_alis.c



leeh        2003/12/11 09:13:46 EST	(20031211_1)

  Modified files:
    src                  channel.c io.c s_alis.c 
  Log:
  - implemented support for topic bursting
  - implemented -show [m][t] into ALIS
  
  Revision  Changes    Path
  1.5       +32 -0     rserv/src/channel.c
  1.3       +1 -1      rserv/src/io.c
  1.4       +52 -3     rserv/src/s_alis.c



leeh        2003/12/11 05:50:57 EST	(20031211_0)

  Modified files:
    include              channel.h client.h 
    src                  channel.c s_alis.c 
  Log:
  - added support for parsing TOPIC
  - added some error messages to alis..
  
  Revision  Changes    Path
  1.3       +4 -0      rserv/include/channel.h
  1.4       +2 -0      rserv/include/client.h
  1.4       +32 -0     rserv/src/channel.c
  1.3       +63 -3     rserv/src/s_alis.c



leeh        2003/12/10 10:31:27 EST	(20031210_0)

  Modified files:
    include              c_init.h 
    src                  c_message.c channel.c rserv.c s_alis.c 
  Log:
  - disable notice for now
  - more work on alis..
  
  Revision  Changes    Path
  1.4       +1 -1      rserv/include/c_init.h
  1.2       +1 -1      rserv/src/c_message.c
  1.3       +1 -0      rserv/src/channel.c
  1.3       +1 -1      rserv/src/rserv.c
  1.2       +281 -1    rserv/src/s_alis.c



leeh        2003/12/08 19:23:57 EST	(20031209_0)

  Modified files:
    include              c_init.h client.h 
    src                  Makefile c_mode.c client.c command.c io.c 
                         rserv.c 
  Added files:
    include              service.h 
    src                  c_message.c s_alis.c service.c 
  Log:
  - finished off the service handlers
  - added support for PRIVMSG/NOTICE, and tied it into service handlers
  - added framework for the alis service
  
  Revision  Changes    Path
  1.3       +7 -0      rserv/include/c_init.h
  1.3       +2 -1      rserv/include/client.h
  1.1       +22 -0     rserv/include/service.h (new)
  1.2       +4 -0      rserv/src/Makefile
  1.1       +55 -0     rserv/src/c_message.c (new)
  1.3       +1 -1      rserv/src/c_mode.c
  1.3       +14 -3     rserv/src/client.c
  1.3       +1 -1      rserv/src/command.c
  1.2       +3 -0      rserv/src/io.c
  1.2       +6 -0      rserv/src/rserv.c
  1.1       +24 -0     rserv/src/s_alis.c (new)
  1.1       +81 -0     rserv/src/service.c (new)



leeh        2003/12/08 18:02:02 EST	(20031208_3)

  Modified files:
    include              c_init.h channel.h client.h config.h 
                         event.h io.h log.h rserv.h stdinc.h 
                         tools.h 
    src                  c_mode.c channel.c client.c 
  Log:
  - added Id headers to include files
  - split channel modes into its own struct
  - parse a keyed sjoin properly
  - get_chmember() -> find_chmember()
  - added initial services storage
  - support for MODE on channels
  - support for KICK
  
  Revision  Changes    Path
  1.2       +1 -0      rserv/include/c_init.h
  1.2       +13 -5     rserv/include/channel.h
  1.2       +10 -0     rserv/include/client.h
  1.2       +1 -0      rserv/include/config.h
  1.2       +1 -0      rserv/include/event.h
  1.2       +1 -0      rserv/include/io.h
  1.2       +1 -0      rserv/include/log.h
  1.2       +6 -0      rserv/include/rserv.h
  1.2       +1 -0      rserv/include/stdinc.h
  1.2       +1 -0      rserv/include/tools.h
  1.2       +189 -0    rserv/src/c_mode.c
  1.2       +121 -59   rserv/src/channel.c
  1.2       +71 -8     rserv/src/client.c



leeh        2003/12/07 22:04:14 EST	(20031208_2)

  Added files:
    src                  .cvsignore 
  Log:
  - add a .cvsignore to hide stuff that should be there..
  
  Revision  Changes    Path
  1.1       +4 -0      rserv/src/.cvsignore (new)



leeh        2003/12/07 21:52:49 EST	(20031208_1)

  Modified files:
    include              conf.h 
    src                  command.c conf.c 
  Log:
  - added support for trace
  - added A:<admin1>:<admin2>:<admin3> to conf file parser
  - added support for admin
  
  Revision  Changes    Path
  1.2       +5 -0      rserv/include/conf.h
  1.2       +46 -3     rserv/src/command.c
  1.2       +21 -4     rserv/src/conf.c



leeh        2003/12/07 21:19:27 EST	(20031208_0)

  Added files:
    include              serno.h 
  Log:
  - add serno.h..
  
  Revision  Changes    Path
  1.1       +1 -0      rserv/include/serno.h (new)



leeh        2003/12/07 21:09:02 EST

  Added files:
    .                    ChangeLog 
  Log:
  - changelog test
  
  Revision  Changes    Path
  1.1       +0 -0      rserv/ChangeLog (new)



