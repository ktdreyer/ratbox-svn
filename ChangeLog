leeh        2006/03/12 13:51:36 UTC	(20060312_3-22083)
  Log:
  - add optional email verification for USERSERV::REGISTER, this will email
    users a password instead that they need to login with
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/include/s_userserv.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/12 12:44:48 UTC	(20060312_2-22081)
  Log:
  - prune changelog to purely 1.1
  

  Modified:
	rserv/trunk/ChangeLog (File Modified) 


leeh        2006/03/12 12:11:07 UTC	(20060312_1-22079)
  Log:
  - add email_number and email_duration to email {};, giving an upper limit on
    how many emails we will send in a given duration
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/include/email.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/email.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/12 11:38:00 UTC	(20060312_0-22077)
  Log:
  - fix include ordering so these two compile
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 


leeh        2006/03/11 23:25:53 UTC	(20060311_7-22073)
  Log:
  - handle short reads properly, we were treating a recv() of part of a line
    as an entire line, then ignoring the remainder the next time we pulled a
    line.
  
    We now store buffers for each connection and keep appending to this buffer
    until either we get a full line, or we've read BUFSIZE without a \n, at
    which point we parse.
  

  Modified:
	rserv/trunk/include/io.h (File Modified) 
	rserv/trunk/src/c_error.c (File Modified) 
	rserv/trunk/src/c_message.c (File Modified) 
	rserv/trunk/src/io.c (File Modified) 
	rserv/trunk/src/s_alis.c (File Modified) 
	rserv/trunk/src/s_global.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2006/03/11 21:32:51 UTC	(20060311_6-22071)
  Log:
  - port 22069
    - give a warning when a users introduced on a non-existant server, rather
      than coring
  

  Modified:
	rserv/trunk/src/client.c (File Modified) 


leeh        2006/03/11 19:52:09 UTC	(20060311_5-22067)
  Log:
  - move email configuration into its own email {}; block
  - add in disable_email = yes|no; to email {};, which will stop us ever
    sending emails.
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/email.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/11 19:35:46 UTC	(20060311_4-22065)
  Log:
  - add an event in to expire things from users_resetpass
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/11 19:30:22 UTC	(20060311_3-22063)
  Log:
  - add resetpass_duration = <time>; to userserv {};, controls how long
    resetpass requests are kept around waiting for confirmation
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/11 19:17:25 UTC	(20060311_2-22061)
  Log:
  - fix operator::user in conf parser to deal with the fact lists are now
    ordered correctly
  

  Modified:
	rserv/trunk/src/newconf.c (File Modified) 


leeh        2006/03/11 18:48:10 UTC	(20060311_1-22055)
  Log:
  - the omode priv listed here is actually osmode
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 


leeh        2006/03/11 18:35:13 UTC	(20060311_0-22053)
  Log:
  - port r22051
    - fix banserv losing permanent bans
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2006/03/09 19:36:19 UTC	(20060309_5-22049)
  Log:
  - rework the email conf options so they take a list of quoted strings
    containing the email prog and its arguments
  - make send_email() go back to using the conf email program
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/email.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/parser.y (File Modified) 


leeh        2006/03/09 19:12:38 UTC	(20060309_4-22047)
  Log:
  - sqlite expects these to be signed..
  

  Modified:
	rserv/trunk/include/rsdb.h (File Modified) 


leeh        2006/03/09 18:42:54 UTC	(20060309_3-22045)
  Log:
  - add NULL terminator to the sendmail args
  

  Modified:
	rserv/trunk/src/email.c (File Modified) 


leeh        2006/03/09 18:26:33 UTC	(20060309_2-22043)
  Log:
  - update schemas with users_resetpass
  

  Modified:
	rserv/trunk/doc/base/schema-mysql.txt (File Modified) 
	rserv/trunk/doc/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/doc/schema-sqlite.txt (File Modified) 


jilles      2006/03/09 09:34:05 UTC	(20060309_1-22037)
  Log:
  Be a little more friendly to users who try to register
  a nick without a registered username.
  

  Modified:
	rserv/trunk/src/s_nickserv.c (File Modified) 


jilles      2006/03/09 09:24:21 UTC	(20060309_0-22035)
  Log:
  Bring email sending code closer to working.
  Needed to add <sys/wait.h> to stdinc.h.
  

  Modified:
	rserv/trunk/include/stdinc.h (File Modified) 
	rserv/trunk/src/email.c (File Modified) 


leeh        2006/03/08 22:27:54 UTC	(20060308_5-22033)
  Log:
  - dont use popen() when sending emails, but do the sockets ourselves
    - This code is broken, needs fixing.
  

  Modified:
	rserv/trunk/src/email.c (File Modified) 


leeh        2006/03/08 21:52:59 UTC	(20060308_4-22031)
  Log:
  - add in the mysql implementation of mysql_exec_fetch()
  - make col_count and row_count in struct rsdb_table unsigned
  

  Modified:
	rserv/trunk/include/rsdb.h (File Modified) 
	rserv/trunk/src/rsdb_mysql.c (File Modified) 


leeh        2006/03/08 21:20:39 UTC	(20060308_3-22029)
  Log:
  - remove rsdb_step() and friends
  

  Modified:
	rserv/trunk/include/rsdb.h (File Modified) 
	rserv/trunk/src/rsdb_mysql.c (File Modified) 
	rserv/trunk/src/rsdb_sqlite.c (File Modified) 


leeh        2006/03/08 21:19:16 UTC	(20060308_2-22027)
  Log:
  - remove usage of rsdb_step(), opting instead for rsdb_exec_fetch()
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/08 20:50:54 UTC	(20060308_1-22025)
  Log:
  - make rsdb_exec_fetch() handle no rows being returned properly
  

  Modified:
	rserv/trunk/src/rsdb_sqlite.c (File Modified) 


leeh        2006/03/08 20:28:26 UTC	(20060308_0-22023)
  Log:
  - add in rsdb_exec_fetch(), which allocates an entire result set into memory
  - make the global code use rsdb_exec_fetch()
  

  Modified:
	rserv/trunk/include/rsdb.h (File Modified) 
	rserv/trunk/src/rsdb_sqlite.c (File Modified) 
	rserv/trunk/src/s_global.c (File Modified) 


leeh        2006/03/06 21:53:02 UTC	(20060306_4-22019)
  Log:
  - remove colnames from the db interface.. we dont use it and it will make
    pgsql easier
  

  Modified:
	rserv/trunk/include/rsdb.h (File Modified) 
	rserv/trunk/src/rsdb_mysql.c (File Modified) 
	rserv/trunk/src/rsdb_sqlite.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_global.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/06 21:25:32 UTC	(20060306_3-22017)
  Log:
  - actually call init_crypt_seed()
  - make USERSERV::REGISTER use crypt.c stuff to generate random passwords
  

  Modified:
	rserv/trunk/include/rserv.h (File Modified) 
	rserv/trunk/src/crypt.c (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/06 21:16:39 UTC	(20060306_2-22015)
  Log:
  - add the beginnings of USERSERV::RESETPASS, to email users a password reset
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/06 21:16:09 UTC	(20060306_1-22013)
  Log:
  - port those crypt.c fixes over here
  

  Modified:
	rserv/trunk/src/crypt.c (File Modified) 


androsyn    2006/03/06 20:33:37 UTC	(20060306_0-22011)
  Log:
  - add postgresql schema
  - set Id tag property on schema-mysql.txt 
  
  

  Modified:
	rserv/trunk/doc/base/schema-mysql.txt  (Property Modified)
	rserv/trunk/doc/base/schema-pgsql.txt (File Added) 
	rserv/trunk/doc/generate-schema.pl (File Modified) 


leeh        2006/03/05 20:22:13 UTC	(20060305_3-22001)
  Log:
  - better make this 1.1.0beta
  

  Modified:
	rserv/trunk/include/config.h (File Modified) 


leeh        2006/03/05 19:48:08 UTC	(20060305_2-21997)
  Log:
  - do welcome messages a bit differently, just have 0-5 places to store them
    and use an array
  - add GLOBAL::LISTWELCOME
  

  Modified:
	rserv/trunk/doc/base/schema-mysql.txt (File Modified) 
	rserv/trunk/doc/schema-sqlite.txt (File Modified) 
	rserv/trunk/help/global/addwelcome (File Modified) 
	rserv/trunk/help/global/index-admin (File Modified) 
	rserv/trunk/help/global/listwelcome (File Added) 
	rserv/trunk/help/global/u-addwelcome (File Modified) 
	rserv/trunk/help/global/u-listwelcome (File Added) 
	rserv/trunk/src/s_global.c (File Modified) 


leeh        2006/03/05 14:12:20 UTC	(20060305_1-21995)
  Log:
  - add global welcome priv to example.conf
  - update schema with global_welcome table
  

  Modified:
	rserv/trunk/doc/base/schema-mysql.txt (File Modified) 
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/doc/schema-sqlite.txt (File Modified) 


leeh        2006/03/05 14:10:06 UTC	(20060305_0-21993)
  Log:
  - add dlink_add_before(), to add a node before another one in a given list
  - add welcome messages to the global service, messages sent whenever a user
    connects to the network.
  

  Modified:
	rserv/trunk/help/global/addwelcome (File Added) 
	rserv/trunk/help/global/delwelcome (File Added) 
	rserv/trunk/help/global/general (File Modified) 
	rserv/trunk/help/global/index (File Modified) 
	rserv/trunk/help/global/index-admin (File Modified) 
	rserv/trunk/help/global/u-addwelcome (File Added) 
	rserv/trunk/help/global/u-delwelcome (File Added) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/include/tools.h (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_global.c (File Modified) 
	rserv/trunk/src/tools.c (File Modified) 


leeh        2006/03/04 23:48:02 UTC	(20060304_5-21991)
  Log:
  - add code for sending emails
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/include/email.h (File Added) 
	rserv/trunk/src/Makefile.in (File Modified) 
	rserv/trunk/src/email.c (File Added) 
	rserv/trunk/src/newconf.c (File Modified) 


leeh        2006/03/04 22:10:30 UTC	(20060304_4-21989)
  Log:
  - rsdb_step() shouldnt be using a while() loop, and def shouldnt be
    returning 1 when there isnt a row left..
  

  Modified:
	rserv/trunk/src/rsdb_mysql.c (File Modified) 


leeh        2006/03/04 22:02:54 UTC	(20060304_3-21987)
  Log:
  - fix rsdb_step() so it actually works on real memory
  

  Modified:
	rserv/trunk/src/rsdb_mysql.c (File Modified) 


leeh        2006/03/04 21:53:09 UTC	(20060304_2-21985)
  Log:
  - conf parser depends on having services client pointers, so load these
    before we parse the conf.  database depends on conf, so do that after and
    then call a post init function in services.
  

  Modified:
	rserv/trunk/include/c_init.h (File Modified) 
	rserv/trunk/include/client.h (File Modified) 
	rserv/trunk/include/service.h (File Modified) 
	rserv/trunk/src/rsdb_mysql.c (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/s_alis.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_global.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


leeh        2006/03/04 21:49:34 UTC	(20060304_1-21983)
  Log:
  - dont attempt to do anything to a channels modestrings if they dont
    actually exist
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2006/03/04 21:40:44 UTC	(20060304_0-21981)
  Log:
  - make configure properly follow --with-sqlitebuild
  

  Modified:
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 


leeh        2006/03/03 21:17:10 UTC	(20060303_0-21979)
  Log:
  - add in some error checking and tidy up the code a bit
  

  Modified:
	rserv/trunk/src/rsdb_mysql.c (File Modified) 


leeh        2006/03/02 21:58:56 UTC	(20060302_5-21977)
  Log:
  - port over the full vsnprintf() from ircd-ratbox, and make this die() if it
    gets a format string it cant handle
  

  Modified:
	rserv/trunk/include/rserv.h (File Modified) 
	rserv/trunk/include/tools.h (File Modified) 
	rserv/trunk/src/Makefile.in (File Modified) 
	rserv/trunk/src/snprintf.c (File Added) 
	rserv/trunk/src/tools.c (File Modified) 


leeh        2006/03/02 21:15:34 UTC	(20060302_4-21975)
  Log:
  - remove doc/schema.txt from this Makefile.in
  

  Modified:
	rserv/trunk/Makefile.in (File Modified) 


leeh        2006/03/02 20:03:44 UTC	(20060302_3-21973)
  Log:
  - add a variety of warnings that the db tables shouldnt be modified
  

  Modified:
	rserv/trunk/INSTALL (File Modified) 
	rserv/trunk/INSTALL.mysql (File Modified) 
	rserv/trunk/README (File Modified) 


leeh        2006/03/02 19:58:31 UTC	(20060302_2-21971)
  Log:
  - add another XXX in rsdb_mysql.c where I need to fix something
  - add in specific install files for the database backends
  

  Modified:
	rserv/trunk/INSTALL (File Modified) 
	rserv/trunk/INSTALL.mysql (File Added) 
	rserv/trunk/INSTALL.sqlite (File Added) 
	rserv/trunk/src/rsdb_mysql.c (File Modified) 


leeh        2006/03/02 19:31:01 UTC	(20060302_1-21969)
  Log:
  - add in the mysql database backend
  - update configure so it takes --enable-mysql and --enable-sqlite to choose
    the database backend
  

  Modified:
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 
	rserv/trunk/src/Makefile.in (File Modified) 
	rserv/trunk/src/rsdb_mysql.c (File Added) 


leeh        2006/03/02 16:01:34 UTC	(20060302_0-21967)
  Log:
  - make the database callbacks use (const char **)
  

  Modified:
	rserv/trunk/include/rsdb.h (File Modified) 
	rserv/trunk/src/rsdb_sqlite.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/01 22:22:47 UTC	(20060301_1-21965)
  Log:
  - add db_host too, to specify hostname to connect to
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 


leeh        2006/03/01 18:21:04 UTC	(20060301_0-21955)
  Log:
  - add in new database {}; section, to control how we connect to the backened
    database server
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 


leeh        2006/02/28 21:59:05 UTC	(20060228_8-21949)
  Log:
  - make generate-schema.pl executable (I hope..)
  

  Modified:
	rserv/trunk/doc/generate-schema.pl  (Property Modified)


leeh        2006/02/28 21:55:10 UTC	(20060228_7-21947)
  Log:
  - add require_shortcut flag to service {};, which requires the commands come
    in over ENCAP (ie command shortcuts) rather than msg
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/client.h (File Modified) 
	rserv/trunk/include/service.h (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


leeh        2006/02/28 21:30:41 UTC	(20060228_6-21945)
  Log:
  - add a base mysql schema
  - add a perl script to generate the mysql schema, converting string lengths
    into actual values from macros in headers
  

  Modified:
	rserv/trunk/doc/base/schema-mysql.txt (File Added) 
	rserv/trunk/doc/generate-schema.pl (File Added) 


leeh        2006/02/28 19:42:50 UTC	(20060228_5-21943)
  Log:
  - add OPERNAMELEN, default 30, restricts how long an opers name in the
    config can be
  

  Modified:
	rserv/trunk/doc/base/ (File Added) 
	rserv/trunk/include/rserv.h (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2006/02/28 18:26:37 UTC	(20060228_4-21933)
  Log:
  - add --with-userreglen=LENGTH to configure, to alter the maximum length of
    a registered nickname
  - prototype rsdb_init() and rsdb_shutdown() to (void)
  - fix const issue in c_mode.c
  

  Modified:
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 
	rserv/trunk/include/rsdb.h (File Modified) 
	rserv/trunk/include/s_userserv.h (File Modified) 
	rserv/trunk/include/setup.h.in (File Modified) 
	rserv/trunk/src/c_mode.c (File Modified) 


leeh        2006/02/28 18:15:44 UTC	(20060228_3-21931)
  Log:
  - rename schema.txt to schema-sqlite.txt
  

  Modified:
	rserv/trunk/doc/schema-sqlite.txt (File Added) 
	rserv/trunk/doc/schema.txt (File Deleted) 


leeh        2006/02/28 18:15:03 UTC	(20060228_2-21929)
  Log:
  - add documentation on the db abstraction layer
  

  Modified:
	rserv/trunk/doc/rsdb.txt (File Added) 


leeh        2006/02/28 09:15:17 UTC	(20060228_1-21927)
  Log:
  - add a more robust function for checking bans are valid
  

  Modified:
	rserv/trunk/include/channel.h (File Modified) 
	rserv/trunk/src/c_mode.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2006/02/28 08:44:59 UTC	(20060228_0-21925)
  Log:
  - add valid_chname(), ensures length <= CHANNELLEN and the channel begins
    with '#'
  - disallow osjoin/objoin to invalid channels
  - ignore sjoins for invalid channels
  

  Modified:
	rserv/trunk/include/channel.h (File Modified) 
	rserv/trunk/src/channel.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2006/02/27 20:43:26 UTC	(20060227_3-21923)
  Log:
  - restrict passwords/email addys in userserv to 30/100 chars respectively
  - fix some compile errors in banserv
  

  Modified:
	rserv/trunk/include/rserv.h (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/02/27 19:50:40 UTC	(20060227_2-21921)
  Log:
  - be more anal about what our uplink sends us for nicks/servernames, and
    enforce theyre below NICKLEN/HOSTLEN
  

  Modified:
	rserv/trunk/src/client.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 


leeh        2006/02/27 19:05:22 UTC	(20060227_1-21919)
  Log:
  - add length checking of channels to operbot/operserv
  

  Modified:
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2006/02/27 19:00:40 UTC	(20060227_0-21917)
  Log:
  - add length checking of fields to jupeserv and banserv
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 


leeh        2006/02/26 21:19:59 UTC	(20060226_4-21915)
  Log:
  - unify the things that need to be escaped in sql to '%Q'
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/02/26 21:16:46 UTC	(20060226_3-21913)
  Log:
  - add missing #include "rsdb.h" to tools.c
  - make sqlite wrapper use rs_vsnprintf()
  

  Modified:
	rserv/trunk/src/rsdb_sqlite.c (File Modified) 
	rserv/trunk/src/tools.c (File Modified) 


leeh        2006/02/26 21:13:24 UTC	(20060226_2-21911)
  Log:
  - add in rs_snprintf() and rs_vsnprintf(), custom snprintfs that handle %Q
    as a modifier, to sql escape whats contained within it
  - add rsdb_quote() sqlite implementation, to quote strings
  

  Modified:
	rserv/trunk/include/rsdb.h (File Modified) 
	rserv/trunk/include/tools.h (File Modified) 
	rserv/trunk/src/rsdb_sqlite.c (File Modified) 
	rserv/trunk/src/tools.c (File Modified) 


leeh        2006/02/26 18:31:34 UTC	(20060226_1-21909)
  Log:
  - move the single stepping select stuff over to rsdb_step*
  - remove the remaining loc_sqlite* step functions
  

  Modified:
	rserv/trunk/include/rsdb.h (File Modified) 
	rserv/trunk/src/rsdb_sqlite.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2006/02/26 18:13:22 UTC	(20060226_0-21907)
  Log:
  - add in missing rsdb files
  

  Modified:
	rserv/trunk/include/rsdb.h (File Added) 
	rserv/trunk/src/rsdb_sqlite.c (File Added) 


leeh        2006/02/24 11:37:42 UTC	(20060224_0-21903)
  Log:
  - add rsdb_transaction(), to deal with transactions
  - move remaining loc_sqlite_exec() over to rsdb_exec()
  - remove loc_sqlite_exec()
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/02/23 22:55:38 UTC	(20060223_2-21901)
  Log:
  - move the callback functions over to rsdb_exec()
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/02/23 22:24:05 UTC	(20060223_1-21899)
  Log:
  - move some simple loc_sqlite_exec() calls over to rsdb_exec()
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/02/23 20:32:56 UTC	(20060223_0-21897)
  Log:
  - move all the database headers into rsdb.h
  - move all the sqlite stuff into rsdb_sqlite.c
  - add in a generic rsdb_init(), rsdb_shutdown()
  - add in a generic rsdb_exec() with callback support
  

  Modified:
	rserv/trunk/include/rserv.h (File Modified) 
	rserv/trunk/src/Makefile.in (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 

