leeh        2004/08/12 16:51:32 EDT	(20040812_0)

  Modified files:
    src                  s_serv.c 
  Log:
  - set servers name properly on an outbound connect
  
  Revision  Changes    Path
  7.413     +1 -1      ircd-ratbox/src/s_serv.c



androsyn    2004/08/11 10:29:38 EDT	(20040811_0)

  Modified files:
    modules/core         channels.c 
  Log:
  Rename a shadowed variable
  
  Revision  Changes    Path
  1.2       +3 -3      ircd-ratbox/modules/core/channels.c



androsyn    2004/08/10 15:49:30 EDT	(20040810_7)

  Modified files:
    src                  commio.c 
  Log:
  remove a useless ifdef
  
  Revision  Changes    Path
  1.17      +0 -5      ircd-ratbox/src/commio.c



androsyn    2004/08/10 15:48:53 EDT	(20040810_6)

  Modified files:
    adns                 event.c setup.c 
    include              commio.h 
    modules              m_stats.c 
    modules/core         m_server.c registration.c 
    src                  balloc.c client.c commio.c epoll.c 
                         listener.c s_auth.c s_serv.c 
  Log:
  rename remaining fd_ functions to comm_
  
  Revision  Changes    Path
  1.25      +2 -2      ircd-ratbox/adns/event.c
  1.38      +3 -3      ircd-ratbox/adns/setup.c
  1.11      +5 -5      ircd-ratbox/include/commio.h
  1.142     +7 -7      ircd-ratbox/modules/core/m_server.c
  1.12      +3 -3      ircd-ratbox/modules/core/registration.c
  1.231     +3 -3      ircd-ratbox/modules/m_stats.c
  7.83      +1 -1      ircd-ratbox/src/balloc.c
  7.477     +4 -4      ircd-ratbox/src/client.c
  1.16      +10 -21    ircd-ratbox/src/commio.c
  1.28      +1 -1      ircd-ratbox/src/epoll.c
  7.115     +7 -7      ircd-ratbox/src/listener.c
  7.175     +6 -6      ircd-ratbox/src/s_auth.c
  7.412     +1 -1      ircd-ratbox/src/s_serv.c



androsyn    2004/08/10 15:40:38 EDT	(20040810_5)

  Modified files:
    adns                 event.c setup.c 
    include              commio.h 
    src                  commio.c listener.c s_auth.c s_serv.c 
  Log:
  Rename comm_open to comm_socket
  
  Revision  Changes    Path
  1.24      +1 -1      ircd-ratbox/adns/event.c
  1.37      +1 -1      ircd-ratbox/adns/setup.c
  1.10      +1 -1      ircd-ratbox/include/commio.h
  1.15      +7 -7      ircd-ratbox/src/commio.c
  7.114     +1 -1      ircd-ratbox/src/listener.c
  7.174     +1 -1      ircd-ratbox/src/s_auth.c
  7.411     +1 -1      ircd-ratbox/src/s_serv.c



androsyn    2004/08/10 15:37:34 EDT	(20040810_4)

  Modified files:
    include              commio.h 
    src                  commio.c 
  Log:
  Remove flush handler code as its not needed now.
  
  Revision  Changes    Path
  1.9       +0 -3      ircd-ratbox/include/commio.h
  1.14      +0 -24     ircd-ratbox/src/commio.c



androsyn    2004/08/10 12:42:19 EDT	(20040810_3)

  Modified files:
    include              channel.h 
    modules              Makefile.in 
    src                  channel.c modules.c 
  Added files:
    modules/core         channels.c 
  Removed files:
    modules/core         m_join.c m_kick.c m_part.c 
  Log:
  Merge m_join, m_kick and m_part into channels.c and remove some functions
  out of src/channel.c
  
  Revision  Changes    Path
  7.157     +2 -3      ircd-ratbox/include/channel.h
  1.106     +1 -3      ircd-ratbox/modules/Makefile.in
  1.1       +1588 -0   ircd-ratbox/modules/core/channels.c (new)
  1.160     +0 -1265   ircd-ratbox/modules/core/m_join.c (dead)
  1.80      +0 -191    ircd-ratbox/modules/core/m_kick.c (dead)
  1.93      +0 -155    ircd-ratbox/modules/core/m_part.c (dead)
  7.423     +51 -102   ircd-ratbox/src/channel.c
  7.147     +1 -3      ircd-ratbox/src/modules.c



androsyn    2004/08/10 12:17:29 EDT	(20040810_2)

  Modified files:
    modules/core         registration.c 
  Log:
  The ::1 sockhosts cleanups *shouldn't* need to be done in introduce_client()
  as the inetntop code *should* be doing this already.
  
  Revision  Changes    Path
  1.11      +2 -11     ircd-ratbox/modules/core/registration.c



androsyn    2004/08/10 11:34:49 EDT	(20040810_1)

  Modified files:
    include              class.h 
    modules              m_stats.c 
    src                  class.c 
  Log:
  Merge report_class into m_stats.c
  
  Revision  Changes    Path
                       
  7.23      +0 -1      ircd-ratbox/include/class.h
  1.230     +31 -3     ircd-ratbox/modules/m_stats.c



androsyn    2004/08/10 10:44:30 EDT	(20040810_0)

  Modified files:
    modules/core         registration.c 
  Log:
  Remove nick and user arguments from register_local_user
  
  Revision  Changes    Path
  1.10      +14 -8     ircd-ratbox/modules/core/registration.c



leeh        2004/08/09 17:24:57 EDT	(20040809_2)

  Modified files:
    include              cache.h 
    modules              m_links.c m_oper.c 
    src                  cache.c 
  Log:
  - move send_oper_motd() to m_oper.c
  - fix headers on m_links.c
  
  Revision  Changes    Path
  1.5       +0 -1      ircd-ratbox/include/cache.h
  1.66      +3 -2      ircd-ratbox/modules/m_links.c
  1.87      +31 -1     ircd-ratbox/modules/m_oper.c
  1.19      +0 -29     ircd-ratbox/src/cache.c



leeh        2004/08/09 16:14:23 EDT	(20040809_1)

  Modified files:
    include              cache.h 
    modules              m_links.c 
    src                  cache.c ircd.c 
  Log:
  - move cache_links() to m_links.c
  
  Revision  Changes    Path
  1.4       +0 -4      ircd-ratbox/include/cache.h
  1.65      +57 -1     ircd-ratbox/modules/m_links.c
  1.18      +0 -39     ircd-ratbox/src/cache.c
  7.359     +0 -1      ircd-ratbox/src/ircd.c



androsyn    2004/08/09 12:53:58 EDT	(20040809_0)

  Modified files:
    src                  irc_string.c 
  Log:
  Add slightly better strlcpy/strlcat from the linux kernel
  
  Revision  Changes    Path
  7.74      +24 -77    ircd-ratbox/src/irc_string.c



leeh        2004/08/08 19:02:35 EDT	(20040808_2)

  Modified files:
    include              client.h 
    modules/core         registration.c 
  Log:
  - use a flag rather than an int to note we've had USER
  
  Revision  Changes    Path
  7.255     +4 -1      ircd-ratbox/include/client.h
  1.9       +3 -3      ircd-ratbox/modules/core/registration.c



leeh        2004/08/08 17:21:15 EDT	(20040808_1)

  Modified files:
    include              tools.h 
    modules/core         m_mode.c 
    src                  channel.c client.c hash.c ircd.c 
                         newconf.c 
  Log:
  - moved dlinkFind* to use (node, list) as params to be consistent with the
    rest of the dlink code
  - fixed a compile warning in ircd.c
  
  Revision  Changes    Path
  1.51      +4 -4      ircd-ratbox/include/tools.h
  1.115     +2 -2      ircd-ratbox/modules/core/m_mode.c
  7.422     +2 -2      ircd-ratbox/src/channel.c
  7.476     +5 -5      ircd-ratbox/src/client.c
  7.110     +4 -4      ircd-ratbox/src/hash.c
  7.358     +3 -1      ircd-ratbox/src/ircd.c
  7.169     +1 -1      ircd-ratbox/src/newconf.c



androsyn    2004/08/08 16:54:25 EDT	(20040808_0)

  Modified files:
    include              client.h scache.h 
    modules/core         m_server.c registration.c 
    src                  client.c ircd.c scache.c 
  Log:
  Move the actual storage of nicknames into struct User for clients and
  use the scache pointer for servernames.  client->name is now a pointer
  to either one of these
  
  Revision  Changes    Path
  7.254     +6 -2      ircd-ratbox/include/client.h
  7.14      +1 -1      ircd-ratbox/include/scache.h
  1.141     +5 -7      ircd-ratbox/modules/core/m_server.c
  1.8       +11 -3     ircd-ratbox/modules/core/registration.c
  7.475     +1 -0      ircd-ratbox/src/client.c
  7.357     +5 -2      ircd-ratbox/src/ircd.c
  7.25      +1 -1      ircd-ratbox/src/scache.c



leeh        2004/08/07 10:42:18 EDT	(20040807_5)

  Modified files:
    doc                  example.conf example.efnet.conf 
    include              ircd.h s_conf.h 
    modules              m_info.c m_set.c 
    src                  client.c newconf.c s_conf.c 
  Log:
  - remove idletime
  
  Revision  Changes    Path
  7.246     +0 -5      ircd-ratbox/doc/example.conf
  7.78      +0 -5      ircd-ratbox/doc/example.efnet.conf
  7.79      +0 -2      ircd-ratbox/include/ircd.h
  7.291     +0 -1      ircd-ratbox/include/s_conf.h
  1.113     +1 -7      ircd-ratbox/modules/m_info.c
  1.78      +1 -30     ircd-ratbox/modules/m_set.c
  7.474     +0 -27     ircd-ratbox/src/client.c
  7.168     +0 -1      ircd-ratbox/src/newconf.c
  7.485     +0 -3      ircd-ratbox/src/s_conf.c



leeh        2004/08/07 10:38:40 EDT	(20040807_4)

  Modified files:
    include              class.h client.h irc_string.h ircd.h 
                         s_conf.h 
    modules/core         m_quit.c m_server.c registration.c 
    src                  hostmask.c 
  Log:
  - remove some unused prototypes and some unused bitmasks..
  
  Revision  Changes    Path
  7.22      +0 -1      ircd-ratbox/include/class.h
  7.253     +0 -6      ircd-ratbox/include/client.h
  7.60      +1 -7      ircd-ratbox/include/irc_string.h
  7.78      +0 -3      ircd-ratbox/include/ircd.h
  7.290     +0 -12     ircd-ratbox/include/s_conf.h
  1.48      +1 -4      ircd-ratbox/modules/core/m_quit.c
  1.140     +1 -2      ircd-ratbox/modules/core/m_server.c
  1.7       +1 -3      ircd-ratbox/modules/core/registration.c
  7.103     +0 -6      ircd-ratbox/src/hostmask.c



androsyn    2004/08/07 10:16:10 EDT	(20040807_3)

  Modified files:
    include              ircd.h 
  Log:
  remove platform from here too
  
  Revision  Changes    Path
  7.77      +0 -1      ircd-ratbox/include/ircd.h



androsyn    2004/08/07 10:13:46 EDT	(20040807_2)

  Modified files:
    src                  version.c.SH 
  Log:
  Remove the platform info
  
  Revision  Changes    Path
  7.27      +1 -4      ircd-ratbox/src/version.c.SH



leeh        2004/08/07 09:45:34 EDT	(20040807_1)

  Modified files:
    include              s_user.h 
    modules/core         m_mode.c 
    src                  s_user.c 
  Log:
  - move user_mode() s_user.c -> m_mode.c
  
  Revision  Changes    Path
  7.32      +9 -5      ircd-ratbox/include/s_user.h
  1.114     +190 -1    ircd-ratbox/modules/core/m_mode.c
  7.329     +1 -193    ircd-ratbox/src/s_user.c



leeh        2004/08/06 22:22:24 EDT	(20040807_0)

  Modified files:
    include              s_conf.h 
    modules/core         registration.c 
    src                  s_conf.c 
  Log:
  - move some stuff from s_conf.c to registration.c and cleaned up
    registration.c somewhat
  
  Revision  Changes     Path
  7.289     +0 -3       ircd-ratbox/include/s_conf.h
  1.6       +1166 -823  ircd-ratbox/modules/core/registration.c
  7.484     +0 -397     ircd-ratbox/src/s_conf.c



androsyn    2004/08/06 13:40:46 EDT	(20040806_1)

  Modified files:
    src                  patricia.c 
  Log:
  We really don't want a pointer to our pointer here
  
  Revision  Changes    Path
  7.23      +1 -1      ircd-ratbox/src/patricia.c



leeh        2004/08/06 13:25:07 EDT	(20040806_0)

  Modified files:
    include              hostmask.h s_conf.h s_newconf.h 
    modules              m_dline.c m_testline.c 
    src                  client.c hostmask.c kdparse.c newconf.c 
                         s_conf.c s_newconf.c 
  Log:
  - move dlines/exempts over to a patricia
  
  Revision  Changes    Path
  1.37      +0 -2      ircd-ratbox/include/hostmask.h
  7.288     +0 -3      ircd-ratbox/include/s_conf.h
  7.38      +14 -1     ircd-ratbox/include/s_newconf.h
  1.43      +44 -226   ircd-ratbox/modules/m_dline.c
  1.52      +6 -7      ircd-ratbox/modules/m_testline.c
  7.473     +4 -4      ircd-ratbox/src/client.c
  7.102     +0 -15     ircd-ratbox/src/hostmask.c
  7.39      +9 -1      ircd-ratbox/src/kdparse.c
  7.167     +1 -1      ircd-ratbox/src/newconf.c
  7.483     +3 -65     ircd-ratbox/src/s_conf.c
  7.52      +161 -41   ircd-ratbox/src/s_newconf.c



androsyn    2004/08/05 17:20:59 EDT	(20040805_1)

  Modified files:
    modules              m_whois.c 
    modules/core         registration.c 
  Log:
  Replace a few ->name[0] type checks with EmptyString()
  
  Revision  Changes    Path
  1.5       +4 -4      ircd-ratbox/modules/core/registration.c
  1.143     +2 -2      ircd-ratbox/modules/m_whois.c



leeh        2004/08/05 17:08:57 EDT	(20040805_0)

  Modified files:
    include              client.h ircd.h 
    modules              m_info.c m_stats.c m_trace.c m_whois.c 
    modules/core         m_part.c m_quit.c m_server.c 
                         registration.c 
    src                  client.c ircd.c packet.c s_auth.c 
  Log:
  - move firsttime/lasttime struct Client -> struct LocalUser
  
  Revision  Changes    Path
  7.252     +3 -2      ircd-ratbox/include/client.h
  7.76      +2 -0      ircd-ratbox/include/ircd.h
  1.92      +2 -2      ircd-ratbox/modules/core/m_part.c
  1.47      +2 -2      ircd-ratbox/modules/core/m_quit.c
  1.139     +2 -2      ircd-ratbox/modules/core/m_server.c
  1.4       +2 -2      ircd-ratbox/modules/core/registration.c
  1.112     +2 -2      ircd-ratbox/modules/m_info.c
  1.229     +21 -19    ircd-ratbox/modules/m_stats.c
  1.101     +6 -5      ircd-ratbox/modules/m_trace.c
  1.142     +2 -2      ircd-ratbox/modules/m_whois.c
  7.472     +14 -13    ircd-ratbox/src/client.c
  7.356     +3 -1      ircd-ratbox/src/ircd.c
  7.133     +2 -2      ircd-ratbox/src/packet.c
  7.173     +1 -1      ircd-ratbox/src/s_auth.c



androsyn    2004/08/04 16:32:40 EDT	(20040804_1)

  Modified files:
    modules              Makefile.in m_lusers.c 
  Removed files:
    modules              m_users.c 
  Log:
  Merge m_users into m_lusers
  
  Revision  Changes    Path
  1.105     +0 -1      ircd-ratbox/modules/Makefile.in
  1.44      +34 -2     ircd-ratbox/modules/m_lusers.c
  1.44      +0 -69     ircd-ratbox/modules/m_users.c (dead)



androsyn    2004/08/04 16:27:45 EDT	(20040804_0)

  Modified files:
    include              hostmask.h s_conf.h 
    modules              m_stats.c 
    src                  hostmask.c s_conf.c 
  Log:
  Shuffle off report_Klines, report_auth into m_stats.c and then take
  get_printable_* with them as well
  
  Revision  Changes    Path
  1.36      +0 -2      ircd-ratbox/include/hostmask.h
  7.287     +0 -4      ircd-ratbox/include/s_conf.h
  1.228     +123 -5    ircd-ratbox/modules/m_stats.c
  7.101     +0 -72     ircd-ratbox/src/hostmask.c
  7.482     +0 -47     ircd-ratbox/src/s_conf.c



androsyn    2004/08/03 16:37:56 EDT	(20040803_10)

  Modified files:
    .                    configure configure.ac 
    include              setup.h.in 
    src                  hostmask.c s_auth.c 
  Log:
  more sockaddr_storage related cleanups
  
  Revision  Changes    Path
  7.233     +2 -63     ircd-ratbox/configure
  7.47      +2 -19     ircd-ratbox/configure.ac
  7.91      +0 -4      ircd-ratbox/include/setup.h.in
  7.100     +2 -2      ircd-ratbox/src/hostmask.c
  7.172     +3 -3      ircd-ratbox/src/s_auth.c



androsyn    2004/08/03 16:20:05 EDT	(20040803_9)

  Modified files:
    .                    configure configure.ac 
    include              client.h commio.h hostmask.h irc_string.h 
                         ircd_defs.h listener.h patricia.h res.h 
                         s_conf.h s_newconf.h setup.h.in 
    modules              m_dline.c m_gline.c m_kline.c m_stats.c 
                         m_testline.c m_trace.c 
    modules/core         registration.c 
    src                  adns.c client.c commio.c hostmask.c 
                         irc_string.c listener.c match.c newconf.c 
                         patricia.c reject.c s_auth.c s_conf.c 
                         s_newconf.c s_serv.c 
  Log:
  Add an irc_sockaddr_storage which varies in size depending on whether we are
  compiled for ipv6 or not.
  
  Revision  Changes    Path
  7.232     +2 -71     ircd-ratbox/configure
  7.46      +2 -8      ircd-ratbox/configure.ac
  7.251     +1 -1      ircd-ratbox/include/client.h
  1.8       +4 -4      ircd-ratbox/include/commio.h
  1.35      +9 -9      ircd-ratbox/include/hostmask.h
  7.59      +3 -3      ircd-ratbox/include/irc_string.h
  7.51      +14 -10    ircd-ratbox/include/ircd_defs.h
  7.18      +1 -1      ircd-ratbox/include/listener.h
  7.16      +2 -2      ircd-ratbox/include/patricia.h
  7.30      +1 -1      ircd-ratbox/include/res.h
  7.286     +3 -3      ircd-ratbox/include/s_conf.h
  7.37      +2 -2      ircd-ratbox/include/s_newconf.h
  7.90      +0 -3      ircd-ratbox/include/setup.h.in
  1.3       +2 -2      ircd-ratbox/modules/core/registration.c
  1.42      +5 -5      ircd-ratbox/modules/m_dline.c
  1.145     +5 -5      ircd-ratbox/modules/m_gline.c
  1.190     +9 -9      ircd-ratbox/modules/m_kline.c
  1.227     +4 -4      ircd-ratbox/modules/m_stats.c
  1.51      +6 -6      ircd-ratbox/modules/m_testline.c
  1.100     +3 -3      ircd-ratbox/modules/m_trace.c
  7.70      +2 -2      ircd-ratbox/src/adns.c
  7.471     +4 -4      ircd-ratbox/src/client.c
  1.13      +5 -5      ircd-ratbox/src/commio.c
  7.99      +26 -26    ircd-ratbox/src/hostmask.c
  7.73      +3 -3      ircd-ratbox/src/irc_string.c
  7.113     +12 -12    ircd-ratbox/src/listener.c
  7.42      +3 -3      ircd-ratbox/src/match.c
  7.166     +1 -1      ircd-ratbox/src/newconf.c
  7.22      +5 -5      ircd-ratbox/src/patricia.c
  1.28      +3 -3      ircd-ratbox/src/reject.c
  7.171     +3 -3      ircd-ratbox/src/s_auth.c
  7.481     +6 -6      ircd-ratbox/src/s_conf.c
  7.51      +5 -5      ircd-ratbox/src/s_newconf.c
  7.410     +2 -2      ircd-ratbox/src/s_serv.c



androsyn    2004/08/03 15:11:49 EDT	(20040803_8)

  Modified files:
    .                    configure configure.ac 
  Log:
  Default build to ipv4 only
  
  Revision  Changes    Path
  7.231     +4 -4      ircd-ratbox/configure
  7.45      +3 -3      ircd-ratbox/configure.ac



androsyn    2004/08/02 22:19:04 EDT	(20040803_7)

  Modified files:
    include              s_user.h 
    modules/core         registration.c 
    src                  modules.c s_user.c 
  Log:
  shuffle some more stuff out of s_user.c
  
  Revision  Changes    Path
  7.31      +0 -5      ircd-ratbox/include/s_user.h
  1.2       +493 -2    ircd-ratbox/modules/core/registration.c
  7.146     +1 -1      ircd-ratbox/src/modules.c
  7.328     +0 -478    ircd-ratbox/src/s_user.c



androsyn    2004/08/02 22:04:08 EDT	(20040803_6)

  Modified files:
    modules              Makefile.in 
  Added files:
    modules/core         registration.c 
  Log:
  Helps if i add the files
  
  Revision  Changes    Path
  1.104     +1 -1      ircd-ratbox/modules/Makefile.in
  1.1       +1225 -0   ircd-ratbox/modules/core/registration.c (new)



androsyn    2004/08/02 22:02:46 EDT	(20040803_5)

  Modified files:
    modules              Makefile.in 
  Removed files:
    modules              m_ping.c m_pong.c m_user.c 
    modules/core         m_nick.c 
  Log:
  Merge ping/user/nick/user etc into a new file called core/registration.c
  
  Revision  Changes    Path
  1.103     +1 -4      ircd-ratbox/modules/Makefile.in
  1.156     +0 -986    ircd-ratbox/modules/core/m_nick.c (dead)
  1.57      +0 -115    ircd-ratbox/modules/m_ping.c (dead)
  1.57      +0 -134    ircd-ratbox/modules/m_pong.c (dead)
  1.44      +0 -101    ircd-ratbox/modules/m_user.c (dead)



leeh        2004/08/02 21:43:29 EDT	(20040803_4)

  Modified files:
    src                  client.c 
  Log:
  - fix a memleak of an opers username everytime they quit without deopering
  
  Revision  Changes    Path
  7.470     +1 -0      ircd-ratbox/src/client.c



androsyn    2004/08/02 21:42:14 EDT	(20040803_3)

  Modified files:
    modules              Makefile.in m_trace.c 
  Removed files:
    modules              m_etrace.c 
  Log:
  Merge etrace into m_trace, as that seems to be where it logically belongs
  
  Revision  Changes    Path
  1.102     +0 -1      ircd-ratbox/modules/Makefile.in
  1.11      +0 -104    ircd-ratbox/modules/m_etrace.c (dead)
  1.99      +53 -2     ircd-ratbox/modules/m_trace.c



leeh        2004/08/02 21:25:38 EDT	(20040803_2)

  Modified files:
    include              client.h 
    modules              m_stats.c 
    src                  client.c ircd.c packet.c s_auth.c 
  Log:
  - remove ->since from struct Client, its exactly the same as ->lasttime, so
    just make everything use that instead.
  
  Revision  Changes    Path
  7.250     +0 -1      ircd-ratbox/include/client.h
  1.226     +8 -8      ircd-ratbox/modules/m_stats.c
  7.469     +2 -2      ircd-ratbox/src/client.c
  7.355     +1 -1      ircd-ratbox/src/ircd.c
  7.132     +0 -2      ircd-ratbox/src/packet.c
  7.170     +1 -1      ircd-ratbox/src/s_auth.c



leeh        2004/08/02 21:05:23 EDT	(20040803_1)

  Modified files:
    include              client.h 
    modules              m_accept.c 
    src                  client.c 
  Log:
  - move +g allow_list to LocalUser,
  
  Revision  Changes    Path
  7.249     +5 -4      ircd-ratbox/include/client.h
  1.59      +4 -4      ircd-ratbox/modules/m_accept.c
  7.468     +10 -7     ircd-ratbox/src/client.c



leeh        2004/08/02 20:45:24 EDT	(20040803_0)

  Modified files:
    include              client.h 
  Log:
  - remove 3 unused vars from LocalUser
  
  Revision  Changes    Path
  7.248     +0 -3      ircd-ratbox/include/client.h



leeh        2004/08/02 19:37:03 EDT	(20040802_5)

  Modified files:
    src                  client.c 
  Log:
  - fix a possible memleak with challenge
  
  Revision  Changes    Path
  7.467     +3 -2      ircd-ratbox/src/client.c



leeh        2004/08/02 18:15:32 EDT	(20040802_4)

  Modified files:
    doc                  ircd.motd 
    include              client.h 
    modules              m_away.c m_oper.c m_stats.c m_trace.c 
                         m_whois.c 
    modules/core         m_message.c m_nick.c 
    src                  client.c s_user.c 
  Log:
  - move last_away, last, response and auth_oper from struct User to
    struct Localuser
  
  Revision  Changes    Path
  7.3       +2 -2      ircd-ratbox/doc/ircd.motd
  7.247     +7 -4      ircd-ratbox/include/client.h
  1.148     +7 -7      ircd-ratbox/modules/core/m_message.c
  1.155     +1 -2      ircd-ratbox/modules/core/m_nick.c
  1.58      +11 -8     ircd-ratbox/modules/m_away.c
  1.86      +17 -17    ircd-ratbox/modules/m_oper.c
  1.225     +3 -6      ircd-ratbox/modules/m_stats.c
  1.98      +3 -5      ircd-ratbox/modules/m_trace.c
  1.141     +2 -2      ircd-ratbox/modules/m_whois.c
  7.466     +1 -1      ircd-ratbox/src/client.c
  7.327     +1 -1      ircd-ratbox/src/s_user.c



androsyn    2004/08/02 17:11:46 EDT	(20040802_3)

  Modified files:
    include              channel.h 
    modules/core         m_mode.c 
    src                  channel.c 
  Log:
  Go back to using dynamically allocated bans
  
  Revision  Changes    Path
  7.156     +4 -4      ircd-ratbox/include/channel.h
  1.113     +7 -7      ircd-ratbox/modules/core/m_mode.c
  7.421     +6 -1      ircd-ratbox/src/channel.c



androsyn    2004/08/02 16:29:27 EDT	(20040802_2)

  Modified files:
    include              channel.h 
    src                  channel.c hash.c 
  Log:
  make channel name get allocated out from malloc memory
  
  Revision  Changes    Path
  7.155     +2 -2      ircd-ratbox/include/channel.h
  7.420     +3 -1      ircd-ratbox/src/channel.c
  7.109     +1 -2      ircd-ratbox/src/hash.c



androsyn    2004/08/02 15:47:56 EDT	(20040802_1)

  Modified files:
    include              packet.h 
    src                  ircd.c packet.c s_auth.c 
  Log:
  move flood recalc to an event
  
  Revision  Changes    Path
  7.26      +1 -1      ircd-ratbox/include/packet.h
  7.354     +2 -1      ircd-ratbox/src/ircd.c
  7.131     +26 -32    ircd-ratbox/src/packet.c
  7.169     +0 -1      ircd-ratbox/src/s_auth.c



leeh        2004/08/01 20:55:45 EDT	(20040802_0)

  Modified files:
    modules/core         m_join.c 
  Log:
  - fix sjoin to output nick, not uid in mode string it builds for voiced
    users
  
  Revision  Changes    Path
  1.159     +3 -3      ircd-ratbox/modules/core/m_join.c



leeh        2004/07/31 21:16:09 EDT	(20040801_2)

  Modified files:
    include              s_conf.h 
    modules              m_gline.c m_kline.c m_rehash.c m_resv.c 
                         m_xline.c 
    src                  hash.c kdparse.c s_newconf.c 
  Log:
  - add a dlink_node to struct ConfItem
  - make glines, temp k/dlines, resvs and xlines use this node..
  
  Revision  Changes    Path
  7.285     +1 -0      ircd-ratbox/include/s_conf.h
  1.144     +3 -3      ircd-ratbox/modules/m_gline.c
  1.189     +2 -2      ircd-ratbox/modules/m_kline.c
  1.84      +8 -8      ircd-ratbox/modules/m_rehash.c
  1.66      +3 -3      ircd-ratbox/modules/m_resv.c
  1.57      +3 -3      ircd-ratbox/modules/m_xline.c
  7.108     +3 -3      ircd-ratbox/src/hash.c
  7.38      +2 -2      ircd-ratbox/src/kdparse.c
  7.50      +14 -14    ircd-ratbox/src/s_newconf.c



leeh        2004/07/31 20:46:54 EDT	(20040801_1)

  Modified files:
    include              ircd.h 
    modules              .depend m_stats.c 
    modules/core         m_nick.c m_server.c 
    src                  .depend Makefile.in client.c commio.c 
                         devpoll.c epoll.c ircd.c kqueue.c 
                         listener.c parse.c poll.c reject.c 
                         s_auth.c s_conf.c s_serv.c s_user.c 
                         select.c 
  Removed files:
    include              s_stats.h 
    src                  s_stats.c 
  Log:
  - move count_memory() to m_stats.c
  - move the memory counting macros from s_stats.h -> m_stats.c
  - move ServerStatistics -> ircd.{c|h}, removing s_stats.{c|h}
  
  Revision  Changes    Path
  7.75      +30 -0     ircd-ratbox/include/ircd.h
  7.19      +0 -80     ircd-ratbox/include/s_stats.h (dead)
  1.41      +22 -42    ircd-ratbox/modules/.depend
  1.154     +1 -2      ircd-ratbox/modules/core/m_nick.c
  1.138     +1 -2      ircd-ratbox/modules/core/m_server.c
  1.224     +231 -3    ircd-ratbox/modules/m_stats.c
  7.44      +23 -44    ircd-ratbox/src/.depend
  7.150     +0 -1      ircd-ratbox/src/Makefile.in
  7.465     +0 -1      ircd-ratbox/src/client.c
  1.12      +0 -1      ircd-ratbox/src/commio.c
  7.33      +0 -1      ircd-ratbox/src/devpoll.c
  1.27      +0 -1      ircd-ratbox/src/epoll.c
  7.353     +2 -2      ircd-ratbox/src/ircd.c
  1.46      +0 -1      ircd-ratbox/src/kqueue.c
  7.112     +0 -1      ircd-ratbox/src/listener.c
  7.184     +0 -1      ircd-ratbox/src/parse.c
  7.79      +0 -1      ircd-ratbox/src/poll.c
  1.27      +0 -1      ircd-ratbox/src/reject.c
  7.168     +0 -1      ircd-ratbox/src/s_auth.c
  7.480     +0 -1      ircd-ratbox/src/s_conf.c
  7.409     +0 -1      ircd-ratbox/src/s_serv.c
  7.39      +0 -290    ircd-ratbox/src/s_stats.c (dead)
  7.326     +0 -1      ircd-ratbox/src/s_user.c
  7.42      +0 -1      ircd-ratbox/src/select.c



leeh        2004/07/31 20:05:22 EDT	(20040801_0)

  Modified files:
    modules              m_stats.c 
    src                  s_stats.c 
  Log:
  - merge tstats() into m_stats.c
  
  Revision  Changes    Path
  1.223     +95 -2     ircd-ratbox/modules/m_stats.c
  7.38      +0 -94     ircd-ratbox/src/s_stats.c



leeh        2004/07/31 19:39:51 EDT	(20040731_5)

  Modified files:
    include              s_stats.h 
    modules/core         m_nick.c m_server.c 
    src                  client.c listener.c parse.c reject.c 
                         s_auth.c s_conf.c s_stats.c s_user.c 
  Log:
  - removed some pointless code.. we were declaring ircst as a struct, then
    ServerStats as a pointer to it and never touching ircst again.
  
  Revision  Changes    Path
  7.18      +1 -1      ircd-ratbox/include/s_stats.h
  1.153     +13 -13    ircd-ratbox/modules/core/m_nick.c
  1.137     +2 -2      ircd-ratbox/modules/core/m_server.c
  7.464     +25 -25    ircd-ratbox/src/client.c
  7.111     +3 -3      ircd-ratbox/src/listener.c
  7.183     +5 -5      ircd-ratbox/src/parse.c
  1.26      +1 -1      ircd-ratbox/src/reject.c
  7.167     +4 -4      ircd-ratbox/src/s_auth.c
  7.479     +6 -6      ircd-ratbox/src/s_conf.c
  7.37      +3 -4      ircd-ratbox/src/s_stats.c
  7.325     +5 -5      ircd-ratbox/src/s_user.c



leeh        2004/07/31 19:19:36 EDT	(20040731_4)

  Modified files:
    modules              m_stats.c 
  Log:
  - moved stats_tdeny() over to the dlinks
  
  Revision  Changes    Path
  1.222     +13 -19    ircd-ratbox/modules/m_stats.c



leeh        2004/07/31 19:03:49 EDT	(20040731_3)

  Modified files:
    include              s_newconf.h 
    modules              m_dline.c m_kline.c m_rehash.c m_stats.c 
    src                  ircd.c s_newconf.c 
  Log:
  - moved the temp kline/dline lists into an array
  - simplified expiry of them, we only expire those marked TEMP_MIN, the
    others we just reorganise
  - I broke temp undline, but ill fix it when I do the patricia :p
  
  Revision  Changes    Path
  7.36      +11 -20    ircd-ratbox/include/s_newconf.h
  1.41      +4 -9      ircd-ratbox/modules/m_dline.c
  1.188     +4 -15     ircd-ratbox/modules/m_kline.c
  1.83      +45 -26    ircd-ratbox/modules/m_rehash.c
  1.221     +18 -28    ircd-ratbox/modules/m_stats.c
  7.352     +0 -5      ircd-ratbox/src/ircd.c
  7.49      +76 -113   ircd-ratbox/src/s_newconf.c



leeh        2004/07/31 17:56:38 EDT	(20040731_2)

  Modified files:
    include              s_conf.h s_newconf.h 
    src                  s_conf.c s_newconf.c 
  Log:
  - move the temp kline/dline stuff over to s_newconf.c
  
  Revision  Changes    Path
  7.284     +0 -25     ircd-ratbox/include/s_conf.h
  7.35      +24 -0     ircd-ratbox/include/s_newconf.h
  7.478     +0 -186    ircd-ratbox/src/s_conf.c
  7.48      +187 -0    ircd-ratbox/src/s_newconf.c



leeh        2004/07/31 12:11:37 EDT	(20040731_1)

  Modified files:
    src                  newconf.c 
  Log:
  - verify len > 0 in the generic conf string parser..
  
  Revision  Changes    Path
  7.165     +1 -1      ircd-ratbox/src/newconf.c



leeh        2004/07/31 11:04:27 EDT	(20040731_0)

  Modified files:
    include              s_gline.h s_newconf.h 
    modules              m_gline.c 
    src                  Makefile.in ircd.c s_newconf.c 
  Removed files:
    src                  s_gline.c 
  Log:
  - move expiration of temp glines over to m_gline.c
  - move expiration of triggered glines to s_newconf.c
  - remove s_gline.c
  
  Revision  Changes    Path
  7.19      +0 -9      ircd-ratbox/include/s_gline.h
  7.34      +3 -0      ircd-ratbox/include/s_newconf.h
  1.143     +42 -3     ircd-ratbox/modules/m_gline.c
  7.149     +0 -1      ircd-ratbox/src/Makefile.in
  7.351     +0 -2      ircd-ratbox/src/ircd.c
  1.43      +0 -128    ircd-ratbox/src/s_gline.c (dead)
  7.47      +24 -0     ircd-ratbox/src/s_newconf.c



leeh        2004/07/30 19:50:38 EDT	(20040730_12)

  Modified files:
    src                  newconf.c 
  Log:
  - fix remove_conf_item()
  
  Revision  Changes    Path
  7.164     +20 -12    ircd-ratbox/src/newconf.c



leeh        2004/07/30 19:43:59 EDT	(20040730_11)

  Modified files:
    src                  newconf.c 
  Log:
  - move rest of newconf.c that needs it over to table form..
  - fix a minor memleak when a listener {}; block doesnt end
  
  Revision  Changes    Path
  7.163     +62 -45    ircd-ratbox/src/newconf.c



leeh        2004/07/30 16:24:00 EDT	(20040730_10)

  Modified files:
    modules/core         m_server.c 
    src                  commio.c crypt.c event.c getopt.c ircd.c 
                         ircd_lexer.l ircd_signal.c modules.c 
    tools                README.mkpasswd 
  Removed files:
    servlink             descrip.mms 
    src                  descrip.mms qio.c version.com 
    tools                descrip.mms mkpasswd_vms.c 
  Log:
  - remove VMS
  
  Revision  Changes    Path
  1.136     +2 -7      ircd-ratbox/modules/core/m_server.c
  1.2       +0 -15     ircd-ratbox/servlink/descrip.mms (dead)
  1.11      +0 -20     ircd-ratbox/src/commio.c
  7.10      +0 -4      ircd-ratbox/src/crypt.c
  7.13      +0 -44     ircd-ratbox/src/descrip.mms (dead)
  7.42      +0 -54     ircd-ratbox/src/event.c
  7.22      +0 -4      ircd-ratbox/src/getopt.c
  7.350     +3 -19     ircd-ratbox/src/ircd.c
  1.162     +0 -4      ircd-ratbox/src/ircd_lexer.l
  7.24      +0 -25     ircd-ratbox/src/ircd_signal.c
  7.145     +0 -3      ircd-ratbox/src/modules.c
  7.6       +0 -221    ircd-ratbox/src/qio.c (dead)
  7.6       +0 -101    ircd-ratbox/src/version.com (dead)
  1.7       +0 -5      ircd-ratbox/tools/README.mkpasswd
  7.7       +0 -25     ircd-ratbox/tools/descrip.mms (dead)
  7.2       +0 -458    ircd-ratbox/tools/mkpasswd_vms.c (dead)



leeh        2004/07/30 14:09:42 EDT	(20040730_9)

  Modified files:
    doc                  example.conf example.efnet.conf 
    include              s_conf.h 
    modules              m_info.c 
    src                  ircd.c newconf.c s_conf.c 
  Log:
  - removed links_delay, now hardcoded to 5 mins
  - removed a couple of unused parts of a struct
  
  Revision  Changes    Path
  7.245     +0 -5      ircd-ratbox/doc/example.conf
  7.77      +0 -5      ircd-ratbox/doc/example.efnet.conf
  7.283     +0 -6      ircd-ratbox/include/s_conf.h
  1.111     +1 -7      ircd-ratbox/modules/m_info.c
  7.349     +1 -5      ircd-ratbox/src/ircd.c
  7.162     +2 -3      ircd-ratbox/src/newconf.c
  7.477                ircd-ratbox/src/s_conf.c



leeh        2004/07/30 13:42:08 EDT	(20040730_8)

  Modified files:
    src                  newconf.c 
  Log:
  - moved serverinfo/admin/general to table form
  
  Revision  Changes    Path
  7.161     +37 -85    ircd-ratbox/src/newconf.c



androsyn    2004/07/30 13:26:46 EDT	(20040730_7)

  Modified files:
    include              s_serv.h 
    modules/core         m_server.c 
    src                  s_serv.c 
  Log:
  Move fork_server and start_io into m_server
  
  Revision  Changes    Path
  7.96      +0 -3      ircd-ratbox/include/s_serv.h
  1.135     +266 -1    ircd-ratbox/modules/core/m_server.c
  7.408     +0 -258    ircd-ratbox/src/s_serv.c



leeh        2004/07/30 13:12:02 EDT	(20040730_6)

  Modified files:
    modules              m_dline.c m_kline.c m_resv.c m_xline.c 
    src                  ircd.c s_conf.c s_log.c 
  Log:
  - we need to fflush() after fputs()
  
  Revision  Changes    Path
  1.40      +4 -1      ircd-ratbox/modules/m_dline.c
  1.187     +4 -1      ircd-ratbox/modules/m_kline.c
  1.65      +3 -1      ircd-ratbox/modules/m_resv.c
  1.56      +3 -1      ircd-ratbox/modules/m_xline.c
  7.348     +3 -0      ircd-ratbox/src/ircd.c
  7.476     +2 -0      ircd-ratbox/src/s_conf.c
  7.74      +2 -0      ircd-ratbox/src/s_log.c



leeh        2004/07/30 13:03:58 EDT	(20040730_5)

  Modified files:
    include              newconf.h s_conf.h 
    modules              m_info.c 
    src                  newconf.c s_conf.c s_log.c 
  Log:
  - added ability to set strings generically in the conf parser, and moved
    some stuff over to using this
  
  Revision  Changes    Path
  7.32      +1 -0      ircd-ratbox/include/newconf.h
  7.282     +13 -13    ircd-ratbox/include/s_conf.h
  1.110     +13 -13    ircd-ratbox/modules/m_info.c
  7.160     +110 -211  ircd-ratbox/src/newconf.c
  7.475     +46 -14    ircd-ratbox/src/s_conf.c
  7.73      +13 -13    ircd-ratbox/src/s_log.c



androsyn    2004/07/30 12:27:26 EDT	(20040730_4)

  Modified files:
    modules              m_oper.c 
  Log:
  nothing uses the return to oper_up() so make it a void
  
  Revision  Changes    Path
  1.85      +4 -4      ircd-ratbox/modules/m_oper.c



androsyn    2004/07/30 12:25:43 EDT	(20040730_3)

  Modified files:
    modules              m_oper.c 
  Log:
  Wrap the prototype for m_challenge in an #ifdef
  
  Revision  Changes    Path
  1.84      +3 -2      ircd-ratbox/modules/m_oper.c



androsyn    2004/07/30 12:20:39 EDT	(20040730_2)

  Modified files:
    include              s_user.h 
    modules              Makefile.in m_oper.c 
    src                  s_user.c 
  Removed files:
    modules              m_challenge.c 
  Log:
  Merge oper/challenge into one module, move oper_up into the module as well
  
  Revision  Changes    Path
  7.30      +0 -1      ircd-ratbox/include/s_user.h
  1.101     +0 -1      ircd-ratbox/modules/Makefile.in
  1.71      +0 -273    ircd-ratbox/modules/m_challenge.c (dead)
  1.83      +268 -2    ircd-ratbox/modules/m_oper.c
  7.324     +0 -46     ircd-ratbox/src/s_user.c



leeh        2004/07/30 11:38:38 EDT	(20040730_1)

  Modified files:
    include              newconf.h 
    src                  newconf.c 
  Log:
  - start moving the parser over to working from tables, with generic handling
    of yesno/int/time options where appropriate
  
  Revision  Changes    Path
  7.31      +8 -9      ircd-ratbox/include/newconf.h
  7.159     +142 -534  ircd-ratbox/src/newconf.c



leeh        2004/07/29 22:07:12 EDT	(20040730_0)

  Modified files:
    .                    configure configure.ac 
  Log:
  - fix the msg result on --enable-profile
  
  Revision  Changes    Path
  7.230     +4 -4      ircd-ratbox/configure
  7.44      +3 -3      ircd-ratbox/configure.ac



androsyn    2004/07/29 14:21:48 EDT	(20040729_7)

  Modified files:
    include              commio.h 
    src                  cache.c commio.c 
  Log:
  Clean up the remainder of the fbopen type stuff
  
  Revision  Changes    Path
  1.7       +0 -35     ircd-ratbox/include/commio.h
  1.17      +1 -1      ircd-ratbox/src/cache.c
  1.10      +0 -270    ircd-ratbox/src/commio.c



androsyn    2004/07/29 14:10:54 EDT	(20040729_6)

  Modified files:
    adns                 setup.c 
    modules              m_dline.c m_kline.c m_resv.c m_xline.c 
    src                  cache.c ircd.c ircd_lexer.l s_conf.c 
                         s_log.c 
  Log:
  missed the damn fbopens...
  
  Revision  Changes    Path
  1.35      +1 -1      ircd-ratbox/adns/setup.c
  1.39      +3 -3      ircd-ratbox/modules/m_dline.c
  1.186     +3 -3      ircd-ratbox/modules/m_kline.c
  1.64      +3 -3      ircd-ratbox/modules/m_resv.c
  1.55      +4 -4      ircd-ratbox/modules/m_xline.c
  1.16      +1 -1      ircd-ratbox/src/cache.c
  7.347     +1 -1      ircd-ratbox/src/ircd.c
  1.161     +2 -2      ircd-ratbox/src/ircd_lexer.l
  7.474     +6 -6      ircd-ratbox/src/s_conf.c
  7.72      +3 -3      ircd-ratbox/src/s_log.c



androsyn    2004/07/29 14:07:49 EDT	(20040729_5)

  Modified files:
    include              s_conf.h 
    modules              m_dline.c m_kline.c m_resv.c m_xline.c 
    src                  cache.c ircd.c ircd_lexer.l kdparse.c 
                         s_conf.c s_log.c 
  Log:
  Missed some..
  
  Revision  Changes    Path
  7.281     +4 -4      ircd-ratbox/include/s_conf.h
  1.38      +3 -3      ircd-ratbox/modules/m_dline.c
  1.185     +2 -2      ircd-ratbox/modules/m_kline.c
  1.63      +2 -2      ircd-ratbox/modules/m_resv.c
  1.54      +3 -3      ircd-ratbox/modules/m_xline.c
  1.15      +1 -1      ircd-ratbox/src/cache.c
  7.346     +1 -1      ircd-ratbox/src/ircd.c
  1.160     +1 -1      ircd-ratbox/src/ircd_lexer.l
  7.37      +4 -4      ircd-ratbox/src/kdparse.c
  7.473     +5 -5      ircd-ratbox/src/s_conf.c
  7.71      +2 -2      ircd-ratbox/src/s_log.c



androsyn    2004/07/29 14:03:12 EDT	(20040729_4)

  Modified files:
    adns                 adns.h internal.h setup.c 
    include              s_conf.h 
    modules              m_dline.c m_kline.c m_resv.c m_xline.c 
    src                  cache.c ircd.c ircd_lexer.l kdparse.c 
                         s_conf.c s_log.c 
  Log:
  Change fb* functions to use standard f* functions
  
  Revision  Changes    Path
  1.12      +2 -2      ircd-ratbox/adns/adns.h
  1.13      +1 -1      ircd-ratbox/adns/internal.h
  1.34      +8 -8      ircd-ratbox/adns/setup.c
  7.280     +2 -2      ircd-ratbox/include/s_conf.h
  1.37      +9 -9      ircd-ratbox/modules/m_dline.c
  1.184     +9 -9      ircd-ratbox/modules/m_kline.c
  1.62      +8 -8      ircd-ratbox/modules/m_resv.c
  1.53      +11 -11    ircd-ratbox/modules/m_xline.c
  1.14      +3 -3      ircd-ratbox/src/cache.c
  7.345     +2 -2      ircd-ratbox/src/ircd.c
  1.159     +3 -3      ircd-ratbox/src/ircd_lexer.l
  7.36      +4 -4      ircd-ratbox/src/kdparse.c
  7.472     +10 -10    ircd-ratbox/src/s_conf.c
  7.70      +15 -15    ircd-ratbox/src/s_log.c



leeh        2004/07/29 13:00:37 EDT	(20040729_3)

  Modified files:
    include              config.h 
  Log:
  - piddpath had been moved to the log dir when it should be in etc/
  
  Revision  Changes    Path
  7.176     +1 -1      ircd-ratbox/include/config.h



leeh        2004/07/29 12:59:33 EDT	(20040729_2)

  Modified files:
    include              s_serv.h 
    modules/core         m_server.c 
    src                  s_serv.c 
  Log:
  - move check_server(), server_estab() and bursting funcs into m_server.c
  
  Revision  Changes    Path
  7.95      +3 -5      ircd-ratbox/include/s_serv.h
  1.134     +733 -1    ircd-ratbox/modules/core/m_server.c
  7.407     +4 -728    ircd-ratbox/src/s_serv.c



leeh        2004/07/29 12:09:28 EDT	(20040729_1)

  Modified files:
    include              channel.h 
    modules/core         m_join.c 
    src                  channel.c 
  Log:
  - move can_join() to m_join.c
  
  Revision  Changes    Path
  7.154     +0 -1      ircd-ratbox/include/channel.h
  1.158     +63 -1     ircd-ratbox/modules/core/m_join.c
  7.419     +0 -59     ircd-ratbox/src/channel.c



leeh        2004/07/29 11:50:00 EDT	(20040729_0)

  Modified files:
    modules              Makefile.in 
    modules/core         m_join.c 
    src                  modules.c 
  Removed files:
    modules/core         m_sjoin.c 
  Log:
  - merge m_sjoin.c into m_join.c
  
  Revision  Changes    Path
  1.100     +0 -1      ircd-ratbox/modules/Makefile.in
  1.157     +466 -2    ircd-ratbox/modules/core/m_join.c
  1.202     +0 -718    ircd-ratbox/modules/core/m_sjoin.c (dead)
  7.144     +0 -1      ircd-ratbox/src/modules.c



leeh        2004/07/28 19:34:43 EDT	(20040728_5)

  Modified files:
    src                  newconf.c 
  Log:
  - adding stacking of ips in exempt {}; blocks
  
  Revision  Changes    Path
  7.158     +12 -33    ircd-ratbox/src/newconf.c



leeh        2004/07/28 19:23:27 EDT	(20040728_4)

  Modified files:
    doc                  example.conf example.efnet.conf 
    include              hostmask.h ircd.h s_conf.h s_newconf.h 
    modules              m_rehash.c 
    src                  hostmask.c ircd.c ircd_signal.c newconf.c 
                         s_conf.c s_newconf.c 
  Log:
  - remove ability to set klines/dlines/xlines/resvs via ircd.conf
  - rehash no longer rereads the ban configs
  - SIGUSR2 and /rehash banconfigs added to reread ban configs
  
  Revision  Changes    Path
  7.244     +1 -40     ircd-ratbox/doc/example.conf
  7.76      +1 -43     ircd-ratbox/doc/example.efnet.conf
  1.34      +1 -1      ircd-ratbox/include/hostmask.h
  7.74      +1 -0      ircd-ratbox/include/ircd.h
  7.279     +3 -1      ircd-ratbox/include/s_conf.h
  7.33      +2 -1      ircd-ratbox/include/s_newconf.h
  1.82      +11 -1     ircd-ratbox/modules/m_rehash.c
  7.98      +5 -4      ircd-ratbox/src/hostmask.c
  7.344     +12 -1     ircd-ratbox/src/ircd.c
  7.23      +10 -0     ircd-ratbox/src/ircd_signal.c
  7.157     +0 -280    ircd-ratbox/src/newconf.c
  7.471     +141 -139  ircd-ratbox/src/s_conf.c
  7.46      +8 -2      ircd-ratbox/src/s_newconf.c



leeh        2004/07/27 23:00:30 EDT	(20040728_3)

  Modified files:
    include              s_gline.h 
    modules              m_gline.c 
    src                  s_gline.c 
  Log:
  - expanded add_gline() out into m_gline.c
  - moved find_is_glined() s_gline.c -> find_existing_gline() m_gline.c
  
  Revision  Changes    Path
  7.18      +0 -3      ircd-ratbox/include/s_gline.h
  1.142     +22 -3     ircd-ratbox/modules/m_gline.c
  1.42      +1 -40     ircd-ratbox/src/s_gline.c



leeh        2004/07/27 22:42:28 EDT	(20040728_2)

  Modified files:
    include              channel.h 
    modules              m_topic.c 
    src                  channel.c 
  Log:
  - move allocate_topic() and set_channel_topic() to m_topic.c
  
  Revision  Changes    Path
  7.153     +4 -3      ircd-ratbox/include/channel.h
  1.89      +59 -1     ircd-ratbox/modules/m_topic.c
  7.418     +2 -56     ircd-ratbox/src/channel.c



leeh        2004/07/27 22:19:57 EDT	(20040728_1)

  Modified files:
    modules              .depend Makefile.in m_topic.c 
    src                  .depend 
  Removed files:
    modules              m_tb.c 
  Log:
  - merge m_tb.c into m_topic.c
  
  Revision  Changes    Path
  1.40      +0 -10     ircd-ratbox/modules/.depend
  1.99      +0 -1      ircd-ratbox/modules/Makefile.in
  1.8       +0 -115    ircd-ratbox/modules/m_tb.c (dead)
  1.88      +69 -2     ircd-ratbox/modules/m_topic.c
  7.43      +2 -2      ircd-ratbox/src/.depend



leeh        2004/07/27 22:17:51 EDT	(20040728_0)

  Modified files:
    .                    ChangeLog 
    include              patchlevel.h 
  Log:
  - clear the ChangeLog and rename to 2.1.0beta
  
  Revision  Changes    Path
  1.1412    +0 -25339  ircd-ratbox/ChangeLog
  7.66      +1 -1      ircd-ratbox/include/patchlevel.h



