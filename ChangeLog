moggie      2010/11/07 01:50:54 UTC	(20101107_0-27151)
  Log:
  - Check if chanfix scores are too low before the fix is added.
  - Re-order add_chanfix() to avoid a couple of unnecessary malloc() and
    free() calls.
  - Add a couple of add NOTE calls to give more channel info.
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/include/s_chanfix.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/11/06 14:44:44 UTC	(20101106_0-27149)
  Log:
  - Move channel note handling out of chanfix for use by other services.
  - Add notes.c and notes.h for note stuff.
  - Update DB, translation strings and config file for chan note changes.
  - Remove obsolete add_system_note().
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/include/notes.h (File Added) 
	rserv/trunk/src/  (Property Modified)
	rserv/trunk/src/Makefile.in (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/notes.c (File Added) 
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 


moggie      2010/11/05 18:51:57 UTC	(20101105_1-27147)
  Log:
  - Add some #ifdefs to omit some events.
  

  Modified:
	rserv/trunk/src/newconf.c (File Modified) 


moggie      2010/11/05 18:31:37 UTC	(20101105_0-27145)
  Log:
  - Add an alert boolean for notes.
  - Modify the ALERT command to require text for a note.
  - Switch get_time() to international date format.
  - Leave flags as a number during SQL execution instead of a string.
  

  Modified:
	rserv/trunk/help/en/chanfix/alert (File Modified) 
	rserv/trunk/help/en/chanfix/index-admin (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/src/tools.c (File Modified) 
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 


moggie      2010/11/04 01:30:43 UTC	(20101104_0-27141)
  Log:
  - Use some more libratbox stuff.
  - Fix copy/paste error in config file.
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/src/io.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


androsyn    2010/11/03 22:26:22 UTC	(20101103_9-27139)
  Log:
  Make .events work again.
  
  

  Modified:
	rserv/trunk/src/ucommand.c (File Modified) 


androsyn    2010/11/03 21:52:34 UTC	(20101103_8-27137)
  Log:
  add SSL/TLS support and document the ssl flag

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/io.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 


androsyn    2010/11/03 21:41:19 UTC	(20101103_7-27135)
  Log:
  pass flag to make_sockaddrs instead of a hard coded IO_HOST

  Modified:
	rserv/trunk/src/io.c (File Modified) 


androsyn    2010/11/03 21:12:18 UTC	(20101103_6-27133)
  Log:
  clear the ping flag

  Modified:
	rserv/trunk/src/io.c (File Modified) 


androsyn    2010/11/03 21:04:18 UTC	(20101103_5-27131)
  Log:
  * Centralize the last_time update stuff to read_any().
  * Only update last_time if data was actually read from the socket,
    not just if we woke up.
  
  

  Modified:
	rserv/trunk/src/io.c (File Modified) 


androsyn    2010/11/03 20:53:54 UTC	(20101103_4-27129)
  Log:
  update last_time when reading from the server.  also check for IsDead after read_any here

  Modified:
	rserv/trunk/src/io.c (File Modified) 


moggie      2010/11/03 18:58:16 UTC	(20101103_3-27127)
  Log:
  - pgsql will need tools.h too.
  

  Modified:
	rserv/trunk/src/rsdb_pgsql.c (File Modified) 


androsyn    2010/11/03 18:26:10 UTC	(20101103_2-27125)
  Log:
  add tools.h to rsdb_mysql.c

  Modified:
	rserv/trunk/src/rsdb_mysql.c (File Modified) 


androsyn    2010/11/03 18:25:47 UTC	(20101103_1-27123)
  Log:
  fix warnings on install

  Modified:
	rserv/trunk/Makefile.in (File Modified) 


androsyn    2010/11/03 17:56:20 UTC	(20101103_0-27121)
  Log:
  Rebuild configure, remove spaces between a few -L options and the library path.
  
  

  Modified:
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 


androsyn    2010/11/01 03:47:44 UTC	(20101101_0-27117)
  Log:
  use RB_RM for RM, this fixes make clean

  Modified:
	rserv/trunk/src/Makefile.in (File Modified) 


androsyn    2010/10/04 14:18:35 UTC	(20101004_1-27104)
  Log:
  make rserv link against libratbox properly

  Modified:
	rserv/branches/rserv-libratbox/Makefile.in (File Modified) 
	rserv/branches/rserv-libratbox/src/Makefile.in (File Modified) 


androsyn    2010/10/04 14:09:55 UTC	(20101004_0-27102)
  Log:
  merge in rserv changes from trunk

  Modified:
	rserv/branches/rserv-libratbox/doc/example.conf (File Modified) 
	rserv/branches/rserv-libratbox/help/en/chanfix/index-admin (File Modified) 
	rserv/branches/rserv-libratbox/help/en/chanfix/uscore (File Modified) 
	rserv/branches/rserv-libratbox/include/conf.h (File Modified) 
	rserv/branches/rserv-libratbox/include/langs.h (File Modified) 
	rserv/branches/rserv-libratbox/include/s_chanfix.h (File Modified) 
	rserv/branches/rserv-libratbox/src/conf.c (File Modified) 
	rserv/branches/rserv-libratbox/src/langs.c (File Modified) 
	rserv/branches/rserv-libratbox/src/messages.c (File Modified) 
	rserv/branches/rserv-libratbox/src/newconf.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_chanfix.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_chanserv.c (File Modified) 


androsyn    2010/09/26 05:12:40 UTC	(20100926_6-27096)
  Log:
  update events timers now with the event api that needs pointers, not names to the events

  Modified:
	rserv/branches/rserv-libratbox/autoconf/configure.in (File Modified) 
	rserv/branches/rserv-libratbox/configure (File Modified) 
	rserv/branches/rserv-libratbox/include/s_banserv.h (File Modified) 
	rserv/branches/rserv-libratbox/include/s_chanserv.h (File Modified) 
	rserv/branches/rserv-libratbox/include/setup.h.in (File Modified) 
	rserv/branches/rserv-libratbox/src/newconf.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_banserv.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_chanserv.c (File Modified) 


androsyn    2010/09/26 05:00:55 UTC	(20100926_5-27094)
  Log:
  more crypt() related cleanups

  Modified:
	rserv/branches/rserv-libratbox/src/service.c (File Modified) 
	rserv/branches/rserv-libratbox/src/ucommand.c (File Modified) 


androsyn    2010/09/26 04:53:51 UTC	(20100926_4-27092)
  Log:
  don't need crypt.h with libratbox and its rb_crypt

  Modified:
	rserv/branches/rserv-libratbox/src/crypt.c (File Modified) 
	rserv/branches/rserv-libratbox/src/rserv.c (File Modified) 


androsyn    2010/09/26 04:22:59 UTC	(20100926_3-27090)
  Log:
  change a bunch of string_to_array calls with approriate rb_string_to_array calls

  Modified:
	rserv/branches/rserv-libratbox/include/tools.h (File Modified) 
	rserv/branches/rserv-libratbox/src/rserv.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_chanserv.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_userserv.c (File Modified) 
	rserv/branches/rserv-libratbox/src/service.c (File Modified) 
	rserv/branches/rserv-libratbox/src/tools.c (File Modified) 


androsyn    2010/09/26 04:15:24 UTC	(20100926_2-27088)
  Log:
  some more fixes/cleanups

  Modified:
	rserv/branches/rserv-libratbox/include/io.h (File Modified) 
	rserv/branches/rserv-libratbox/src/c_error.c (File Modified) 
	rserv/branches/rserv-libratbox/src/client.c (File Modified) 
	rserv/branches/rserv-libratbox/src/io.c (File Modified) 
	rserv/branches/rserv-libratbox/src/scommand.c (File Modified) 
	rserv/branches/rserv-libratbox/src/ucommand.c (File Modified) 


androsyn    2010/09/26 02:54:49 UTC	(20100926_1-27086)
  Log:
  deal with connection timeouts and crap

  Modified:
	rserv/branches/rserv-libratbox/src/io.c (File Modified) 
	rserv/branches/rserv-libratbox/src/rserv.c (File Modified) 


androsyn    2010/09/26 02:19:59 UTC	(20100926_0-27084)
  Log:
  Yet another megacommit.  More libratbox integration.  Some of the i/o code handling still needs
  to be done for dead clients etc...fun fun
  
  

  Modified:
	rserv/branches/rserv-libratbox/autoconf/configure.in (File Modified) 
	rserv/branches/rserv-libratbox/configure (File Modified) 
	rserv/branches/rserv-libratbox/include/io.h (File Modified) 
	rserv/branches/rserv-libratbox/include/rserv.h (File Modified) 
	rserv/branches/rserv-libratbox/include/s_chanfix.h (File Modified) 
	rserv/branches/rserv-libratbox/include/s_chanserv.h (File Modified) 
	rserv/branches/rserv-libratbox/include/s_userserv.h (File Modified) 
	rserv/branches/rserv-libratbox/include/setup.h.in (File Modified) 
	rserv/branches/rserv-libratbox/src/.depend (File Modified) 
	rserv/branches/rserv-libratbox/src/channel.c (File Modified) 
	rserv/branches/rserv-libratbox/src/client.c (File Modified) 
	rserv/branches/rserv-libratbox/src/conf.c (File Modified) 
	rserv/branches/rserv-libratbox/src/crypt.c (File Modified) 
	rserv/branches/rserv-libratbox/src/email.c (File Modified) 
	rserv/branches/rserv-libratbox/src/io.c (File Modified) 
	rserv/branches/rserv-libratbox/src/log.c (File Modified) 
	rserv/branches/rserv-libratbox/src/rsdb_mysql.c (File Modified) 
	rserv/branches/rserv-libratbox/src/rsdb_pgsql.c (File Modified) 
	rserv/branches/rserv-libratbox/src/rserv.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_banserv.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_chanfix.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_chanserv.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_jupeserv.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_memoserv.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_nickserv.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_operbot.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_operserv.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_userserv.c (File Modified) 
	rserv/branches/rserv-libratbox/src/scommand.c (File Modified) 
	rserv/branches/rserv-libratbox/src/service.c (File Modified) 
	rserv/branches/rserv-libratbox/src/tools.c (File Modified) 
	rserv/branches/rserv-libratbox/src/u_stats.c (File Modified) 
	rserv/branches/rserv-libratbox/src/ucommand.c (File Modified) 


androsyn    2010/09/25 20:59:06 UTC	(20100925_2-27082)
  Log:
  First go around at libratbox integration.  It compiles, likely doesn't work. 
  This was just the long hanging fruit that could be search/replaced etc.
  

  Modified:
	rserv/branches/rserv-libratbox/autoconf/configure.in (File Modified) 
	rserv/branches/rserv-libratbox/configure (File Modified) 
	rserv/branches/rserv-libratbox/include/balloc.h (File Modified) 
	rserv/branches/rserv-libratbox/include/cache.h (File Modified) 
	rserv/branches/rserv-libratbox/include/channel.h (File Modified) 
	rserv/branches/rserv-libratbox/include/client.h (File Modified) 
	rserv/branches/rserv-libratbox/include/conf.h (File Modified) 
	rserv/branches/rserv-libratbox/include/dbhook.h (File Modified) 
	rserv/branches/rserv-libratbox/include/io.h (File Modified) 
	rserv/branches/rserv-libratbox/include/newconf.h (File Modified) 
	rserv/branches/rserv-libratbox/include/s_banserv.h (File Modified) 
	rserv/branches/rserv-libratbox/include/s_chanfix.h (File Modified) 
	rserv/branches/rserv-libratbox/include/s_chanserv.h (File Modified) 
	rserv/branches/rserv-libratbox/include/s_nickserv.h (File Modified) 
	rserv/branches/rserv-libratbox/include/s_userserv.h (File Modified) 
	rserv/branches/rserv-libratbox/include/scommand.h (File Modified) 
	rserv/branches/rserv-libratbox/include/service.h (File Modified) 
	rserv/branches/rserv-libratbox/include/stdinc.h (File Modified) 
	rserv/branches/rserv-libratbox/include/tools.h (File Modified) 
	rserv/branches/rserv-libratbox/include/ucommand.h (File Modified) 
	rserv/branches/rserv-libratbox/pcre/config.h.in (File Modified) 
	rserv/branches/rserv-libratbox/pcre/configure (File Modified) 
	rserv/branches/rserv-libratbox/src/.depend (File Modified) 
	rserv/branches/rserv-libratbox/src/Makefile.in (File Modified) 
	rserv/branches/rserv-libratbox/src/balloc.c (File Deleted) 
	rserv/branches/rserv-libratbox/src/c_error.c (File Modified) 
	rserv/branches/rserv-libratbox/src/c_message.c (File Modified) 
	rserv/branches/rserv-libratbox/src/c_mode.c (File Modified) 
	rserv/branches/rserv-libratbox/src/cache.c (File Modified) 
	rserv/branches/rserv-libratbox/src/channel.c (File Modified) 
	rserv/branches/rserv-libratbox/src/cidr.c (File Modified) 
	rserv/branches/rserv-libratbox/src/client.c (File Modified) 
	rserv/branches/rserv-libratbox/src/conf.c (File Modified) 
	rserv/branches/rserv-libratbox/src/dbhook.c (File Modified) 
	rserv/branches/rserv-libratbox/src/email.c (File Modified) 
	rserv/branches/rserv-libratbox/src/event.c (File Deleted) 
	rserv/branches/rserv-libratbox/src/hook.c (File Modified) 
	rserv/branches/rserv-libratbox/src/io.c (File Modified) 
	rserv/branches/rserv-libratbox/src/langs.c (File Modified) 
	rserv/branches/rserv-libratbox/src/log.c (File Modified) 
	rserv/branches/rserv-libratbox/src/modebuild.c (File Modified) 
	rserv/branches/rserv-libratbox/src/newconf.c (File Modified) 
	rserv/branches/rserv-libratbox/src/parser.y (File Modified) 
	rserv/branches/rserv-libratbox/src/rsdb_mysql.c (File Modified) 
	rserv/branches/rserv-libratbox/src/rsdb_pgsql.c (File Modified) 
	rserv/branches/rserv-libratbox/src/rsdb_sqlite3.c (File Modified) 
	rserv/branches/rserv-libratbox/src/rserv.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_alis.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_banserv.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_chanfix.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_chanserv.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_global.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_jupeserv.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_memoserv.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_nickserv.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_operbot.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_operserv.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_userserv.c (File Modified) 
	rserv/branches/rserv-libratbox/src/s_watchserv.c (File Modified) 
	rserv/branches/rserv-libratbox/src/scommand.c (File Modified) 
	rserv/branches/rserv-libratbox/src/service.c (File Modified) 
	rserv/branches/rserv-libratbox/src/tools.c (File Modified) 
	rserv/branches/rserv-libratbox/src/u_stats.c (File Modified) 
	rserv/branches/rserv-libratbox/src/ucommand.c (File Modified) 


androsyn    2010/09/25 15:04:16 UTC	(20100925_1-27078)
  Log:
  Pull in libratbox svn
  

  Modified:
	rserv/branches/rserv-libratbox/  (Property Modified)


androsyn    2010/09/25 14:58:13 UTC	(20100925_0-27075)
  Log:
  Make a branch for libratbox merging..
  

  Modified:
	rserv/branches/rserv-libratbox/ (File Added) 


moggie      2010/09/22 10:21:29 UTC	(20100922_0-27073)
  Log:
  - Add configurable admin_score for jupeserv.
  - Fix copy/paste error in chanfix system note.
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 


moggie      2010/09/21 00:23:25 UTC	(20100921_0-27071)
  Log:
  - Add function for sending NOTICEs to a channel.
  - Get services to send a NOTICE to a channel when it becomes registered
    with ChanServ.
  - Use correct params for errors in CHECK command.
  - Add system note for a fix time expiring.
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/include/service.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


moggie      2010/09/19 15:26:39 UTC	(20100919_0-27069)
  Log:
  - Add config file option for max chanfix notes.
  - Add HOOK_SERVER_EXIT_WARNING to tell when a netsplit may be in progress.
  - Add netsplit_warn_ts for chanfix to temporarily ignore opless channels
    during a netsplit.
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/include/hook.h (File Modified) 
	rserv/trunk/include/s_chanfix.h (File Modified) 
	rserv/trunk/src/client.c (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/09/18 01:06:59 UTC	(20100918_0-27067)
  Log:
  - Add add_system_note() function to create internal notes.
  - Add main log entries for when the network is split.
  - Change add_chanfix() to use get_cf_chan_flags().
  - Remove checks for chanserv channels in CHANFIX and REVERT functions
    since add_chanfix() does this anyway.
  

  Modified:
	rserv/trunk/help/en/chanfix/delnote (File Modified) 
	rserv/trunk/src/client.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/09/17 11:32:39 UTC	(20100917_0-27065)
  Log:
  - Fix sqlite schema error.
  - Add cf_note table for storing channel notes.
  - Add new and remove several old chanfix translation strings.
  - Add functions for INFO, ADDNOTE and DELNOTE.
  - When executing a manual chanfix, check the network isn't split and manual
    chanfixing isn't disabled.
  - Add a get_cf_chan_flags() function to see if it improves code clarity.
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 


moggie      2010/09/15 14:08:51 UTC	(20100915_0-27063)
  Log:
  - Update the help files to reflect recent changes.
  - Rename score_items to s_items for a bit of clarity.
  - Set chanfix as opered in the example config.
  - Add a chanfix flags section and fix bad formatting in example config.
  - Revert bad ru translation strings to English to stop them causing log
    file errors.
  - Fix a typo likely preventing chanfix scores from being free'd.
  - Adjust BLOCK command to block channels that don't already exist in the DB.
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/help/en/chanfix/addnote (File Modified) 
	rserv/trunk/help/en/chanfix/alert (File Modified) 
	rserv/trunk/help/en/chanfix/block (File Modified) 
	rserv/trunk/help/en/chanfix/chanfix (File Modified) 
	rserv/trunk/help/en/chanfix/check (File Modified) 
	rserv/trunk/help/en/chanfix/delnote (File Modified) 
	rserv/trunk/help/en/chanfix/index (File Modified) 
	rserv/trunk/help/en/chanfix/index-admin (File Modified) 
	rserv/trunk/help/en/chanfix/info (File Modified) 
	rserv/trunk/help/en/chanfix/oplist (File Deleted) 
	rserv/trunk/help/en/chanfix/opnicks (File Deleted) 
	rserv/trunk/help/en/chanfix/score (File Added) 
	rserv/trunk/help/en/chanfix/unalert (File Modified) 
	rserv/trunk/help/en/chanfix/unblock (File Modified) 
	rserv/trunk/help/en/chanfix/uscore (File Added) 
	rserv/trunk/help/en/chanfix/userlist (File Added) 
	rserv/trunk/include/s_chanfix.h (File Modified) 
	rserv/trunk/langs/ru.lang (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/07/20 12:00:28 UTC	(20100720_0-27059)
  Log:
  - Add a USCORE command for looking up scores of individual user@hosts.
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/07/18 12:02:13 UTC	(20100718_0-27057)
  Log:
  - Start adding support for setting alert flags for channels.
  - Modify add_chanfix() code to include checks for alert flags.
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/07/17 21:41:24 UTC	(20100717_0-27055)
  Log:
  - Add note in chanfix doc about chanfixing with ChanServ support.
  - Add flags field to cf_channel table.
  - Add translation strings for channel blocking / unblocking.
  - First pass at supporting blocking / unblocking of channels.
  - Create some flags for storing channel status in DB.
  

  Modified:
	rserv/trunk/doc/chanfix.txt (File Modified) 
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/include/s_chanfix.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 


moggie      2010/07/12 23:35:47 UTC	(20100712_0-27053)
  Log:
  - Rename get_chmember_cf_scores() to get_chmember_scores().
  - Adjust get_chmember_scores() to accept an option to ignore duplicate
    user@hosts (clones).
  - Remove CF_MAX_USERS_TO_OP as not used.
  - Adjust CF_DAYSAMPLES removal logic uses the right number of days.
  

  Modified:
	rserv/trunk/include/s_chanfix.h (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


jilles      2010/06/29 17:47:39 UTC	(20100629_1-27051)
  Log:
  Make parallel make more reliable by adding a missing dependency.
  
  The error message of this problem starts with something like
  lexer.l:39:19: error: y.tab.h: No such file or directory
  

  Modified:
	rserv/trunk/src/Makefile.in (File Modified) 


androsyn    2010/06/29 16:42:31 UTC	(20100629_0-27049)
  Log:
  add stdint.h to list of includes

  Modified:
	rserv/trunk/include/stdinc.h (File Modified) 


moggie      2010/06/15 23:40:36 UTC	(20100615_1-27045)
  Log:
  - Honor the client_needs_ident config file option when scoring.
  - Re-use duplicate chanfix_score_item structs instead of destroying and
    creating new ones all the time.
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/06/15 00:07:42 UTC	(20100615_0-27043)
  Log:
  - Add basic support for handling duplicate user@hosts on channels.
  - Create clones dlink_list for storing clone chanfix info.
  

  Modified:
	rserv/trunk/include/s_chanfix.h (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/06/14 00:52:45 UTC	(20100614_0-27041)
  Log:
  - Tidy up some of the chanfix code.
  - Add support for removing channel modes and bans during an autofix.
  

  Modified:
	rserv/trunk/include/s_chanfix.h (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/06/13 00:30:10 UTC	(20100613_0-27039)
  Log:
  - Rename build_opless_channel_scores() to build_channel_scores() and fix up to
    work properly.
  - Create o_chanfix_userlist2() for testing build_channel_scores() function.
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/06/12 12:13:38 UTC	(20100612_0-27033)
  Log:
  - Remove SVC_CF_NOTYPESCORES and replace with SVC_CF_NOMATCHES.
  - Improve SCORE and USERLIST commands to correctly show score data of clients
    present in the channel.
  - Don't abort the SCORE and USERLIST commands if a channel is ran by ChanServ.
  - Add missing braces in src/channel.c
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/channel.c (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/06/10 23:17:32 UTC	(20100610_0-27031)
  Log:
  - Set chanfix to be stealthed by default in example config.
  - Remove cf_client_needs_rdns and cf_score_chanserv_chans config file options
    as they don't seem very useful.
  - Update REVERT command function to use chanfix opping logic.
  - Don't remove +I's during a REVERT.
  - No longer check if a channel is registered with ChanServ before scoring it.
    Avoiding this check should save resources and may provide useful information
    to services admins.
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/05/12 16:23:39 UTC	(20100512_1-27029)
  Log:
  - Fix service_flags compile warning.
  - Add support for chanfix service flags in operator blocks.
  

  Modified:
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/include/service.h (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 


moggie      2010/05/12 10:49:32 UTC	(20100512_0-27027)
  Log:
  - Rename service_flags type to 'unsigned long long' to 'uint64_t' for better
    consistency / code readability (unresolved compiler warning to fix).
  - Add code to detect opless channels while collecting score data.
    Allows chanfix to pick up opless channels after a server burst.
  - Add new services operator chanfix service flags.
  - Add conf_set_oper_chanfix() function to process chanfix config flags.
  

  Modified:
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


leeh        2010/04/25 18:23:20 UTC	(20100425_0-27025)
  Log:
  - first pass at storing entries for opers who split
  

  Modified:
	rserv/trunk/include/client.h (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/client.c (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 


leeh        2010/04/22 18:18:29 UTC	(20100422_0-27019)
  Log:
  - add modified version of esoterics patch to add startup options controlling
    the path to chroot to and the uid/gid to drop privs to
  

  Modified:
	rserv/trunk/src/rserv.c (File Modified) 


moggie      2010/04/07 01:28:02 UTC	(20100407_0-27017)
  Log:
  - Add a max_num parameter to build_opless_channel_scores().
  - Check if score_items is less than max_num and shrink memory if possible.
  - Remove o_chanfix_cfjoin() and o_chanfix_cfpart() as no longer useful.
  - Swap score_cmp() comparison used by qsort.
  - Set msptr when building opless channel scores.
  

  Modified:
	rserv/trunk/include/s_chanfix.h (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


leeh        2010/03/30 21:15:21 UTC	(20100330_2-27013)
  Log:
  - recv returns an ssize_t, not a size_t
  

  Modified:
	rserv/trunk/src/io.c (File Modified) 


leeh        2010/03/30 19:26:53 UTC	(20100330_1-27009)
  Log:
  - TS6 spec says a channels modes aren't actually sent in a TS6 JOIN, so we
    shouldn't be applying them..
  
    This was screwing over limit/keys in some situations
  

  Modified:
	rserv/trunk/src/channel.c (File Modified) 


leeh        2010/03/30 19:09:16 UTC	(20100330_0-27007)
  Log:
  - make the check for updating topics case insensitive
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2010/03/21 12:50:50 UTC	(20100321_1-27001)
  Log:
  - make events with a frequency == -1 'disabled', frequency==0 events are
    'oneshot' and removed after running -- frequency==-1 are kept around
  - make eventAdd() and eventUpdate() convert freq==0 -> -1 to disable them
  

  Modified:
	rserv/trunk/include/event.h (File Modified) 
	rserv/trunk/src/event.c (File Modified) 


leeh        2010/03/21 12:25:48 UTC	(20100321_0-26999)
  Log:
  - make /stats E available over irc to services admins
  

  Modified:
	rserv/trunk/include/event.h (File Modified) 
	rserv/trunk/src/event.c (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 
	rserv/trunk/src/ucommand.c (File Modified) 


leeh        2010/03/10 21:57:30 UTC	(20100310_0-26997)
  Log:
  - alter exit_client(), exit_user() and exit_server() to take a parameter
    determining whether the exit is being caused by a split
  

  Modified:
	rserv/trunk/include/client.h (File Modified) 
	rserv/trunk/src/client.c (File Modified) 
	rserv/trunk/src/io.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


moggie      2010/03/07 14:03:10 UTC	(20100307_0-26995)
  Log:
  - Add new CF translation strings.
  - Get rserv to detect when someone leaving a channel makes it opless.
  - Store chanfix_scores in chanfix_channel struct so the data persists for
    the duration of the fix.
  - Improve fix completion detection by keeping track of who chanfix has opped.
  - Pass client_p into add_chanfix() function so it can send error messages
    back to the user.
  - Create e_chanfix_manualfix_channels() event and modify o_chanfix_chanfix()
    function to add the channel for manual fixing instead of opping everyone.
  - Create build_opless_channel_scores() function for building score lists
    based on channel instead of DB data.
  - Fix some bugs in channel_list processing and add interval timer values to
    control how often chanfix checks manual and autofix channels.
  - Make get_chmember_cf_scores() more condensed and hopefully faster.
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/include/s_chanfix.h (File Modified) 
	rserv/trunk/src/channel.c (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/03/03 20:33:50 UTC	(20100303_0-26991)
  Log:
  - Add translation strings for SCORE and USERLIST functions.
  - Make chanfix part when a chanfix_channel is deleted.
  - Improve logic in get_chmember_cf_scores() function.
  - Check autofixing is enabled before processing autofix channels.
  - Use numbers instead of strings for better DB performance.
  - Use HAVING instead of WHERE clauses to limit results by min score.
  - Create basic chanfix_opless_channel() function for chanfixing opless
    channels.
  - Add check to see if fix time has expired and if there are any more non-ops
    left (signalling a completed fix).
  - TODO: Write score builder function to generate scores based on channels
    instead of DB info, test for indications of which performs better.
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/include/s_chanfix.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/03/02 23:00:33 UTC	(20100302_3-26989)
  Log:
  - Add a HOOK_CHANNEL_OPLESS hook to signal when a channel has become opless.
  

  Modified:
	rserv/trunk/include/hook.h (File Modified) 
	rserv/trunk/src/channel.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/03/02 21:16:05 UTC	(20100302_2-26987)
  Log:
  - Modify the get_chmember_cf_scores() function to take a chanfix_score struct
    as a parameter. In the case of the SCORE command, this avoids the need to
    perform 2 separate queries and memory allocations to fetch the necessary
    score info from the DB.
  - Pass the users/users_opped/users_unopped list directly into
    get_chmember_cf_scores() (instead of an int flag) for safety/niceness.
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/03/02 14:08:24 UTC	(20100302_1-26985)
  Log:
  - Add some #defines for calculating score checks.
  - Create process_chanfix_list() function for processing either the list of
    oppless auto or manual fix channels.
  

  Modified:
	rserv/trunk/include/s_chanfix.h (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/03/02 01:30:51 UTC	(20100302_0-26983)
  Log:
  - Create USERLIST command functionality.
  - Use CF_DAYSAMPLES not DAYSAMPLES.
  - Modify get_all_cf_scores() to take an extra param for when we want to filter
    scores by a minimum value.
  - Fix some channel user dlink_list pointeryness in get_chmember_cf_scores().
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/03/01 22:13:09 UTC	(20100301_3-26979)
  Log:
  - Add basic support for a HOOK_CHANNEL_OPPLESS hook.
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/03/01 22:06:46 UTC	(20100301_2-26977)
  Log:
  - Remove MAXCHANOPCOUNT restriction to avoid possible inaccurate scoring for
    huge channels (the benefit of this is probably not worth it).
  - Store dlink_list ptr instead of dlink_node ptr when running DLINK_FOREACH
    loops.
  

  Modified:
	rserv/trunk/include/s_chanfix.h (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/03/01 12:15:49 UTC	(20100301_1-26975)
  Log:
  - Tidy some things and add a few reminder comments.
  - Add sanity check so we don't score a silly number of chanops in the DB.
  - Run query during history collation to drop old scores from the DB.
  

  Modified:
	rserv/trunk/include/s_chanfix.h (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/03/01 02:41:59 UTC	(20100301_0-26973)
  Log:
  - Bring back simplified version of get_userhost_id() and get_channel_id().
  - Modify get_all_cf_scores() to return a chanfix_score structure.
  - Modify get_chmember_cf_scores() to use a get_all_cf_scores() structure
    and fill in msptr values relating to channel members.
  - Modify o_chanfix_score() to make use of the above functions for displaying
    top channel score info.
  - Add chanfix_score and chanfix_score_item structs to make chanfixing with
    organised score data easier.
  

  Modified:
	rserv/trunk/include/s_chanfix.h (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


leeh        2010/02/28 22:14:46 UTC	(20100228_7-26971)
  Log:
  - change the parsing of operator {}; blocks so that they are not free()d on
    rehash.  When loading the conf again, try to find a dead one to resurrect
    instead of just creating new ones..
  
    This has the nice side effect that changing the flags on an operator {};
    block will now update the flags for any opers actually logged in
  

  Modified:
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 


leeh        2010/02/28 18:19:09 UTC	(20100228_6-26969)
  Log:
  - ensure find_conf_oper() cannot allow users to use blocks that have been
    removed but are still active (i.e. someone is logged in)
  

  Modified:
	rserv/trunk/src/conf.c (File Modified) 


leeh        2010/02/28 18:10:15 UTC	(20100228_5-26967)
  Log:
  - add in HOOK_CLIENT_EXIT_SPLIT for when a client exits due to a split
    called in addition to HOOK_CLIENT_EXIT
  

  Modified:
	rserv/trunk/include/hook.h (File Modified) 
	rserv/trunk/src/client.c (File Modified) 


leeh        2010/02/28 17:34:49 UTC	(20100228_4-26965)
  Log:
  - clarify the INSTALL instructions as to how the database engines lookup
    paths
  

  Modified:
	rserv/trunk/INSTALL (File Modified) 


leeh        2010/02/28 13:00:52 UTC	(20100228_3-26961)
  Log:
  - take --include from mysql_config, not --cflags
  - ensure we include <mysql.h> and <errmsg.h> for mysql, rather than
    <mysql/...>
  
    Looks like along with everyone else, we just have to hope there are no OS
    conflicts with errmsg.h
  

  Modified:
	rserv/trunk/aclocal.m4 (File Modified) 
	rserv/trunk/configure (File Modified) 
	rserv/trunk/src/rsdb_mysql.c (File Modified) 


moggie      2010/02/28 12:49:31 UTC	(20100228_2-26959)
  Log:
  - Add get_all_cf_scores() function for fetching all DB channel scores.
  - Rename get_userhost_chan_scores() to get_chmember_cf_scores() and move code
    to right place.
  - Re-factor o_chanfix_score() prototype to give better user output.
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 


leeh        2010/02/28 11:58:42 UTC	(20100228_1-26957)
  Log:
  - via Narf, userserv is passing in the wrong parameter ordering to
    SVC_INFO_SUSPENDEDADMIN when reasons are to be shown
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


moggie      2010/02/28 03:53:40 UTC	(20100228_0-26955)
  Log:
  - Make sure the history update code can detect if the cf_score table is empty.
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/02/27 23:53:59 UTC	(20100227_0-26953)
  Log:
  - Outline o_chanfix_score() function for showing scores.
  - Add get_userhost_chan_scores() for fetching userhosts and scores from the DB.
  - Add some #defines we'll need later.
  

  Modified:
	rserv/trunk/include/s_chanfix.h (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/02/26 02:56:22 UTC	(20100226_0-26947)
  Log:
  - Compensate for MySQL docs index syntax confusionness.
  - Enable seconds_to_midnight() function.
  - Add e_chanfix_collate_history() function to collate history scores into
    cf_score_history each night.
  - Add while loop into e_chanfix_score_channels() to process past score samples.
  

  Modified:
	rserv/trunk/include/s_chanfix.h (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 


moggie      2010/02/25 22:10:11 UTC	(20100225_6-26945)
  Log:
  - Create cf_score_history table and try adding some indexes.
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 


moggie      2010/02/25 20:33:00 UTC	(20100225_5-26943)
  Log:
  - Store days from epoch as well as timestamps in chanfix DB tables.
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 


moggie      2010/02/25 19:46:20 UTC	(20100225_4-26941)
  Log:
  - Remove redundant functions get_channel_id() and get_userhost_id().
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/02/25 19:45:05 UTC	(20100225_3-26939)
  Log:
  - Modify cf_temp_score collation to use pure SQL.
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/02/25 19:31:39 UTC	(20100225_2-26937)
  Log:
  - Ooops, cf_channel.channel should be cf_channel.chname like the others.
  

  Modified:
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 


leeh        2010/02/25 19:11:53 UTC	(20100225_1-26935)
  Log:
  - id columns for postgres need to be 'SERIAL' not 'SERRIAL'
  - remove some extra ',' in the sqlite schema
  

  Modified:
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 


moggie      2010/02/25 11:51:44 UTC	(20100225_0-26933)
  Log:
  - Modify score collection routine to handle multiple timestamp entries in case
    the last collection was interrupted.
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/02/24 22:46:35 UTC	(20100224_6-26931)
  Log:
  - Rename update_channel_scores() to collect_channel_scores().
  - Add prototype chanop scoring functionality and collate cf_temp_score data
    into cf_score.
  - Create get_channel_id() and get_userhost_id() functions for inserting
    and retrieving channel / userhost IDs from the DB.
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 


moggie      2010/02/24 18:22:25 UTC	(20100224_5-26927)
  Log:
  - Add primary key to cf_score and cf_temp_score tables.
  - Change cf_temp_score.day_ts to time_t timestamp of when data collection
    started.
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 


moggie      2010/02/24 17:46:43 UTC	(20100224_4-26925)
  Log:
  - Add cf_score table support in DB.
  

  Modified:
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 


moggie      2010/02/24 13:24:50 UTC	(20100224_3-26923)
  Log:
  - Add cf_userhost and cf_channel tables.
  

  Modified:
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 


moggie      2010/02/24 13:01:34 UTC	(20100224_2-26921)
  Log:
  - Rename cf_temp_score.channel to chname for consistency.
  - Create CONVERT_USER_HOST for storing user@hosts with the correct size.
  - Update generate-schema.pl with CONVERT_USER_HOST value.
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 
	rserv/trunk/tools/generate-schema.pl (File Modified) 


moggie      2010/02/24 02:24:04 UTC	(20100224_1-26919)
  Log:
  - Create cf_temp_score table.
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 


moggie      2010/02/24 01:57:58 UTC	(20100224_0-26917)
  Log:
  - Make find_channel_reg() non-static and external for use by chanfix.
  - Add SVC_CF_CHANSERVCHANNEL translation string.
  - Remove "invite only" parameter to chan_takeover() as we'll never use it.
  - Add update_channel_scores().
  - Outline e_chanfix_score_channels().
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/include/s_chanserv.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2010/02/23 21:45:02 UTC	(20100223_0-26915)
  Log:
  - make the hook for enforcing topics only work when chanserv is in the
    channel
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2010/02/22 20:15:32 UTC	(20100222_1-26913)
  Log:
  - add a hook for when the topic changes on a channel
  - support enforcetopic_frequency of 0 to enforce automatically on a topic
    change
  

  Modified:
	rserv/trunk/include/hook.h (File Modified) 
	rserv/trunk/src/channel.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2010/02/22 19:09:39 UTC	(20100222_0-26909)
  Log:
  - ensure we clear MODE_LIMIT and MODE_KEY from the bitmask in
    remove_our_simple_modes()
  

  Modified:
	rserv/trunk/src/channel.c (File Modified) 


moggie      2010/02/21 23:09:01 UTC	(20100221_3-26905)
  Log:
  - Add options for specifying a manual or autofix add_chanfix() channel.
  - Use remove_our_simple_modes() and remove_our_bans() as replacements for
    chan_remove_modes() and chan_remove_bans().
  - The the now obsolete chan_remove_modes() and chan_remove_bans().
  - Create REVERT command to give a better name for the CHANFIX override
    option. Tidy unused code in functions for both commands.
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 


leeh        2010/02/21 21:30:27 UTC	(20100221_2-26903)
  Log:
  - new param to introduce_service_channels(), controlling whether it sends a
    TB or not, and support sending a TB when thats true and our uplink
    supports it too
  - introduce channels with TB on initial burst only
  - make chanserv whinge when we get an EOB from our uplink and it doesn't
    support TB
  

  Modified:
	rserv/trunk/include/service.h (File Modified) 
	rserv/trunk/src/client.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


leeh        2010/02/21 20:34:08 UTC	(20100221_1-26901)
  Log:
  - add in tracking for whether our uplink supports TB
  

  Modified:
	rserv/trunk/include/io.h (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 


leeh        2010/02/21 20:28:39 UTC	(20100221_0-26899)
  Log:
  - start storing topic_tsinfo for channels, as when the topic was last reset
  - follow the rules on receiving a topicburst, ignoring it if the burst
    topic is newer
  

  Modified:
	rserv/trunk/include/channel.h (File Modified) 
	rserv/trunk/src/channel.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2010/02/18 22:16:20 UTC	(20100218_4-26897)
  Log:
  - forgot to commit prototype alteration for prevent_join in
    remove_our_simple_modes()
  

  Modified:
	rserv/trunk/include/channel.h (File Modified) 


leeh        2010/02/18 22:12:06 UTC	(20100218_3-26895)
  Log:
  - fix the --enable-mysql and --enable-pgsql check
  

  Modified:
	rserv/trunk/aclocal.m4 (File Modified) 
	rserv/trunk/configure (File Modified) 


leeh        2010/02/18 21:42:24 UTC	(20100218_2-26893)
  Log:
  - add support for removing only modes that prevent users joining to
    remove_our_modes_simple()
  

  Modified:
	rserv/trunk/src/channel.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2010/02/18 21:35:41 UTC	(20100218_1-26891)
  Log:
  - make remove_our_simple_modes() support a modebuilder
  

  Modified:
	rserv/trunk/include/channel.h (File Modified) 
	rserv/trunk/src/channel.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2010/02/18 21:24:45 UTC	(20100218_0-26889)
  Log:
  - introduce a struct chmode_table containing the channel modes, and roll up
    the loops in chmode_to_string() and chmode_to_string_simple()
  

  Modified:
	rserv/trunk/src/channel.c (File Modified) 


leeh        2010/02/17 20:27:55 UTC	(20100217_6-26883)
  Log:
  - fix a buffer overflow
  

  Modified:
	rserv/trunk/src/channel.c (File Modified) 


leeh        2010/02/17 19:55:52 UTC	(20100217_5-26879)
  Log:
  - add a modebuilder option into remove_our_bans()
  

  Modified:
	rserv/trunk/include/channel.h (File Modified) 
	rserv/trunk/src/channel.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2010/02/17 19:50:52 UTC	(20100217_4-26877)
  Log:
  - add three params to remove_our_bans() controlling whether we remove +b, +e
    and +I independently
  

  Modified:
	rserv/trunk/include/channel.h (File Modified) 
	rserv/trunk/src/channel.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2010/02/17 19:41:31 UTC	(20100217_3-26875)
  Log:
  - server_p->sid will no longer be empty, so allow TS6 to take care of
    removing bans on a SJOIN with TS-1 for us.
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2010/02/17 19:39:18 UTC	(20100217_2-26873)
  Log:
  - remove ConnTS6() as its now a requirement
  - remove a couple of bits of code that spoke TS5 to the local server
  

  Modified:
	rserv/trunk/include/io.h (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


leeh        2010/02/17 19:37:00 UTC	(20100217_1-26871)
  Log:
  - TS6 is now required, it'll simplify some code..
  

  Modified:
	rserv/trunk/src/client.c (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 


leeh        2010/02/17 19:28:10 UTC	(20100217_0-26869)
  Log:
  - rename remove_bans() to remove_our_bans()
  

  Modified:
	rserv/trunk/include/channel.h (File Modified) 
	rserv/trunk/src/channel.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2010/02/15 21:15:05 UTC	(20100215_1-26867)
  Log:
  - split remove_our_modes() into remove_our_simple_modes() and
    remove_our_ov_modes()
  

  Modified:
	rserv/trunk/include/channel.h (File Modified) 
	rserv/trunk/src/channel.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2010/02/15 20:19:23 UTC	(20100215_0-26865)
  Log:
  - various tidyups, reordering, removing some unused functions, etc
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 


leeh        2010/02/14 22:24:34 UTC	(20100214_6-26863)
  Log:
  - remove some function prototypes for functions that no longer exist
  - the channel destroy hook needs to return 0;
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 


leeh        2010/02/14 22:15:50 UTC	(20100214_5-26861)
  Log:
  - rationalise the naming of hooks
  

  Modified:
	rserv/trunk/include/hook.h (File Modified) 
	rserv/trunk/src/c_mode.c (File Modified) 
	rserv/trunk/src/channel.c (File Modified) 
	rserv/trunk/src/client.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_global.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_memoserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 


leeh        2010/02/14 21:57:22 UTC	(20100214_4-26859)
  Log:
  - shunt operflags over to a long long
  - correct some bitmasks using integer when they should be using long
  

  Modified:
	rserv/trunk/include/client.h (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/include/service.h (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 


moggie      2010/02/14 12:58:06 UTC	(20100214_3-26857)
  Log:
  Add hook for finding oppless channels after a server burst.
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/02/14 11:57:37 UTC	(20100214_2-26855)
  Log:
  Use gmtime() instead of localtime() for calculating the seconds in a day.
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 


leeh        2010/02/14 00:18:35 UTC	(20100214_1-26853)
  Log:
  - the hook for destroying a channel is better called in free_channel()
  

  Modified:
	rserv/trunk/src/channel.c (File Modified) 


leeh        2010/02/14 00:15:14 UTC	(20100214_0-26851)
  Log:
  - add a hook for when a channel is about to  be destroyed
  - rename {add|del}_autofix_channel to {add|del}_chanfix
  - ensure we del_chanfix when a channel is about to be destroyed
  

  Modified:
	rserv/trunk/include/hook.h (File Modified) 
	rserv/trunk/src/channel.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


leeh        2010/02/13 23:46:56 UTC	(20100213_14-26849)
  Log:
  - err, that should be adding chptr to the list
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 


leeh        2010/02/13 23:45:35 UTC	(20100213_13-26847)
  Log:
  - store the pointer to the current chanfix entry against the channel
  

  Modified:
	rserv/trunk/include/channel.h (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


leeh        2010/02/13 23:41:33 UTC	(20100213_12-26845)
  Log:
  - use a single unified struct for autofixes and channel fixes, with an
    appropriate bitmask to identify which
  - ensure add_autofix_channel() and del_autofix_channel() are passing chptrs
    around, because then we don't need to do string comparisons..
  

  Modified:
	rserv/trunk/include/s_chanfix.h (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/02/13 20:57:15 UTC	(20100213_11-26843)
  Log:
  - Make chan_remove_modes() and chan_remove_bans() more flexible for manual
    chanfixing.
  - Translate the language strings used in these functions.
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/02/13 18:30:26 UTC	(20100213_10-26841)
  Log:
  - Outline add_autofix_channel() and del_autofix_channel() functions.
  - Make find_oppless_channels() back into a normal func and remove eventAdd()
    (going to use a hook instead).
  - Outline chanfix_channel and autofix_channel structs for keeping track of
    which channels we're fixing.
  

  Modified:
	rserv/trunk/include/s_chanfix.h (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/02/13 14:55:05 UTC	(20100213_9-26839)
  Log:
  - Remove count_opped_users() function as it can be done more efficiently now.
  - Adjust "opped" checking code to use new opped and unopped sub-lists.
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 


leeh        2010/02/13 13:24:22 UTC	(20100213_8-26835)
  Log:
  - move chanservs enforcetopic over to a slightly less efficient but more
    reliable test for whether chanserv is in there
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2010/02/13 13:19:29 UTC	(20100213_7-26833)
  Log:
  - move the topic resetting code up to enable_inhabit(), so chanserv will
    enforce the topic whenever it joins a channel for any reason..
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2010/02/13 13:11:30 UTC	(20100213_6-26829)
  Log:
  - dont require the channel exists for chanserv::addban or chanserv::delban
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2010/02/13 12:43:22 UTC	(20100213_5-26827)
  Log:
  - add new functions, op_chmember() and deop_chmember() which op/deop a user
    in a channel
  - extend the chmember struct to also maintain separate lists of opped users
    and unopped users -- in addition to the standard user list
  - swap the direct op/deops to using the helper functions
  - add in calls to the helper functions in a couple of places they were
    missing
  - make e_chanserv_partinhabit() directly test users_opped rather than
    walking the list
  

  Modified:
	rserv/trunk/include/channel.h (File Modified) 
	rserv/trunk/src/c_mode.c (File Modified) 
	rserv/trunk/src/channel.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 


leeh        2010/02/13 11:36:35 UTC	(20100213_4-26823)
  Log:
  - via Narf, ensure we exclude permanent bans from expiry checks when a user
    joins a channel
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


moggie      2010/02/13 11:35:17 UTC	(20100213_3-26821)
  Log:
  - Outline some functions needed for finding oppless channels and scheduling
    events.
  - Add dlink_lists to keep track of which channels are being fixed.
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 


leeh        2010/02/13 11:31:52 UTC	(20100213_2-26817)
  Log:
  - add support for +S into alis
  

  Modified:
	rserv/trunk/help/bg/alis/list (File Modified) 
	rserv/trunk/help/en/alis/list (File Modified) 
	rserv/trunk/src/s_alis.c (File Modified) 


leeh        2010/02/13 11:28:03 UTC	(20100213_1-26815)
  Log:
  - add missing prototype for is_network_split()
  - is_network_split() takes no params, so ensure its declared as (void)
  - add 'struct channel;' pseudo def to service.h for service_err_chan()
  - remove unused u_count in is_network_split()
  - rename server_p to target_p in is_network_split(), because server_p is a
    global variable used elsewhere
  

  Modified:
	rserv/trunk/include/client.h (File Modified) 
	rserv/trunk/include/service.h (File Modified) 
	rserv/trunk/src/client.c (File Modified) 


leeh        2010/02/13 11:19:46 UTC	(20100213_0-26813)
  Log:
  - add in the definition for service_err_chan() to service.h
  - move service_err_chan() back to passing in chptr, in case for some future
    reason it ever needs to lookup any other information from chptr
  

  Modified:
	rserv/trunk/include/service.h (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


moggie      2010/02/12 18:35:55 UTC	(20100212_2-26811)
  Log:
  - Any service using service_err_chan() should have already checked that it's
    actually in the channel, meaning we should be able to simplify it a bit.
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


moggie      2010/02/12 14:07:05 UTC	(20100212_1-26809)
  Log:
  - Add manual chanfix translation string.
  - Add service_err_chan() function so services can send messages to channels
    if they need to.
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


moggie      2010/02/12 13:08:15 UTC	(20100212_0-26807)
  Log:
  - Remove the network_servers and min_server_percent options from the config
    file and replace with min_servers and min_users as general server options.
  - Move is_network_split() function from chanfix module to client.c.
  - Add two new translation strings SVC_PARAMINVALID and SVC_OPTIONSETTO.
  - Update example config file to reflect changes.
  - Update help/Makefile.in to make sure chanfix help is installed.
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/help/Makefile.in (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/client.c (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/02/11 18:36:56 UTC	(20100211_1-26805)
  Log:
  - Add a chanfix.txt doc to describe a bit how it works.
  - At some point we stopped using num_of_linked_servers() in multiple places so
    we should merge it into is_network_split().
  

  Modified:
	rserv/trunk/doc/chanfix.txt (File Added) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/02/11 01:23:42 UTC	(20100211_0-26803)
  Log:
  When checking for splitmode, need to make sure servers have finished busrting
  (End Of Burst) to get channel and client info from them. Thanks to jilles for
  pointing it out.
  

  Modified:
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/02/10 21:57:31 UTC	(20100210_3-26801)
  Log:
  - Add a s_chanfix.h header file.
  - Create chan_remove_modes() and chan_remove_bans() functions for removing
    specific modes from channels.
  - Re-factor some of the function names.
  

  Modified:
	rserv/trunk/include/s_chanfix.h (File Added) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/02/10 11:44:03 UTC	(20100210_2-26799)
  Log:
  Silly SVN didn't include these files in the previous commit.
  

  Modified:
	rserv/trunk/help/en/chanfix/ (File Added) 
	rserv/trunk/help/en/chanfix/addnote (File Added) 
	rserv/trunk/help/en/chanfix/alert (File Added) 
	rserv/trunk/help/en/chanfix/block (File Added) 
	rserv/trunk/help/en/chanfix/chanfix (File Added) 
	rserv/trunk/help/en/chanfix/check (File Added) 
	rserv/trunk/help/en/chanfix/delnote (File Added) 
	rserv/trunk/help/en/chanfix/general (File Added) 
	rserv/trunk/help/en/chanfix/history (File Added) 
	rserv/trunk/help/en/chanfix/index (File Added) 
	rserv/trunk/help/en/chanfix/index-admin (File Added) 
	rserv/trunk/help/en/chanfix/info (File Added) 
	rserv/trunk/help/en/chanfix/oplist (File Added) 
	rserv/trunk/help/en/chanfix/opnicks (File Added) 
	rserv/trunk/help/en/chanfix/set (File Added) 
	rserv/trunk/help/en/chanfix/status (File Added) 
	rserv/trunk/help/en/chanfix/unalert (File Added) 
	rserv/trunk/help/en/chanfix/unblock (File Added) 


moggie      2010/02/10 11:21:38 UTC	(20100210_1-26797)
  Log:
  - Make a start on help file info.
  - Tweak options for chanfix 'set' command.
  - Re-generate help index.
  

  Modified:
	rserv/trunk/help/bg/memoserv/index (File Modified) 
	rserv/trunk/help/genindex.sh (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/02/10 01:50:19 UTC	(20100210_0-26795)
  Log:
  - Tidy up chanfix code.
  - Improve chanfix 'status' command output.
  - Rename config option 'minimum_servers' to 'min_server_percent'.
  

  Modified:
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/02/09 22:32:24 UTC	(20100209_1-26793)
  Log:
  - Add support for config file options.
  - Write some of chanfix 'status' command code.
  - Update 'set' command to store running option changes.
  - Incorporate config parameters into function code.
  

  Modified:
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Modified) 


moggie      2010/02/09 16:37:04 UTC	(20100209_0-26791)
  Log:
  Initial commit of prototype chanfix module and supporting code.
  

  Modified:
	rserv/trunk/include/c_init.h (File Modified) 
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/langs/example.lang (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/s_chanfix.c (File Added) 


leeh        2010/02/08 22:18:52 UTC	(20100208_2-26789)
  Log:
  - renumber to 1.3.0beta
  

  Modified:
	rserv/trunk/include/config.h (File Modified) 


leeh        2010/02/08 22:16:17 UTC	(20100208_1-26787)
  Log:
  - add in --enable-chanfix, disabled by default
  

  Modified:
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 
	rserv/trunk/include/setup.h.in (File Modified) 
	rserv/trunk/src/Makefile.in (File Modified) 


leeh        2010/02/08 21:13:38 UTC	(20100208_0-26785)
  Log:
  - rebranch 1.2 as trunk
  

  Modified:
	rserv/trunk/ (File Added) 


leeh        2010/02/04 19:16:21 UTC	(20100204_1-26775)
  Log:
  - update RELEASE_NOTES
  - revved patchlevel to 1.2.2
  

  Modified:
	rserv/branches/1_2/RELEASE_NOTES (File Modified) 
	rserv/branches/1_2/include/config.h (File Modified) 


leeh        2010/02/04 18:48:27 UTC	(20100204_0-26773)
  Log:
  - make dbupgrade.pl aware of version 1.2.1
  

  Modified:
	rserv/branches/1_2/tools/dbupgrade.pl (File Modified) 


leeh        2010/01/03 18:58:07 UTC	(20100103_2-26720)
  Log:
  - drop username length back to 10, these were being trimmed in the db anyway
  - have userserv ignore (and warn) about accounts with long usernames
  

  Modified:
	rserv/branches/1_2/autoconf/configure.in (File Modified) 
	rserv/branches/1_2/configure (File Modified) 
	rserv/branches/1_2/src/s_userserv.c (File Modified) 


leeh        2010/01/03 18:43:02 UTC	(20100103_1-26718)
  Log:
  - remove a couple of unneeded variables
  

  Modified:
	rserv/branches/1_2/src/s_chanserv.c (File Modified) 


leeh        2010/01/03 18:30:48 UTC	(20100103_0-26716)
  Log:
  - remove expireban_on_join.. there's a better solution somewhere
  

  Modified:
	rserv/branches/1_2/doc/example.conf (File Modified) 
	rserv/branches/1_2/include/conf.h (File Modified) 
	rserv/branches/1_2/src/conf.c (File Modified) 
	rserv/branches/1_2/src/newconf.c (File Modified) 
	rserv/branches/1_2/src/s_chanserv.c (File Modified) 


leeh        2009/10/17 20:29:21 UTC	(20091017_3-26698)
  Log:
  - fix missing example for autojoin_empty
  

  Modified:
	rserv/branches/1_2/doc/example.conf (File Modified) 


leeh        2009/10/17 20:25:40 UTC	(20091017_2-26696)
  Log:
  - fix a missing '~' on clearing a bitmask when autojoin empty is on
  

  Modified:
	rserv/branches/1_2/src/s_chanserv.c (File Modified) 


leeh        2009/10/17 20:22:02 UTC	(20091017_1-26694)
  Log:
  - add proper username matching into OLOGIN/OPERLOGIN
  

  Modified:
	rserv/branches/1_2/include/conf.h (File Modified) 
	rserv/branches/1_2/src/c_message.c (File Modified) 
	rserv/branches/1_2/src/conf.c (File Modified) 
	rserv/branches/1_2/src/service.c (File Modified) 


leeh        2009/10/17 20:13:29 UTC	(20091017_0-26692)
  Log:
  - add notification of new memos when someone logs in
  

  Modified:
	rserv/branches/1_2/include/langs.h (File Modified) 
	rserv/branches/1_2/src/langs.c (File Modified) 
	rserv/branches/1_2/src/messages.c (File Modified) 
	rserv/branches/1_2/src/s_memoserv.c (File Modified) 


leeh        2009/09/29 19:09:42 UTC	(20090929_0-26686)
  Log:
  - if chanserv joins a channel because we need to for autojoin reasons, set
    the topic if we have one
  

  Modified:
	rserv/branches/1_2/src/s_chanserv.c (File Modified) 


leeh        2009/09/26 16:41:42 UTC	(20090926_4-26684)
  Log:
  - clarify expireban_on_join a bit
  

  Modified:
	rserv/branches/1_2/doc/example.conf (File Modified) 


leeh        2009/09/26 16:40:06 UTC	(20090926_3-26682)
  Log:
  - make chanserv ignore expired channel bans when a user joins the channel
  - new conf option to chanserv {}; expireban_on_join = <yes|no>; controls
    whether chanserv will expire bans whenever users join channels.  Its
    looping anyway, so no particular harm done.
  
    Bit nasty for users though in my opinion..
  

  Modified:
	rserv/branches/1_2/doc/example.conf (File Modified) 
	rserv/branches/1_2/include/conf.h (File Modified) 
	rserv/branches/1_2/src/conf.c (File Modified) 
	rserv/branches/1_2/src/newconf.c (File Modified) 
	rserv/branches/1_2/src/s_chanserv.c (File Modified) 


leeh        2009/09/26 15:58:44 UTC	(20090926_2-26680)
  Log:
  - make the userserv struct include the +1 for the \0, having configure add
    it is braindead, because it broke the test for whether a username was too
    long.
  - raise the default username registration length to 11, because thats what
    it was actually behaving as sometimes -- except when it reloaded the db,
    where it cut them back to 10.. though it still appears to have maintained
    independent accounts
  - rebuild configure
  

  Modified:
	rserv/branches/1_2/autoconf/configure.in (File Modified) 
	rserv/branches/1_2/configure (File Modified) 
	rserv/branches/1_2/include/s_userserv.h (File Modified) 
	rserv/branches/1_2/include/setup.h.in (File Modified) 
	rserv/branches/1_2/src/s_userserv.c (File Modified) 


leeh        2009/09/26 15:31:41 UTC	(20090926_1-26678)
  Log:
  - fix a bug where the expiry timeouts for chanserv on
    enforcetopic/enforceban were being ignored.
    
    the conf is parsed before chanserv is initialised nowadays, which means
    when we add the events to expire them we can safely trust the conf values
  

  Modified:
	rserv/branches/1_2/include/conf.h (File Modified) 
	rserv/branches/1_2/src/conf.c (File Modified) 
	rserv/branches/1_2/src/s_chanserv.c (File Modified) 


leeh        2009/09/26 15:27:16 UTC	(20090926_0-26676)
  Log:
  - expire operbans prior to checking if one exists for kline/unkline etc..
    It would officially be nicer to not to this, but that introduces the
    complexity of having to do a SQL UPDATE instead of an INSERT depending on
    the situation -- for the amount kline etc are used, it's not particularly
    bad..
  

  Modified:
	rserv/branches/1_2/src/s_banserv.c (File Modified) 


leeh        2009/09/19 22:16:40 UTC	(20090919_1-26670)
  Log:
  - have chanserv issue a topic update to the channel on chanserv::set::topic
    if its in there..
  

  Modified:
	rserv/branches/1_2/src/s_chanserv.c (File Modified) 


leeh        2009/09/19 22:09:16 UTC	(20090919_0-26668)
  Log:
  - only set us as being in a list if we actually get to a second variable
  

  Modified:
	rserv/branches/1_2/src/parser.y (File Modified) 


leeh        2009/09/17 18:49:37 UTC	(20090917_0-26666)
  Log:
  - add in parsing for the +S channel mode (ssl only channel)
  - add in new config option, general::allow_sslonly = yes|no;, controls
    whether users can use chanserv to set +S in modes
  

  Modified:
	rserv/branches/1_2/doc/example.conf (File Modified) 
	rserv/branches/1_2/include/channel.h (File Modified) 
	rserv/branches/1_2/include/conf.h (File Modified) 
	rserv/branches/1_2/src/c_mode.c (File Modified) 
	rserv/branches/1_2/src/channel.c (File Modified) 
	rserv/branches/1_2/src/newconf.c (File Modified) 
	rserv/branches/1_2/src/s_chanserv.c (File Modified) 
	rserv/branches/1_2/src/s_operserv.c (File Modified) 


leeh        2009/09/15 18:36:42 UTC	(20090915_0-26664)
  Log:
  - fix a crash in userserv::set::email, as reported by mankind86.
    Remember: copy and paste is sometimes bad.
  

  Modified:
	rserv/branches/1_2/src/s_userserv.c (File Modified) 


leeh        2009/09/12 16:09:10 UTC	(20090912_0-26656)
  Log:
  - apply jilles patch to make rserv also remove channel bans when expiring
    bans from its database
  

  Modified:
	rserv/branches/1_2/src/s_chanserv.c (File Modified) 


leeh        2009/07/28 18:55:34 UTC	(20090728_0-26646)
  Log:
  - add some extra parens to make gcc-4.4 happy
  

  Modified:
	rserv/branches/1_2/src/newconf.c (File Modified) 
	rserv/branches/1_2/src/s_banserv.c (File Modified) 
	rserv/branches/1_2/src/scommand.c (File Modified) 


leeh        2008/07/07 17:25:13 UTC	(20080707_0-25685)
  Log:
  - add in missing 1.1.2 and 1.1.3
  

  Modified:
	rserv/branches/1_2/tools/dbupgrade.pl (File Modified) 


leeh        2008/06/28 08:56:48 UTC	(20080628_1-25639)
  Log:
  - update RELEASE_NOTES
  - revved patchlevel to 1.2.1
  

  Modified:
	rserv/branches/1_2/RELEASE_NOTES (File Modified) 
	rserv/branches/1_2/include/config.h (File Modified) 


leeh        2008/06/28 08:55:35 UTC	(20080628_0-25637)
  Log:
  - fix an unquoted sql string related to email, that could be used for
    sql injection
  

  Modified:
	rserv/branches/1_2/src/s_userserv.c (File Modified) 


leeh        2008/06/27 18:15:17 UTC	(20080627_1-25625)
  Log:
  - update a few copyrights
  

  Modified:
	rserv/branches/1_2/src/conf.c (File Modified) 
	rserv/branches/1_2/src/langs.c (File Modified) 
	rserv/branches/1_2/src/s_banserv.c (File Modified) 
	rserv/branches/1_2/src/s_chanserv.c (File Modified) 


leeh        2008/06/27 17:56:02 UTC	(20080627_0-25623)
  Log:
  - fix pcre header test, which had an extra 's' in the variable name which
    broke the header test
  

  Modified:
	rserv/branches/1_2/autoconf/configure.in (File Modified) 
	rserv/branches/1_2/configure (File Modified) 


leeh        2008/05/20 19:13:34 UTC	(20080520_3-25409)
  Log:
  - branch off 1.2
  

  Modified:
	rserv/branches/1_2/ (File Added) 


leeh        2008/05/20 19:11:01 UTC	(20080520_2-25405)
  Log:
  - update RELEASE_NOTES
  - revved patchlevel to 1.2.0
  

  Modified:
	rserv/trunk/RELEASE_NOTES (File Modified) 
	rserv/trunk/include/config.h (File Modified) 


leeh        2008/05/20 19:10:18 UTC	(20080520_1-25403)
  Log:
  - update dbupgrade.pl with the latest versions, and make it note when no
    upgrade is required
  

  Modified:
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


leeh        2008/05/20 19:07:22 UTC	(20080520_0-25401)
  Log:
  - update autoconf tag to 'stable'
  

  Modified:
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 


leeh        2008/05/11 14:04:39 UTC	(20080511_4-25352)
  Log:
  - update RELEASE_NOTES
  - revved patchlevel to 1.2.0rc2
  

  Modified:
	rserv/trunk/RELEASE_NOTES (File Modified) 
	rserv/trunk/include/config.h (File Modified) 


leeh        2008/05/11 13:59:49 UTC	(20080511_3-25350)
  Log:
  - force disable of shared modules and C++ interface
  - disable building of docs
  

  Modified:
	rserv/trunk/pcre/Makefile.in (File Modified) 
	rserv/trunk/pcre/configure (File Modified) 


leeh        2008/05/11 13:33:31 UTC	(20080511_2-25347)
  Log:
  - update example.lang
  

  Modified:
	rserv/trunk/langs/example.lang (File Modified) 


leeh        2008/05/11 13:32:49 UTC	(20080511_1-25345)
  Log:
  - perl script to generate example.lang
  

  Modified:
	rserv/trunk/langs/genexample.pl (File Added) 


leeh        2008/05/11 13:31:02 UTC	(20080511_0-25343)
  Log:
  - some cosmetic alterations to messages.c so my new perl script to generate
    example.lang works
  

  Modified:
	rserv/trunk/src/messages.c (File Modified) 


leeh        2008/03/19 18:46:41 UTC	(20080319_0-25141)
  Log:
  - via ongeboren
    - missing help files for bulgarian translations
  

  Modified:
	rserv/trunk/help/bg/banserv/addregexp (File Added) 
	rserv/trunk/help/bg/banserv/addregexpneg (File Added) 
	rserv/trunk/help/bg/banserv/delregexp (File Added) 
	rserv/trunk/help/bg/banserv/delregexpneg (File Added) 
	rserv/trunk/help/bg/banserv/listregexps (File Added) 
	rserv/trunk/help/bg/memoserv/ (File Added) 
	rserv/trunk/help/bg/memoserv/delete (File Added) 
	rserv/trunk/help/bg/memoserv/general (File Added) 
	rserv/trunk/help/bg/memoserv/index (File Added) 
	rserv/trunk/help/bg/memoserv/list (File Added) 
	rserv/trunk/help/bg/memoserv/read (File Added) 
	rserv/trunk/help/bg/memoserv/send (File Added) 
	rserv/trunk/help/bg/operserv/addignore (File Added) 
	rserv/trunk/help/bg/operserv/delignore (File Added) 
	rserv/trunk/help/bg/operserv/listignores (File Added) 
	rserv/trunk/help/bg/operserv/u-addignore (File Added) 
	rserv/trunk/help/bg/operserv/u-delignore (File Added) 
	rserv/trunk/help/bg/operserv/u-listignores (File Added) 
	rserv/trunk/help/bg/userserv/u-usersetemail (File Added) 
	rserv/trunk/help/bg/userserv/usersetemail (File Added) 


leeh        2008/03/13 21:42:48 UTC	(20080313_0-25121)
  Log:
  - via ongeboren
    - updated bulgarian translations
  

  Modified:
	rserv/trunk/help/bg/banserv/index-admin (File Modified) 
	rserv/trunk/help/bg/chanserv/addban (File Modified) 
	rserv/trunk/help/bg/chanserv/chansuspend (File Modified) 
	rserv/trunk/help/bg/chanserv/set (File Modified) 
	rserv/trunk/help/bg/chanserv/u-chansuspend (File Modified) 
	rserv/trunk/help/bg/main/u-rehash (File Modified) 
	rserv/trunk/help/bg/operserv/index-admin (File Modified) 
	rserv/trunk/help/bg/userserv/index (File Modified) 
	rserv/trunk/help/bg/userserv/index-admin (File Modified) 
	rserv/trunk/help/bg/userserv/language (File Modified) 
	rserv/trunk/help/bg/userserv/set (File Modified) 
	rserv/trunk/help/bg/userserv/userlist (File Modified) 
	rserv/trunk/help/bg/watchserv/general (File Modified) 
	rserv/trunk/help/bg/watchserv/index (File Modified) 
	rserv/trunk/langs/bg.lang (File Modified) 


leeh        2008/02/23 19:17:13 UTC	(20080223_2-25089)
  Log:
  - update RELEASE_NOTES
  - revved patchlevel to 1.2.0rc1
  

  Modified:
	rserv/trunk/RELEASE_NOTES (File Modified) 
	rserv/trunk/include/config.h (File Modified) 


leeh        2008/02/23 18:59:53 UTC	(20080223_1-25087)
  Log:
  - add support for matching cidr bans
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2008/02/23 18:58:53 UTC	(20080223_0-25085)
  Log:
  - swap match_cidr() so its return val is consistent with rserv
  

  Modified:
	rserv/trunk/src/cidr.c (File Modified) 


leeh        2008/02/17 15:33:40 UTC	(20080217_0-25079)
  Log:
  - merge from 1.1 branch:
    - r2465, fix the autoconf check for mysql, using a modified variant of the
      one on the autoconf archive
    - r24663, fix the autoconf check for postgresql, using a modified variant
      of the one on the autoconf archive
  

  Modified:
	rserv/trunk/Makefile.in (File Modified) 
	rserv/trunk/aclocal.m4 (File Added) 
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 
	rserv/trunk/include/setup.h.in (File Modified) 
	rserv/trunk/src/rsdb_pgsql.c (File Modified) 


leeh        2008/02/12 20:37:54 UTC	(20080212_0-25070)
  Log:
  - update RELEASE_NOTES
  - revved patchlevel to 1.2.0beta2
  

  Modified:
	rserv/trunk/RELEASE_NOTES (File Modified) 
	rserv/trunk/include/config.h (File Modified) 


leeh        2008/02/08 21:23:35 UTC	(20080208_3-25068)
  Log:
  - update example.conf
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 


leeh        2008/02/08 21:23:13 UTC	(20080208_2-25066)
  Log:
  - add new oper flag to banserv, "nomax" which will allow an oper to exceed
    maximum kline/xline matches
  

  Modified:
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2008/02/08 21:16:19 UTC	(20080208_1-25064)
  Log:
  - missing prototypes for cidr.c
  

  Modified:
	rserv/trunk/include/rserv.h (File Modified) 


leeh        2008/02/08 20:27:59 UTC	(20080208_0-25062)
  Log:
  - add the relevant checks for max_xline_matches
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2008/01/29 20:00:23 UTC	(20080129_0-25052)
  Log:
  - add cidr.c from atheme-services for doing ip mask matches
  

  Modified:
	rserv/trunk/src/Makefile.in (File Modified) 
	rserv/trunk/src/cidr.c (File Added) 


leeh        2008/01/15 21:31:42 UTC	(20080115_5-24960)
  Log:
  - add code for checking maximum number of clients to match on kline
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2008/01/15 21:27:52 UTC	(20080115_4-24958)
  Log:
  - add a pgsql boolean check into find_ban_remove() too
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2008/01/15 21:26:18 UTC	(20080115_3-24956)
  Log:
  - make the find_ban() check match against pgsqls boolean t/f, so that it can
    properly determine if a ban has been removed or not
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2008/01/15 21:25:08 UTC	(20080115_2-24954)
  Log:
  - need some more parameters in that too many matches one for banserv..
  

  Modified:
	rserv/trunk/src/messages.c (File Modified) 


leeh        2008/01/15 19:07:14 UTC	(20080115_1-24952)
  Log:
  - add a new message for when a generic ban matches too many users
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 


leeh        2008/01/15 18:57:39 UTC	(20080115_0-24950)
  Log:
  - add new conf options for max kline/resv/xline matches
  

  Modified:
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 


leeh        2007/12/02 16:00:54 UTC	(20071202_1-24655)
  Log:
  - add russian cyrillic translations, via Valery Yatsko
    <darkwire.tl@gmail.com>
  

  Modified:
	rserv/trunk/langs/Makefile.in (File Modified) 
	rserv/trunk/langs/ru.lang (File Added) 


leeh        2007/12/02 15:42:29 UTC	(20071202_0-24652)
  Log:
  - new gcc complains about using !(x) in EmptyString macro on static strings
  

  Modified:
	rserv/trunk/include/tools.h (File Modified) 


leeh        2007/09/11 20:30:30 UTC	(20070911_1-24406)
  Log:
  - err, I really do mean usernames
  

  Modified:
	rserv/trunk/help/en/userserv/userlist (File Modified) 


leeh        2007/09/11 20:29:51 UTC	(20070911_0-24404)
  Log:
  - s/channels/usernames
  

  Modified:
	rserv/trunk/help/en/userserv/userlist (File Modified) 


leeh        2007/09/08 13:36:57 UTC	(20070908_0-24402)
  Log:
  - russian translations, via
    Valery Yatsko <darkwire.tl@gmail.com>
  

  Modified:
	rserv/trunk/help/Makefile.in (File Modified) 
	rserv/trunk/help/genindex.sh (File Modified) 
	rserv/trunk/help/ru/ (File Added) 
	rserv/trunk/help/ru/README (File Added) 
	rserv/trunk/help/ru/alis/ (File Added) 
	rserv/trunk/help/ru/alis/general (File Added) 
	rserv/trunk/help/ru/alis/index (File Added) 
	rserv/trunk/help/ru/alis/list (File Added) 
	rserv/trunk/help/ru/banserv/ (File Added) 
	rserv/trunk/help/ru/banserv/addregexp (File Added) 
	rserv/trunk/help/ru/banserv/addregexpneg (File Added) 
	rserv/trunk/help/ru/banserv/delregexp (File Added) 
	rserv/trunk/help/ru/banserv/delregexpneg (File Added) 
	rserv/trunk/help/ru/banserv/findkline (File Added) 
	rserv/trunk/help/ru/banserv/findresv (File Added) 
	rserv/trunk/help/ru/banserv/findxline (File Added) 
	rserv/trunk/help/ru/banserv/general (File Added) 
	rserv/trunk/help/ru/banserv/index (File Added) 
	rserv/trunk/help/ru/banserv/index-admin (File Added) 
	rserv/trunk/help/ru/banserv/kline (File Added) 
	rserv/trunk/help/ru/banserv/listregexps (File Added) 
	rserv/trunk/help/ru/banserv/resv (File Added) 
	rserv/trunk/help/ru/banserv/sync (File Added) 
	rserv/trunk/help/ru/banserv/u-findkline (File Added) 
	rserv/trunk/help/ru/banserv/u-findresv (File Added) 
	rserv/trunk/help/ru/banserv/u-findxline (File Added) 
	rserv/trunk/help/ru/banserv/u-kline (File Added) 
	rserv/trunk/help/ru/banserv/u-resv (File Added) 
	rserv/trunk/help/ru/banserv/u-sync (File Added) 
	rserv/trunk/help/ru/banserv/u-unkline (File Added) 
	rserv/trunk/help/ru/banserv/u-unresv (File Added) 
	rserv/trunk/help/ru/banserv/u-unxline (File Added) 
	rserv/trunk/help/ru/banserv/u-xline (File Added) 
	rserv/trunk/help/ru/banserv/unkline (File Added) 
	rserv/trunk/help/ru/banserv/unresv (File Added) 
	rserv/trunk/help/ru/banserv/unxline (File Added) 
	rserv/trunk/help/ru/banserv/xline (File Added) 
	rserv/trunk/help/ru/chanserv/ (File Added) 
	rserv/trunk/help/ru/chanserv/addban (File Added) 
	rserv/trunk/help/ru/chanserv/adduser (File Added) 
	rserv/trunk/help/ru/chanserv/chandrop (File Added) 
	rserv/trunk/help/ru/chanserv/chaninfo (File Added) 
	rserv/trunk/help/ru/chanserv/chanlist (File Added) 
	rserv/trunk/help/ru/chanserv/chanregister (File Added) 
	rserv/trunk/help/ru/chanserv/chansuspend (File Added) 
	rserv/trunk/help/ru/chanserv/chanunsuspend (File Added) 
	rserv/trunk/help/ru/chanserv/clearallops (File Added) 
	rserv/trunk/help/ru/chanserv/clearbans (File Added) 
	rserv/trunk/help/ru/chanserv/clearmodes (File Added) 
	rserv/trunk/help/ru/chanserv/clearops (File Added) 
	rserv/trunk/help/ru/chanserv/delban (File Added) 
	rserv/trunk/help/ru/chanserv/delowner (File Added) 
	rserv/trunk/help/ru/chanserv/deluser (File Added) 
	rserv/trunk/help/ru/chanserv/general (File Added) 
	rserv/trunk/help/ru/chanserv/getkey (File Added) 
	rserv/trunk/help/ru/chanserv/index (File Added) 
	rserv/trunk/help/ru/chanserv/index-admin (File Added) 
	rserv/trunk/help/ru/chanserv/info (File Added) 
	rserv/trunk/help/ru/chanserv/invite (File Added) 
	rserv/trunk/help/ru/chanserv/listbans (File Added) 
	rserv/trunk/help/ru/chanserv/listusers (File Added) 
	rserv/trunk/help/ru/chanserv/modauto (File Added) 
	rserv/trunk/help/ru/chanserv/modban (File Added) 
	rserv/trunk/help/ru/chanserv/moduser (File Added) 
	rserv/trunk/help/ru/chanserv/op (File Added) 
	rserv/trunk/help/ru/chanserv/register (File Added) 
	rserv/trunk/help/ru/chanserv/set (File Added) 
	rserv/trunk/help/ru/chanserv/suspend (File Added) 
	rserv/trunk/help/ru/chanserv/u-chandrop (File Added) 
	rserv/trunk/help/ru/chanserv/u-chaninfo (File Added) 
	rserv/trunk/help/ru/chanserv/u-chanregister (File Added) 
	rserv/trunk/help/ru/chanserv/u-chansuspend (File Added) 
	rserv/trunk/help/ru/chanserv/u-chanunsuspend (File Added) 
	rserv/trunk/help/ru/chanserv/unban (File Added) 
	rserv/trunk/help/ru/chanserv/unsuspend (File Added) 
	rserv/trunk/help/ru/chanserv/voice (File Added) 
	rserv/trunk/help/ru/global/ (File Added) 
	rserv/trunk/help/ru/global/addwelcome (File Added) 
	rserv/trunk/help/ru/global/delwelcome (File Added) 
	rserv/trunk/help/ru/global/general (File Added) 
	rserv/trunk/help/ru/global/index (File Added) 
	rserv/trunk/help/ru/global/index-admin (File Added) 
	rserv/trunk/help/ru/global/listwelcome (File Added) 
	rserv/trunk/help/ru/global/netmsg (File Added) 
	rserv/trunk/help/ru/global/u-addwelcome (File Added) 
	rserv/trunk/help/ru/global/u-delwelcome (File Added) 
	rserv/trunk/help/ru/global/u-listwelcome (File Added) 
	rserv/trunk/help/ru/global/u-netmsg (File Added) 
	rserv/trunk/help/ru/jupeserv/ (File Added) 
	rserv/trunk/help/ru/jupeserv/calljupe (File Added) 
	rserv/trunk/help/ru/jupeserv/callunjupe (File Added) 
	rserv/trunk/help/ru/jupeserv/general (File Added) 
	rserv/trunk/help/ru/jupeserv/index (File Added) 
	rserv/trunk/help/ru/jupeserv/index-admin (File Added) 
	rserv/trunk/help/ru/jupeserv/jupe (File Added) 
	rserv/trunk/help/ru/jupeserv/pending (File Added) 
	rserv/trunk/help/ru/jupeserv/u-jupe (File Added) 
	rserv/trunk/help/ru/jupeserv/u-unjupe (File Added) 
	rserv/trunk/help/ru/jupeserv/unjupe (File Added) 
	rserv/trunk/help/ru/main/ (File Added) 
	rserv/trunk/help/ru/main/u-boot (File Added) 
	rserv/trunk/help/ru/main/u-chat (File Added) 
	rserv/trunk/help/ru/main/u-connect (File Added) 
	rserv/trunk/help/ru/main/u-events (File Added) 
	rserv/trunk/help/ru/main/u-quit (File Added) 
	rserv/trunk/help/ru/main/u-rehash (File Added) 
	rserv/trunk/help/ru/main/u-service (File Added) 
	rserv/trunk/help/ru/main/u-stats (File Added) 
	rserv/trunk/help/ru/main/u-status (File Added) 
	rserv/trunk/help/ru/memoserv/ (File Added) 
	rserv/trunk/help/ru/memoserv/delete (File Added) 
	rserv/trunk/help/ru/memoserv/general (File Added) 
	rserv/trunk/help/ru/memoserv/index (File Added) 
	rserv/trunk/help/ru/memoserv/list (File Added) 
	rserv/trunk/help/ru/memoserv/read (File Added) 
	rserv/trunk/help/ru/memoserv/send (File Added) 
	rserv/trunk/help/ru/nickserv/ (File Added) 
	rserv/trunk/help/ru/nickserv/drop (File Added) 
	rserv/trunk/help/ru/nickserv/general (File Added) 
	rserv/trunk/help/ru/nickserv/index (File Added) 
	rserv/trunk/help/ru/nickserv/index-admin (File Added) 
	rserv/trunk/help/ru/nickserv/info (File Added) 
	rserv/trunk/help/ru/nickserv/nickdrop (File Added) 
	rserv/trunk/help/ru/nickserv/regain (File Added) 
	rserv/trunk/help/ru/nickserv/register (File Added) 
	rserv/trunk/help/ru/nickserv/release (File Added) 
	rserv/trunk/help/ru/nickserv/set (File Added) 
	rserv/trunk/help/ru/nickserv/u-nickdrop (File Added) 
	rserv/trunk/help/ru/operbot/ (File Added) 
	rserv/trunk/help/ru/operbot/general (File Added) 
	rserv/trunk/help/ru/operbot/index (File Added) 
	rserv/trunk/help/ru/operbot/index-admin (File Added) 
	rserv/trunk/help/ru/operbot/invite (File Added) 
	rserv/trunk/help/ru/operbot/objoin (File Added) 
	rserv/trunk/help/ru/operbot/obpart (File Added) 
	rserv/trunk/help/ru/operbot/op (File Added) 
	rserv/trunk/help/ru/operbot/u-objoin (File Added) 
	rserv/trunk/help/ru/operbot/u-obpart (File Added) 
	rserv/trunk/help/ru/operserv/ (File Added) 
	rserv/trunk/help/ru/operserv/addignore (File Added) 
	rserv/trunk/help/ru/operserv/dbsync (File Added) 
	rserv/trunk/help/ru/operserv/delignore (File Added) 
	rserv/trunk/help/ru/operserv/die (File Added) 
	rserv/trunk/help/ru/operserv/general (File Added) 
	rserv/trunk/help/ru/operserv/index (File Added) 
	rserv/trunk/help/ru/operserv/index-admin (File Added) 
	rserv/trunk/help/ru/operserv/listignores (File Added) 
	rserv/trunk/help/ru/operserv/listopers (File Added) 
	rserv/trunk/help/ru/operserv/omode (File Added) 
	rserv/trunk/help/ru/operserv/osjoin (File Added) 
	rserv/trunk/help/ru/operserv/ospart (File Added) 
	rserv/trunk/help/ru/operserv/rehash (File Added) 
	rserv/trunk/help/ru/operserv/takeover (File Added) 
	rserv/trunk/help/ru/operserv/u-addignore (File Added) 
	rserv/trunk/help/ru/operserv/u-dbsync (File Added) 
	rserv/trunk/help/ru/operserv/u-delignore (File Added) 
	rserv/trunk/help/ru/operserv/u-die (File Added) 
	rserv/trunk/help/ru/operserv/u-listignores (File Added) 
	rserv/trunk/help/ru/operserv/u-listopers (File Added) 
	rserv/trunk/help/ru/operserv/u-omode (File Added) 
	rserv/trunk/help/ru/operserv/u-osjoin (File Added) 
	rserv/trunk/help/ru/operserv/u-ospart (File Added) 
	rserv/trunk/help/ru/operserv/u-takeover (File Added) 
	rserv/trunk/help/ru/userserv/ (File Added) 
	rserv/trunk/help/ru/userserv/activate (File Added) 
	rserv/trunk/help/ru/userserv/general (File Added) 
	rserv/trunk/help/ru/userserv/index (File Added) 
	rserv/trunk/help/ru/userserv/index-admin (File Added) 
	rserv/trunk/help/ru/userserv/info (File Added) 
	rserv/trunk/help/ru/userserv/language (File Added) 
	rserv/trunk/help/ru/userserv/login (File Added) 
	rserv/trunk/help/ru/userserv/logout (File Added) 
	rserv/trunk/help/ru/userserv/register (File Added) 
	rserv/trunk/help/ru/userserv/resetemail (File Added) 
	rserv/trunk/help/ru/userserv/resetpass (File Added) 
	rserv/trunk/help/ru/userserv/set (File Added) 
	rserv/trunk/help/ru/userserv/u-userdrop (File Added) 
	rserv/trunk/help/ru/userserv/u-userinfo (File Added) 
	rserv/trunk/help/ru/userserv/u-userregister (File Added) 
	rserv/trunk/help/ru/userserv/u-usersetemail (File Added) 
	rserv/trunk/help/ru/userserv/u-usersetpass (File Added) 
	rserv/trunk/help/ru/userserv/u-usersuspend (File Added) 
	rserv/trunk/help/ru/userserv/u-userunsuspend (File Added) 
	rserv/trunk/help/ru/userserv/userdrop (File Added) 
	rserv/trunk/help/ru/userserv/userinfo (File Added) 
	rserv/trunk/help/ru/userserv/userlist (File Added) 
	rserv/trunk/help/ru/userserv/userregister (File Added) 
	rserv/trunk/help/ru/userserv/usersetemail (File Added) 
	rserv/trunk/help/ru/userserv/usersetpass (File Added) 
	rserv/trunk/help/ru/userserv/usersuspend (File Added) 
	rserv/trunk/help/ru/userserv/userunsuspend (File Added) 
	rserv/trunk/help/ru/watchserv/ (File Added) 
	rserv/trunk/help/ru/watchserv/general (File Added) 
	rserv/trunk/help/ru/watchserv/index (File Added) 
	rserv/trunk/help/ru/watchserv/index-admin (File Added) 
	rserv/trunk/help/ru/watchserv/u-watch (File Added) 
	rserv/trunk/help/ru/watchserv/watch (File Added) 


leeh        2007/08/15 20:35:22 UTC	(20070815_3-24219)
  Log:
  - fix chanserv::info parameter ordering when issuing the notice about
    suspends
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2007/08/15 20:30:52 UTC	(20070815_2-24217)
  Log:
  - swap parv[0] for reg_p->name in chanserv::chansuspend
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2007/08/15 18:55:45 UTC	(20070815_1-24215)
  Log:
  - when we expire usernames, expiry any temporary suspends too
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/08/15 18:49:31 UTC	(20070815_0-24213)
  Log:
  - extend chanserv::chansuspend to support suspend times
    I have no idea how I missed this..
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2007/07/14 20:06:09 UTC	(20070714_4-23987)
  Log:
  - via ongeboren
    - userserv::resetemail was sending the second confirmation out to the old
      address, rather than the new address
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/07/14 20:03:25 UTC	(20070714_3-23985)
  Log:
  - move the userserv expire code which walks the hash expiring/updating users
    last access iterate the hash in bits to stop it hogging cpu
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/07/14 19:59:40 UTC	(20070714_2-23983)
  Log:
  - via ongeboren
    - memoserv commands need to require users are logged in
  

  Modified:
	rserv/trunk/src/s_memoserv.c (File Modified) 


leeh        2007/07/14 19:57:12 UTC	(20070714_1-23981)
  Log:
  - add HASH_WALK_SAFE_POS which walks a hash, starting/ending at a certain
    hash position
  

  Modified:
	rserv/trunk/include/tools.h (File Modified) 


leeh        2007/07/14 19:55:54 UTC	(20070714_0-23979)
  Log:
  - install memoserv helpfiles
  

  Modified:
	rserv/trunk/help/Makefile.in (File Modified) 


leeh        2007/05/13 20:54:57 UTC	(20070513_1-23951)
  Log:
  - ongeboren needs to be in CREDITS
  

  Modified:
	rserv/trunk/CREDITS (File Modified) 


leeh        2007/05/13 20:53:00 UTC	(20070513_0-23947)
  Log:
  - via ongeboren
    - fix global capability test for RSFNC which was breaking nickserv::regain
  

  Modified:
	rserv/trunk/src/scommand.c (File Modified) 


leeh        2007/05/10 20:34:22 UTC	(20070510_5-23941)
  Log:
  - update RELEASE_NOTES
  - revved patchlevel to 1.2.0beta1
  

  Modified:
	rserv/trunk/RELEASE_NOTES (File Modified) 
	rserv/trunk/include/config.h (File Modified) 


leeh        2007/05/10 20:31:37 UTC	(20070510_4-23939)
  Log:
  - memoserv help
  

  Modified:
	rserv/trunk/help/en/memoserv/ (File Added) 
	rserv/trunk/help/en/memoserv/delete (File Added) 
	rserv/trunk/help/en/memoserv/general (File Added) 
	rserv/trunk/help/en/memoserv/index (File Added) 
	rserv/trunk/help/en/memoserv/list (File Added) 
	rserv/trunk/help/en/memoserv/read (File Added) 
	rserv/trunk/help/en/memoserv/send (File Added) 
	rserv/trunk/help/genindex.sh (File Modified) 


leeh        2007/05/10 20:23:11 UTC	(20070510_3-23937)
  Log:
  - add in whats-new-1.2.txt
  

  Modified:
	rserv/trunk/doc/whats-new-1.2.txt (File Added) 


leeh        2007/05/10 20:04:28 UTC	(20070510_2-23935)
  Log:
  - retag configure as development
  

  Modified:
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 


leeh        2007/05/10 20:01:49 UTC	(20070510_1-23933)
  Log:
  - sort dbupgrade.pl out in preparation for 1.2.0beta1
  

  Modified:
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


leeh        2007/05/10 19:47:39 UTC	(20070510_0-23930)
  Log:
  - add optional logging to memoserv
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/src/s_memoserv.c (File Modified) 


leeh        2007/05/09 18:10:26 UTC	(20070509_1-23928)
  Log:
  - add max_regexp_matches to banserver {}; which controls how many users a
    regexp can match before being disallowed
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2007/05/09 17:45:20 UTC	(20070509_0-23926)
  Log:
  - add memo_regtime_duration to memoserv {};, controlling how long a username
    must be registered for before it can send memos
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_memoserv.c (File Modified) 


leeh        2007/05/07 14:23:03 UTC	(20070507_0-23922)
  Log:
  - memleak fix in free_cachefile()
  

  Modified:
	rserv/trunk/src/cache.c (File Modified) 


jilles      2007/05/04 23:00:20 UTC	(20070504_0-23916)
  Log:
  As in ircd-ratbox 2.2 r23037, search the shortest list
  (user's or channel's) to look up a channel membership.
  This fixes abysmal performance on burst with clients
  which are in very many channels.
  Tested by ongeboren.
  

  Modified:
	rserv/trunk/src/channel.c (File Modified) 


leeh        2007/05/02 19:15:10 UTC	(20070502_2-23908)
  Log:
  - tidy up the helpfiles slightly for when they're merged
  - fix the userserv language help so its nicer with genindex
  

  Modified:
	rserv/trunk/help/en/banserv/general (File Modified) 
	rserv/trunk/help/en/banserv/index (File Modified) 
	rserv/trunk/help/en/userserv/index (File Modified) 
	rserv/trunk/help/en/userserv/language (File Modified) 
	rserv/trunk/help/en/watchserv/general (File Modified) 
	rserv/trunk/help/en/watchserv/index (File Modified) 


leeh        2007/05/02 19:13:03 UTC	(20070502_1-23906)
  Log:
  - extend cache_file() so it takes an option to add a blank line at the end
    of files
  - tidy up loading of index helpfiles so they add a blank line at end
  

  Modified:
	rserv/trunk/include/cache.h (File Modified) 
	rserv/trunk/src/cache.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 
	rserv/trunk/src/ucommand.c (File Modified) 


leeh        2007/05/02 18:52:40 UTC	(20070502_0-23904)
  Log:
  - memoserv::read
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_memoserv.c (File Modified) 


jilles      2007/05/01 21:57:39 UTC	(20070501_4-23902)
  Log:
  modebuild: Use TMODE instead of MODE if the uplink supports
  TS6. The TS6 spec wants this and it can avoid certain
  desyncs involving multiple server restarts. In particular
  this will affect autoop/autovoice on join. There are other
  places using MODE which this commit does not change;
  they need a smarter approach (sendto_server_mode()?).
  

  Modified:
	rserv/trunk/src/modebuild.c (File Modified) 


jilles      2007/05/01 21:33:48 UTC	(20070501_3-23900)
  Log:
  Allow WARNOVERRIDE to work without AUTOJOIN with
  ircd-ratbox 2.2.3 or newer (by sending it from the
  server if !AUTOJOIN).
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2007/05/01 18:04:09 UTC	(20070501_2-23898)
  Log:
  - memoserv::list
  - fix memoserv::send to the new db structure
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_memoserv.c (File Modified) 


leeh        2007/05/01 17:56:28 UTC	(20070501_1-23896)
  Log:
  - extend get_time() so tz is optional
  

  Modified:
	rserv/trunk/include/tools.h (File Modified) 
	rserv/trunk/src/tools.c (File Modified) 


leeh        2007/05/01 17:24:07 UTC	(20070501_0-23894)
  Log:
  - store a text based version of the source as well
  

  Modified:
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


leeh        2007/04/28 15:37:59 UTC	(20070428_3-23892)
  Log:
  - add in code for deleting memos
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_memoserv.c (File Modified) 


leeh        2007/04/28 15:16:03 UTC	(20070428_2-23890)
  Log:
  - add in conf stuff for memoserv, including max_memos to define maximum
    number of memos a user may have
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_memoserv.c (File Modified) 


leeh        2007/04/28 15:01:11 UTC	(20070428_1-23888)
  Log:
  - base memoserv code
  

  Modified:
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 
	rserv/trunk/include/c_init.h (File Modified) 
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/include/setup.h.in (File Modified) 
	rserv/trunk/src/Makefile.in (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/s_memoserv.c (File Added) 


leeh        2007/04/28 14:34:55 UTC	(20070428_0-23886)
  Log:
  - schemas for memos table
  

  Modified:
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


leeh        2007/04/25 18:32:30 UTC	(20070425_0-23879)
  Log:
  - make the dbhook for registering users update ids via a callback
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/04/24 20:17:01 UTC	(20070424_1-23877)
  Log:
  - make rsdb_hook_schedule() take a callback function for once its executed
    the sql
  

  Modified:
	rserv/trunk/include/dbhook.h (File Modified) 
	rserv/trunk/src/dbhook.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/04/24 19:56:17 UTC	(20070424_0-23875)
  Log:
  - store the id field for the row from users table, and when inserting rows
    grab the id of what we just inserted
  

  Modified:
	rserv/trunk/include/s_userserv.h (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/04/23 20:05:43 UTC	(20070423_1-23867)
  Log:
  - rework the users table so that it has an id field
  

  Modified:
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


leeh        2007/04/23 18:06:00 UTC	(20070423_0-23865)
  Log:
  - add userserv::set::nomemos, to forbid memos being sent to the user
  

  Modified:
	rserv/trunk/help/en/userserv/set (File Modified) 
	rserv/trunk/include/s_userserv.h (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/04/22 10:53:35 UTC	(20070422_2-23841)
  Log:
  - forgot to rename function calls for dcc commands
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2007/04/22 10:23:52 UTC	(20070422_1-23839)
  Log:
  - example.conf needs to know about regexp flag to operator {};
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 


leeh        2007/04/22 10:21:45 UTC	(20070422_0-23837)
  Log:
  - add helpfiles for regular expressions
  

  Modified:
	rserv/trunk/help/en/banserv/addregexp (File Added) 
	rserv/trunk/help/en/banserv/addregexpneg (File Added) 
	rserv/trunk/help/en/banserv/delregexp (File Added) 
	rserv/trunk/help/en/banserv/delregexpneg (File Added) 
	rserv/trunk/help/en/banserv/index-admin (File Modified) 
	rserv/trunk/help/en/banserv/listregexps (File Added) 


leeh        2007/04/21 11:04:29 UTC	(20070421_0-23835)
  Log:
  - rename operserv::regexp to operserv::addregexp, and operserv::unregexp to
    operserv::delregexp (same for regexpneg)
  

  Modified:
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2007/04/11 22:49:35 UTC	(20070411_2-23829)
  Log:
  - when merging services, use dlink_add_tail so helpfile ordering doesn't
    move around when its rehashed
  

  Modified:
	rserv/trunk/src/service.c (File Modified) 


leeh        2007/04/11 22:48:39 UTC	(20070411_1-23827)
  Log:
  - make watchserv support merging into operserv
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_watchserv.c (File Modified) 


leeh        2007/04/11 22:40:55 UTC	(20070411_0-23825)
  Log:
  - add ability to merge jupeserv into operserv
  

  Modified:
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 


leeh        2007/04/09 17:34:03 UTC	(20070409_3-23823)
  Log:
  - add the ability to merge banserv into operserv
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2007/04/09 13:57:40 UTC	(20070409_2-23821)
  Log:
  - database uses REALLEN for server jupes, we should too
  

  Modified:
	rserv/trunk/src/s_jupeserv.c (File Modified) 


leeh        2007/04/09 11:49:52 UTC	(20070409_1-23819)
  Log:
  - note cmd_entry may be invalid after we have executed the command
  

  Modified:
	rserv/trunk/src/service.c (File Modified) 


leeh        2007/04/09 04:51:36 UTC	(20070409_0-23817)
  Log:
  - userserv::userinfo should have minpara of 1
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/04/05 20:54:44 UTC	(20070405_4-23815)
  Log:
  - ignore Makefile here
  

  Modified:
	rserv/trunk/langs/  (Property Modified)


leeh        2007/04/05 20:36:55 UTC	(20070405_3-23813)
  Log:
  - add the code to merge the index/index-admin helpfiles upwards too
  

  Modified:
	rserv/trunk/src/service.c (File Modified) 


leeh        2007/04/05 20:20:30 UTC	(20070405_2-23811)
  Log:
  - add dlink_move_list_tail(), moves one list to the end of another list
  

  Modified:
	rserv/trunk/include/tools.h (File Modified) 
	rserv/trunk/src/tools.c (File Modified) 


leeh        2007/04/05 20:09:55 UTC	(20070405_1-23809)
  Log:
  - add support for merging one service upwards into another service
  

  Modified:
	rserv/trunk/include/client.h (File Modified) 
	rserv/trunk/include/service.h (File Modified) 
	rserv/trunk/src/service.c (File Modified) 
	rserv/trunk/src/ucommand.c (File Modified) 


leeh        2007/04/05 18:30:48 UTC	(20070405_0-23807)
  Log:
  - rework dcc commands so they just use the struct ucommand_handler from the
    service_handler, instead of building a linked list of them
  

  Modified:
	rserv/trunk/include/client.h (File Modified) 
	rserv/trunk/src/service.c (File Modified) 
	rserv/trunk/src/ucommand.c (File Modified) 


leeh        2007/04/04 20:50:24 UTC	(20070404_0-23805)
  Log:
  - langs_description shouldnt be const, we need to free() it
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 


leeh        2007/04/03 18:14:24 UTC	(20070403_1-23801)
  Log:
  - document banned email domains
  

  Modified:
	rserv/trunk/doc/banning_email_domains.txt (File Added) 


leeh        2007/04/03 18:09:31 UTC	(20070403_0-23799)
  Log:
  - make cacheline_heap external
  - store the language descriptions from the translation files into
    langs_description
  - when loading service help files, append a list of languages and their
    descriptions to the language help for userserv
  

  Modified:
	rserv/trunk/help/en/userserv/language (File Modified) 
	rserv/trunk/include/cache.h (File Modified) 
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/cache.c (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


leeh        2007/04/02 20:19:44 UTC	(20070402_3-23793)
  Log:
  - fix hook on connecting clients to match negative regexps
  - tidy up the listregexps output
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2007/04/02 20:14:34 UTC	(20070402_2-23791)
  Log:
  - add banserv::unregexpneg, to remove a negative regexp
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2007/04/02 20:07:01 UTC	(20070402_1-23789)
  Log:
  - I swear I have a blind spot for nested DLINK_FOREACH(), refactor some code
    slightly so its not needed
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2007/04/02 20:03:30 UTC	(20070402_0-23787)
  Log:
  - add banserv::regexpneg, to add a regexp negation
  - extend banserv::listregexps to list negations
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2007/04/01 18:14:27 UTC	(20070401_6-23785)
  Log:
  - add in the sql stuff for regexp negation, and the db loader functions
  - extend regexp_free() to do the sql clearing of operbans_regexp and
    operbans_regexp_neg
  

  Modified:
	rserv/trunk/include/s_banserv.h (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


jilles      2007/04/01 17:49:20 UTC	(20070401_5-23783)
  Log:
  Make rsdb_sqlite3.c compile.
  

  Modified:
	rserv/trunk/src/rsdb_sqlite3.c (File Modified) 


leeh        2007/04/01 17:39:22 UTC	(20070401_4-23781)
  Log:
  - forgot to add s_banserv.h
  

  Modified:
	rserv/trunk/include/s_banserv.h (File Added) 


leeh        2007/04/01 16:32:37 UTC	(20070401_3-23777)
  Log:
  - swap schemas so suspend_time defaults to 0
  - make users database load handle an empty string for suspend_time
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


jilles      2007/04/01 16:23:46 UTC	(20070401_2-23775)
  Log:
  Don't lower TS, desynching services, when joining
  a channel for inhabit.
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


jilles      2007/04/01 16:15:43 UTC	(20070401_1-23773)
  Log:
  If chanserv::addban kicks out the last user, enable
  inhabit first so the channel is not destroyed (which
  would cause a crash).
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2007/04/01 11:47:00 UTC	(20070401_0-23771)
  Log:
  - add regexp_time to example.conf, controls how long klines issued as part
    of regexps last
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2007/03/31 15:46:18 UTC	(20070331_4-23769)
  Log:
  - add banserv::listregexps, to list regexps
  - add stuff to the end of regexp_list, so the list looks nicer
  - id is argv[0] in sql lookup, not argv[1]
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2007/03/31 13:52:21 UTC	(20070331_3-23767)
  Log:
  - need to install the english helpfiles too..
  

  Modified:
	rserv/trunk/help/Makefile.in (File Modified) 


leeh        2007/03/31 13:42:17 UTC	(20070331_2-23765)
  Log:
  - rework banserv regexps so they have an auto incrementing 'id' column
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


leeh        2007/03/31 13:41:07 UTC	(20070331_1-23763)
  Log:
  - add rsdb_exec_insert(), which extends rsdb api to be able to return the
    inserted id from an auto incrementing column
  

  Modified:
	rserv/trunk/include/rsdb.h (File Modified) 
	rserv/trunk/src/rsdb_mysql.c (File Modified) 
	rserv/trunk/src/rsdb_pgsql.c (File Modified) 
	rserv/trunk/src/rsdb_sqlite3.c (File Modified) 


leeh        2007/03/31 13:40:09 UTC	(20070331_0-23761)
  Log:
  - update rsdb documentation
  

  Modified:
	rserv/trunk/doc/rsdb.txt (File Modified) 


leeh        2007/03/30 19:49:03 UTC	(20070330_4-23759)
  Log:
  - when a client connects to the network, have banserv scan through the
    regexps and kline it if necessary
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2007/03/30 19:26:43 UTC	(20070330_3-23757)
  Log:
  - code for loading in regexps from the database
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2007/03/30 19:18:18 UTC	(20070330_2-23755)
  Log:
  - make banserv::regexp walk through the client list and issue klines to any
    matching clients
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2007/03/30 18:56:44 UTC	(20070330_1-23753)
  Log:
  - add expiry of regexps
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2007/03/30 18:37:29 UTC	(20070330_0-23751)
  Log:
  - add banserv::unregexp
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2007/03/29 21:19:02 UTC	(20070329_1-23749)
  Log:
  - new flag, banserv::regexp, grants ability to set/delete regexps
  - add operserv::regexp, to add a regexp
  

  Modified:
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2007/03/29 21:17:33 UTC	(20070329_0-23747)
  Log:
  - sql for operbans_regexp table
  

  Modified:
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


leeh        2007/03/28 19:26:20 UTC	(20070328_3-23742)
  Log:
  - swap the release notes around
  

  Modified:
	rserv/trunk/RELEASE_NOTES (File Modified) 
	rserv/trunk/doc/release_notes/RELEASE_NOTES_1.1 (File Added) 


leeh        2007/03/28 18:29:22 UTC	(20070328_2-23740)
  Log:
  - add helpfiles for the operserv ignore stuff
  

  Modified:
	rserv/trunk/help/en/operserv/addignore (File Added) 
	rserv/trunk/help/en/operserv/delignore (File Added) 
	rserv/trunk/help/en/operserv/index-admin (File Modified) 
	rserv/trunk/help/en/operserv/listignores (File Added) 
	rserv/trunk/help/en/operserv/u-addignore (File Added) 
	rserv/trunk/help/en/operserv/u-delignore (File Added) 
	rserv/trunk/help/en/operserv/u-listignores (File Added) 


leeh        2007/03/28 18:24:19 UTC	(20070328_1-23738)
  Log:
  - add operserv::listignores
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2007/03/28 18:17:49 UTC	(20070328_0-23736)
  Log:
  - operserv::addignore should send out a notice on success
  - operserv::delignore was missing the sql to remove the ignore from db
  

  Modified:
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2007/03/27 21:00:55 UTC	(20070327_1-23726)
  Log:
  - add operserv::addignore and operserv::delignore
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/include/service.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


leeh        2007/03/27 20:48:28 UTC	(20070327_0-23724)
  Log:
  - make ignore_list external
  - add in new operserv flag, 'ignore', controls access to ignore functions
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/include/service.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


leeh        2007/03/26 19:16:02 UTC	(20070326_0-23722)
  Log:
  - as pointed out by hml on irc, s/REGISTER/USERSUSPEND in a notice sent out
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/03/25 21:42:04 UTC	(20070325_0-23718)
  Log:
  - make table of ignore hosts support tracking reason/oper too
  

  Modified:
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


leeh        2007/03/24 20:28:32 UTC	(20070324_0-23716)
  Log:
  - services ignores, the sql and code for ignoring users
  

  Modified:
	rserv/trunk/src/service.c (File Modified) 
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


leeh        2007/03/19 21:44:06 UTC	(20070319_0-23714)
  Log:
  - show expiry of channel and user suspends
  

  Modified:
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/03/18 20:24:05 UTC	(20070318_0-23712)
  Log:
  - via ongeboren, missing "chptr = msptr->chptr;" in chanserv::op
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2007/03/16 21:58:18 UTC	(20070316_4-23710)
  Log:
  - erroneous ','
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/03/16 21:56:05 UTC	(20070316_3-23708)
  Log:
  - clarify show_suspend_reasons wont display who suspended it
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 


leeh        2007/03/16 21:55:12 UTC	(20070316_2-23706)
  Log:
  - new conf option to chanserv and userserv, show_suspend_reasons =
    <yes|no>;, controlling whether suspend reasons are shown to users
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/03/16 21:46:42 UTC	(20070316_1-23704)
  Log:
  - temporary channel suspends
  

  Modified:
	rserv/trunk/include/s_chanserv.h (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


leeh        2007/03/16 21:22:00 UTC	(20070316_0-23702)
  Log:
  - remove the doc/ stuff from Makefile.in, as we dont have it to install
  

  Modified:
	rserv/trunk/pcre/Makefile.in (File Modified) 


leeh        2007/03/15 20:25:38 UTC	(20070315_0-23700)
  Log:
  - bulgarian translations, courtesy of
    Christian Stoyanov <raptorat -at- gmail.com>
    Alexander Kotzev <noex.mc -at- gmail.com>
    X-PrAnK <x-prank -at- x-spot.org>
    and ongeboren
  

  Modified:
	rserv/trunk/help/Makefile.in (File Modified) 
	rserv/trunk/help/bg/ (File Added) 
	rserv/trunk/help/bg/alis/ (File Added) 
	rserv/trunk/help/bg/alis/general (File Added) 
	rserv/trunk/help/bg/alis/index (File Added) 
	rserv/trunk/help/bg/alis/list (File Added) 
	rserv/trunk/help/bg/banserv/ (File Added) 
	rserv/trunk/help/bg/banserv/findkline (File Added) 
	rserv/trunk/help/bg/banserv/findresv (File Added) 
	rserv/trunk/help/bg/banserv/findxline (File Added) 
	rserv/trunk/help/bg/banserv/general (File Added) 
	rserv/trunk/help/bg/banserv/index (File Added) 
	rserv/trunk/help/bg/banserv/index-admin (File Added) 
	rserv/trunk/help/bg/banserv/kline (File Added) 
	rserv/trunk/help/bg/banserv/resv (File Added) 
	rserv/trunk/help/bg/banserv/sync (File Added) 
	rserv/trunk/help/bg/banserv/u-findkline (File Added) 
	rserv/trunk/help/bg/banserv/u-findresv (File Added) 
	rserv/trunk/help/bg/banserv/u-findxline (File Added) 
	rserv/trunk/help/bg/banserv/u-kline (File Added) 
	rserv/trunk/help/bg/banserv/u-resv (File Added) 
	rserv/trunk/help/bg/banserv/u-sync (File Added) 
	rserv/trunk/help/bg/banserv/u-unkline (File Added) 
	rserv/trunk/help/bg/banserv/u-unresv (File Added) 
	rserv/trunk/help/bg/banserv/u-unxline (File Added) 
	rserv/trunk/help/bg/banserv/u-xline (File Added) 
	rserv/trunk/help/bg/banserv/unkline (File Added) 
	rserv/trunk/help/bg/banserv/unresv (File Added) 
	rserv/trunk/help/bg/banserv/unxline (File Added) 
	rserv/trunk/help/bg/banserv/xline (File Added) 
	rserv/trunk/help/bg/chanserv/ (File Added) 
	rserv/trunk/help/bg/chanserv/addban (File Added) 
	rserv/trunk/help/bg/chanserv/adduser (File Added) 
	rserv/trunk/help/bg/chanserv/chandrop (File Added) 
	rserv/trunk/help/bg/chanserv/chaninfo (File Added) 
	rserv/trunk/help/bg/chanserv/chanlist (File Added) 
	rserv/trunk/help/bg/chanserv/chanregister (File Added) 
	rserv/trunk/help/bg/chanserv/chansuspend (File Added) 
	rserv/trunk/help/bg/chanserv/chanunsuspend (File Added) 
	rserv/trunk/help/bg/chanserv/clearallops (File Added) 
	rserv/trunk/help/bg/chanserv/clearbans (File Added) 
	rserv/trunk/help/bg/chanserv/clearmodes (File Added) 
	rserv/trunk/help/bg/chanserv/clearops (File Added) 
	rserv/trunk/help/bg/chanserv/delban (File Added) 
	rserv/trunk/help/bg/chanserv/delowner (File Added) 
	rserv/trunk/help/bg/chanserv/deluser (File Added) 
	rserv/trunk/help/bg/chanserv/general (File Added) 
	rserv/trunk/help/bg/chanserv/getkey (File Added) 
	rserv/trunk/help/bg/chanserv/index (File Added) 
	rserv/trunk/help/bg/chanserv/index-admin (File Added) 
	rserv/trunk/help/bg/chanserv/info (File Added) 
	rserv/trunk/help/bg/chanserv/invite (File Added) 
	rserv/trunk/help/bg/chanserv/listbans (File Added) 
	rserv/trunk/help/bg/chanserv/listusers (File Added) 
	rserv/trunk/help/bg/chanserv/modauto (File Added) 
	rserv/trunk/help/bg/chanserv/modban (File Added) 
	rserv/trunk/help/bg/chanserv/moduser (File Added) 
	rserv/trunk/help/bg/chanserv/op (File Added) 
	rserv/trunk/help/bg/chanserv/register (File Added) 
	rserv/trunk/help/bg/chanserv/set (File Added) 
	rserv/trunk/help/bg/chanserv/suspend (File Added) 
	rserv/trunk/help/bg/chanserv/u-chandrop (File Added) 
	rserv/trunk/help/bg/chanserv/u-chaninfo (File Added) 
	rserv/trunk/help/bg/chanserv/u-chanregister (File Added) 
	rserv/trunk/help/bg/chanserv/u-chansuspend (File Added) 
	rserv/trunk/help/bg/chanserv/u-chanunsuspend (File Added) 
	rserv/trunk/help/bg/chanserv/unban (File Added) 
	rserv/trunk/help/bg/chanserv/unsuspend (File Added) 
	rserv/trunk/help/bg/chanserv/voice (File Added) 
	rserv/trunk/help/bg/global/ (File Added) 
	rserv/trunk/help/bg/global/addwelcome (File Added) 
	rserv/trunk/help/bg/global/delwelcome (File Added) 
	rserv/trunk/help/bg/global/general (File Added) 
	rserv/trunk/help/bg/global/index (File Added) 
	rserv/trunk/help/bg/global/index-admin (File Added) 
	rserv/trunk/help/bg/global/listwelcome (File Added) 
	rserv/trunk/help/bg/global/netmsg (File Added) 
	rserv/trunk/help/bg/global/u-addwelcome (File Added) 
	rserv/trunk/help/bg/global/u-delwelcome (File Added) 
	rserv/trunk/help/bg/global/u-listwelcome (File Added) 
	rserv/trunk/help/bg/global/u-netmsg (File Added) 
	rserv/trunk/help/bg/jupeserv/ (File Added) 
	rserv/trunk/help/bg/jupeserv/calljupe (File Added) 
	rserv/trunk/help/bg/jupeserv/callunjupe (File Added) 
	rserv/trunk/help/bg/jupeserv/general (File Added) 
	rserv/trunk/help/bg/jupeserv/index (File Added) 
	rserv/trunk/help/bg/jupeserv/index-admin (File Added) 
	rserv/trunk/help/bg/jupeserv/jupe (File Added) 
	rserv/trunk/help/bg/jupeserv/pending (File Added) 
	rserv/trunk/help/bg/jupeserv/u-jupe (File Added) 
	rserv/trunk/help/bg/jupeserv/u-unjupe (File Added) 
	rserv/trunk/help/bg/jupeserv/unjupe (File Added) 
	rserv/trunk/help/bg/main/ (File Added) 
	rserv/trunk/help/bg/main/u-boot (File Added) 
	rserv/trunk/help/bg/main/u-chat (File Added) 
	rserv/trunk/help/bg/main/u-connect (File Added) 
	rserv/trunk/help/bg/main/u-events (File Added) 
	rserv/trunk/help/bg/main/u-quit (File Added) 
	rserv/trunk/help/bg/main/u-rehash (File Added) 
	rserv/trunk/help/bg/main/u-service (File Added) 
	rserv/trunk/help/bg/main/u-stats (File Added) 
	rserv/trunk/help/bg/main/u-status (File Added) 
	rserv/trunk/help/bg/nickserv/ (File Added) 
	rserv/trunk/help/bg/nickserv/drop (File Added) 
	rserv/trunk/help/bg/nickserv/general (File Added) 
	rserv/trunk/help/bg/nickserv/index (File Added) 
	rserv/trunk/help/bg/nickserv/index-admin (File Added) 
	rserv/trunk/help/bg/nickserv/info (File Added) 
	rserv/trunk/help/bg/nickserv/nickdrop (File Added) 
	rserv/trunk/help/bg/nickserv/regain (File Added) 
	rserv/trunk/help/bg/nickserv/register (File Added) 
	rserv/trunk/help/bg/nickserv/release (File Added) 
	rserv/trunk/help/bg/nickserv/set (File Added) 
	rserv/trunk/help/bg/nickserv/u-nickdrop (File Added) 
	rserv/trunk/help/bg/operbot/ (File Added) 
	rserv/trunk/help/bg/operbot/general (File Added) 
	rserv/trunk/help/bg/operbot/index (File Added) 
	rserv/trunk/help/bg/operbot/index-admin (File Added) 
	rserv/trunk/help/bg/operbot/invite (File Added) 
	rserv/trunk/help/bg/operbot/objoin (File Added) 
	rserv/trunk/help/bg/operbot/obpart (File Added) 
	rserv/trunk/help/bg/operbot/op (File Added) 
	rserv/trunk/help/bg/operbot/u-objoin (File Added) 
	rserv/trunk/help/bg/operbot/u-obpart (File Added) 
	rserv/trunk/help/bg/operserv/ (File Added) 
	rserv/trunk/help/bg/operserv/dbsync (File Added) 
	rserv/trunk/help/bg/operserv/die (File Added) 
	rserv/trunk/help/bg/operserv/general (File Added) 
	rserv/trunk/help/bg/operserv/index (File Added) 
	rserv/trunk/help/bg/operserv/index-admin (File Added) 
	rserv/trunk/help/bg/operserv/listopers (File Added) 
	rserv/trunk/help/bg/operserv/omode (File Added) 
	rserv/trunk/help/bg/operserv/osjoin (File Added) 
	rserv/trunk/help/bg/operserv/ospart (File Added) 
	rserv/trunk/help/bg/operserv/rehash (File Added) 
	rserv/trunk/help/bg/operserv/takeover (File Added) 
	rserv/trunk/help/bg/operserv/u-dbsync (File Added) 
	rserv/trunk/help/bg/operserv/u-die (File Added) 
	rserv/trunk/help/bg/operserv/u-listopers (File Added) 
	rserv/trunk/help/bg/operserv/u-omode (File Added) 
	rserv/trunk/help/bg/operserv/u-osjoin (File Added) 
	rserv/trunk/help/bg/operserv/u-ospart (File Added) 
	rserv/trunk/help/bg/operserv/u-takeover (File Added) 
	rserv/trunk/help/bg/userserv/ (File Added) 
	rserv/trunk/help/bg/userserv/activate (File Added) 
	rserv/trunk/help/bg/userserv/general (File Added) 
	rserv/trunk/help/bg/userserv/index (File Added) 
	rserv/trunk/help/bg/userserv/index-admin (File Added) 
	rserv/trunk/help/bg/userserv/info (File Added) 
	rserv/trunk/help/bg/userserv/language (File Added) 
	rserv/trunk/help/bg/userserv/login (File Added) 
	rserv/trunk/help/bg/userserv/logout (File Added) 
	rserv/trunk/help/bg/userserv/register (File Added) 
	rserv/trunk/help/bg/userserv/resetemail (File Added) 
	rserv/trunk/help/bg/userserv/resetpass (File Added) 
	rserv/trunk/help/bg/userserv/set (File Added) 
	rserv/trunk/help/bg/userserv/u-userdrop (File Added) 
	rserv/trunk/help/bg/userserv/u-userinfo (File Added) 
	rserv/trunk/help/bg/userserv/u-userregister (File Added) 
	rserv/trunk/help/bg/userserv/u-usersetpass (File Added) 
	rserv/trunk/help/bg/userserv/u-usersuspend (File Added) 
	rserv/trunk/help/bg/userserv/u-userunsuspend (File Added) 
	rserv/trunk/help/bg/userserv/userdrop (File Added) 
	rserv/trunk/help/bg/userserv/userinfo (File Added) 
	rserv/trunk/help/bg/userserv/userlist (File Added) 
	rserv/trunk/help/bg/userserv/userregister (File Added) 
	rserv/trunk/help/bg/userserv/usersetpass (File Added) 
	rserv/trunk/help/bg/userserv/usersuspend (File Added) 
	rserv/trunk/help/bg/userserv/userunsuspend (File Added) 
	rserv/trunk/help/bg/watchserv/ (File Added) 
	rserv/trunk/help/bg/watchserv/general (File Added) 
	rserv/trunk/help/bg/watchserv/index (File Added) 
	rserv/trunk/help/bg/watchserv/index-admin (File Added) 
	rserv/trunk/help/bg/watchserv/u-watch (File Added) 
	rserv/trunk/help/bg/watchserv/watch (File Added) 
	rserv/trunk/help/en/chanserv/chansuspend (File Modified) 
	rserv/trunk/help/en/chanserv/u-chansuspend (File Modified) 
	rserv/trunk/help/en/chanserv/u-chanunsuspend (File Modified) 
	rserv/trunk/help/genindex.sh (File Modified) 
	rserv/trunk/langs/Makefile.in (File Modified) 
	rserv/trunk/langs/bg.lang (File Added) 


leeh        2007/03/14 20:08:05 UTC	(20070314_0-23698)
  Log:
  - extend chanserv::op so if it isn't given a channel parameter, it ops users
    on all available channels where they're not already opped
  

  Modified:
	rserv/trunk/help/en/chanserv/op (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2007/03/04 19:26:51 UTC	(20070304_0-23694)
  Log:
  - via ongeboren, chanserv::delowner was using ureg_p rather than chreg_p in
    a sql statement
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2007/03/01 20:16:41 UTC	(20070301_2-23692)
  Log:
  - consistency, make duration of suspend the first param and update the help
  

  Modified:
	rserv/trunk/help/en/userserv/u-usersuspend (File Modified) 
	rserv/trunk/help/en/userserv/usersuspend (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/03/01 20:12:18 UTC	(20070301_1-23690)
  Log:
  - if the language field in the db is empty, dont give users a language
  - account for a preferred language not being loaded when grabbing
    translations for messages
  

  Modified:
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/03/01 20:09:14 UTC	(20070301_0-23688)
  Log:
  - add database field suspend_time to users table, for tracking the suspend
    time
  - disable userserv::resetpass and userserv::activate if username is
    suspended
  - add ability to do temporary suspends of users
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/include/s_userserv.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


leeh        2007/02/28 18:32:23 UTC	(20070228_0-23684)
  Log:
  - fix language to be loaded from the db at startup
  - fix inverted test for a translation being valid
  - fix a check for an empty string in translations
  

  Modified:
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/langs_format.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/02/27 19:01:57 UTC	(20070227_0-23672)
  Log:
  - add userserv::usersetemail for admins to reset a users email address, with
    associated operator {}; priv
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/help/en/userserv/index-admin (File Modified) 
	rserv/trunk/help/en/userserv/u-usersetemail (File Added) 
	rserv/trunk/help/en/userserv/usersetemail (File Added) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/02/26 21:16:31 UTC	(20070226_3-23670)
  Log:
  - add CHANSERV::SET::NOUSERBANS, to force all bans to go through services
  

  Modified:
	rserv/trunk/help/en/chanserv/set (File Modified) 
	rserv/trunk/include/s_chanserv.h (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2007/02/26 21:13:35 UTC	(20070226_2-23668)
  Log:
  - make HOOK_MODE_BAN only for user set +b
  - make del_ban() external
  

  Modified:
	rserv/trunk/include/channel.h (File Modified) 
	rserv/trunk/include/hook.h (File Modified) 
	rserv/trunk/src/c_mode.c (File Modified) 


leeh        2007/02/26 21:01:18 UTC	(20070226_1-23666)
  Log:
  - add a hook for +b modes
  

  Modified:
	rserv/trunk/include/hook.h (File Modified) 
	rserv/trunk/src/c_mode.c (File Modified) 


leeh        2007/02/26 19:25:21 UTC	(20070226_0-23664)
  Log:
  - add USERSERV::SET::NOACCESS, which prevents the username from being added
    to any channels
  

  Modified:
	rserv/trunk/help/en/userserv/set (File Modified) 
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/include/s_userserv.h (File Modified) 
	rserv/trunk/langs/example.lang (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/02/21 18:27:19 UTC	(20070221_1-23654)
  Log:
  - handle some conversion specifiers, and error if we get a part of a format
    string we dont understand
  

  Modified:
	rserv/trunk/src/langs_format.c (File Modified) 


leeh        2007/02/21 18:16:21 UTC	(20070221_0-23652)
  Log:
  - watch for MAX_FMT_ARGS overflowing
  

  Modified:
	rserv/trunk/src/langs_format.c (File Modified) 


leeh        2007/02/18 21:13:35 UTC	(20070218_5-23650)
  Log:
  - make USR1/rehash help also reload the translations
  

  Modified:
	rserv/trunk/help/en/main/u-rehash (File Modified) 
	rserv/trunk/help/en/operserv/rehash (File Modified) 
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/langs_format.c (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/ucommand.c (File Modified) 


leeh        2007/02/18 19:22:58 UTC	(20070218_4-23648)
  Log:
  - finished testing, dont want to install example.lang
  

  Modified:
	rserv/trunk/langs/Makefile.in (File Modified) 


leeh        2007/02/18 14:27:11 UTC	(20070218_3-23646)
  Log:
  - add a basic format string validator
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/Makefile.in (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/langs_format.c (File Added) 


leeh        2007/02/18 14:15:34 UTC	(20070218_2-23644)
  Log:
  - s/filename/pathbuf
  

  Modified:
	rserv/trunk/src/langs.c (File Modified) 


leeh        2007/02/18 12:38:17 UTC	(20070218_1-23642)
  Log:
  - clarify default_language in the conf doesn't care about validity
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 


leeh        2007/02/18 12:36:38 UTC	(20070218_0-23640)
  Log:
  - add in the code for loading translation files.
    This currently doesn't check for format string validity..
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 


leeh        2007/02/16 20:53:37 UTC	(20070216_0-23638)
  Log:
  - rename example.lang.x to example.lang
  - add in Makefile to help/
  

  Modified:
	rserv/trunk/Makefile.in (File Modified) 
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 
	rserv/trunk/langs/Makefile.in (File Added) 
	rserv/trunk/langs/example.lang (File Added) 
	rserv/trunk/langs/example.lang.x (File Deleted) 
	rserv/trunk/src/Makefile.in (File Modified) 


leeh        2007/02/15 19:39:05 UTC	(20070215_2-23634)
  Log:
  - finish renaming en_GB to en
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/langs.h (File Modified) 


leeh        2007/02/15 19:38:29 UTC	(20070215_1-23632)
  Log:
  - add in an example translation file
  

  Modified:
	rserv/trunk/langs/ (File Added) 
	rserv/trunk/langs/example.lang.x (File Added) 


leeh        2007/02/15 19:29:42 UTC	(20070215_0-23630)
  Log:
  - rename en_GB to en
  

  Modified:
	rserv/trunk/help/Makefile.in (File Modified) 
	rserv/trunk/help/en/ (File Added) 
	rserv/trunk/help/en_GB/ (File Deleted) 
	rserv/trunk/help/genindex.sh (File Modified) 


leeh        2007/02/13 22:17:30 UTC	(20070213_3-23622)
  Log:
  - to avoid conflicts with code taken from ircd, rserv is now under the GPL
  

  Modified:
	rserv/trunk/LICENSE (File Modified) 


leeh        2007/02/13 22:08:37 UTC	(20070213_2-23616)
  Log:
  - add autoconf test for dirent.h
  - define PATH_MAX if not already defined
  - make init_langs() fill langs_available will the list of subdirs in the
    help folder
  

  Modified:
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 
	rserv/trunk/include/setup.h.in (File Modified) 
	rserv/trunk/include/stdinc.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 


leeh        2007/02/13 20:52:16 UTC	(20070213_1-23614)
  Log:
  - move over to a dynamic list of available languages
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/include/s_userserv.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 
	rserv/trunk/src/ucommand.c (File Modified) 


leeh        2007/02/13 15:04:51 UTC	(20070213_0-23612)
  Log:
  - store language as a string rather than an integer
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


leeh        2007/02/05 21:35:27 UTC	(20070205_0-23596)
  Log:
  - sync all the messages so the language file has %s::%s instead of passing
    the "::" as a param
  

  Modified:
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_alis.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/02/02 18:25:06 UTC	(20070202_0-23591)
  Log:
  - add copyrights and license to langs.c/messages.c
  

  Modified:
	rserv/trunk/src/langs.c (File Modified) (Property Modified)
	rserv/trunk/src/messages.c (File Modified) (Property Modified)


leeh        2007/02/01 20:39:41 UTC	(20070201_1-23587)
  Log:
  - move service.c over to the new framework, so those are all done now..
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


leeh        2007/02/01 20:20:13 UTC	(20070201_0-23585)
  Log:
  - move jupeserv over to the new framework
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 


leeh        2007/01/30 18:23:22 UTC	(20070130_1-23548)
  Log:
  - move alis over to new framework
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_alis.c (File Modified) 


leeh        2007/01/30 18:17:34 UTC	(20070130_0-23546)
  Log:
  - finish moving chanserv over to the new framework
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2007/01/28 18:51:49 UTC	(20070128_1-23541)
  Log:
  - more conversions of chanserv to the new framework
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2007/01/28 17:52:55 UTC	(20070128_0-23539)
  Log:
  - move more of chanserv over to the new framework
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/01/27 16:04:04 UTC	(20070127_7-23535)
  Log:
  - move global over to the new framework
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_global.c (File Modified) 


leeh        2007/01/27 15:55:41 UTC	(20070127_6-23533)
  Log:
  - swap SVC_USER_UL_END and SVC_BAN_LISTEND for a single SVC_ENDOFLIST
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/01/27 15:50:52 UTC	(20070127_5-23531)
  Log:
  - finish moving operserv across to the new framework
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2007/01/27 15:45:37 UTC	(20070127_4-23529)
  Log:
  - finish moving operbot onto the new framework
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 


leeh        2007/01/27 15:41:12 UTC	(20070127_3-23527)
  Log:
  - move nickserv over to the new framework
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 


leeh        2007/01/27 14:22:00 UTC	(20070127_2-23523)
  Log:
  - need another parameter to that..
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/01/27 14:20:57 UTC	(20070127_1-23521)
  Log:
  - morph CHANGEDEMAIL into CHANGEOPTION
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/01/27 14:15:46 UTC	(20070127_0-23519)
  Log:
  - move chanserv::info over to the new framework, tidying it into
    userserv::info
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/01/26 23:37:04 UTC	(20070126_1-23513)
  Log:
  - move some chanserv notices over to new framework
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2007/01/26 21:20:57 UTC	(20070126_0-23511)
  Log:
  - add SVC_SUCCESSFULON so we can be more helpful..
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


androsyn    2007/01/17 19:17:35 UTC	(20070117_0-23499)
  Log:
  use sockof(portbuf) instead of a magic number in gethostinfo()

  Modified:
	rserv/trunk/src/io.c (File Modified) 


leeh        2007/01/16 21:40:26 UTC	(20070116_0-23495)
  Log:
  - swap banserv over to the new framework
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2007/01/15 19:26:28 UTC	(20070115_3-23493)
  Log:
  - move most of operbot over to the new framework
  - operserv needs langs.h
  

  Modified:
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2007/01/15 19:23:35 UTC	(20070115_2-23491)
  Log:
  - whoops, missed a save there
  

  Modified:
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2007/01/15 19:22:46 UTC	(20070115_1-23489)
  Log:
  - move most of operserv over to the new framework
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2007/01/15 18:59:43 UTC	(20070115_0-23487)
  Log:
  - finish off moving s_userserv.c over to the new framework, except a little
    bit in userlist that is complicated
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/01/14 22:07:56 UTC	(20070114_8-23483)
  Log:
  - move rest of service_error() in s_userserv over to new framework, barring
    userserv::info
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/01/14 21:47:57 UTC	(20070114_7-23481)
  Log:
  - more userserv notices over to the new framework
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/01/14 18:35:54 UTC	(20070114_6-23479)
  Log:
  - move various more userserv notices over to the new framework
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/01/14 17:50:38 UTC	(20070114_5-23475)
  Log:
  - swap some userserv notices over to the translation methods
  - swap a couple of LANG_LAST for SVC_LAST
  - fix length checking of password on userserv::usersetpass
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/01/14 17:15:19 UTC	(20070114_4-23471)
  Log:
  - rerun make depend
  

  Modified:
	rserv/trunk/src/.depend (File Modified) 


leeh        2007/01/14 17:04:07 UTC	(20070114_3-23469)
  Log:
  - uncomplicate the notice sending stuff, based on what va_args() actually
    does, rather than what I think it does..
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/include/service.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


leeh        2007/01/14 16:53:40 UTC	(20070114_2-23467)
  Log:
  - add an alternate version of service_error() too
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/include/service.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


leeh        2007/01/14 16:49:23 UTC	(20070114_1-23465)
  Log:
  - add in the backend sending methods for dealing with translations for
    server notices
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/include/service.h (File Modified) 
	rserv/trunk/src/Makefile.in (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/messages.c (File Added) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


leeh        2007/01/14 16:06:04 UTC	(20070114_0-23463)
  Log:
  - newconf.c needs langs.h
  

  Modified:
	rserv/trunk/src/newconf.c (File Modified) 


leeh        2007/01/13 22:26:00 UTC	(20070113_6-23450)
  Log:
  - add the ability to set a default_language in the conf
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 


leeh        2007/01/13 22:14:51 UTC	(20070113_5-23448)
  Log:
  - add lang_get_cachefile() to attempt to pull the right translation from an
    array of cachefile pointers
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/langs.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 
	rserv/trunk/src/ucommand.c (File Modified) 


leeh        2007/01/13 21:03:16 UTC	(20070113_4-23446)
  Log:
  - ugh, just mark the fact we dont want C++ libraries in the configure script
    itself
  

  Modified:
	rserv/trunk/pcre/configure (File Modified) 


leeh        2007/01/13 20:55:39 UTC	(20070113_3-23444)
  Log:
  - add autoconf checks for pcre
  

  Modified:
	rserv/trunk/Makefile.in (File Modified) 
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 
	rserv/trunk/src/Makefile.in (File Modified) 


leeh        2007/01/13 20:19:57 UTC	(20070113_2-23441)
  Log:
  - rebuild with autoconf2.50
  

  Modified:
	rserv/trunk/Makefile.in (File Modified) 
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 
	rserv/trunk/help/Makefile.in (File Modified) 
	rserv/trunk/include/setup.h.in (File Modified) 
	rserv/trunk/src/Makefile.in (File Modified) 


leeh        2007/01/13 14:58:17 UTC	(20070113_1-23439)
  Log:
  - make ucommand help account for language translations
  

  Modified:
	rserv/trunk/include/ucommand.h (File Modified) 
	rserv/trunk/src/service.c (File Modified) 
	rserv/trunk/src/ucommand.c (File Modified) 


leeh        2007/01/13 14:50:18 UTC	(20070113_0-23435)
  Log:
  - split the loading/clearing of the non-service dcc commands into their own
    functions, so we can load the helpfiles easier on boot, fixing them not
    being loaded
  

  Modified:
	rserv/trunk/include/ucommand.h (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 
	rserv/trunk/src/ucommand.c (File Modified) 


leeh        2007/01/12 22:03:06 UTC	(20070112_2-23431)
  Log:
  - add a dummy language handler in userserv and help on languages
  - add userserv::set::language to change language, with associated db storage
  

  Modified:
	rserv/trunk/help/en_GB/userserv/language (File Added) 
	rserv/trunk/help/en_GB/userserv/set (File Modified) 
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


leeh        2007/01/12 21:23:53 UTC	(20070112_1-23429)
  Log:
  - make service command handlers deal with a null function to do nothing
  

  Modified:
	rserv/trunk/src/service.c (File Modified) 


leeh        2007/01/12 20:48:17 UTC	(20070112_0-23427)
  Log:
  - make the registered username struct have the language enum in it, and move
    the declaration of langs_available over to langs.c
  

  Modified:
	rserv/trunk/include/langs.h (File Modified) 
	rserv/trunk/include/s_userserv.h (File Modified) 
	rserv/trunk/src/Makefile.in (File Modified) 
	rserv/trunk/src/client.c (File Modified) 
	rserv/trunk/src/langs.c (File Added) 
	rserv/trunk/src/log.c (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/src/s_watchserv.c (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


leeh        2007/01/10 20:50:04 UTC	(20070110_4-23415)
  Log:
  - make the service help file loading account for languages
  

  Modified:
	rserv/trunk/include/client.h (File Modified) 
	rserv/trunk/include/langs.h (File Added) 
	rserv/trunk/include/service.h (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


leeh        2007/01/10 20:32:38 UTC	(20070110_3-23411)
  Log:
  - fix a few service {}; conf options to handle a disabled service without
    coring
  

  Modified:
	rserv/trunk/src/newconf.c (File Modified) 


leeh        2007/01/10 20:10:25 UTC	(20070110_2-23409)
  Log:
  - fix the generation of installation of helpfiles, and index generation to
    accomodate languages
  

  Modified:
	rserv/trunk/help/Makefile.in (File Modified) 
	rserv/trunk/help/genindex.sh (File Modified) 


leeh        2007/01/10 19:52:30 UTC	(20070110_1-23407)
  Log:
  - move the helpfiles into en_GB subdirectory
  

  Modified:
	rserv/trunk/help/alis/ (File Deleted) 
	rserv/trunk/help/banserv/ (File Deleted) 
	rserv/trunk/help/chanserv/ (File Deleted) 
	rserv/trunk/help/en_GB/ (File Added) 
	rserv/trunk/help/en_GB/alis/ (File Added) 
	rserv/trunk/help/en_GB/banserv/ (File Added) 
	rserv/trunk/help/en_GB/chanserv/ (File Added) 
	rserv/trunk/help/en_GB/global/ (File Added) 
	rserv/trunk/help/en_GB/jupeserv/ (File Added) 
	rserv/trunk/help/en_GB/main/ (File Added) 
	rserv/trunk/help/en_GB/nickserv/ (File Added) 
	rserv/trunk/help/en_GB/operbot/ (File Added) 
	rserv/trunk/help/en_GB/operserv/ (File Added) 
	rserv/trunk/help/en_GB/userserv/ (File Added) 
	rserv/trunk/help/en_GB/watchserv/ (File Added) 
	rserv/trunk/help/global/ (File Deleted) 
	rserv/trunk/help/jupeserv/ (File Deleted) 
	rserv/trunk/help/main/ (File Deleted) 
	rserv/trunk/help/nickserv/ (File Deleted) 
	rserv/trunk/help/operbot/ (File Deleted) 
	rserv/trunk/help/operserv/ (File Deleted) 
	rserv/trunk/help/userserv/ (File Deleted) 
	rserv/trunk/help/watchserv/ (File Deleted) 


leeh        2007/01/10 19:44:30 UTC	(20070110_0-23403)
  Log:
  - via ongeboren
    - fix compile of rserv with --disable-chanserv
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2007/01/08 15:34:51 UTC	(20070108_0-23395)
  Log:
  - via Ralf S. Engelschall
    - fix some autoconf tests to be POSIX compliant
  

  Modified:
	rserv/trunk/autoconf/configure.in (File Modified) 


leeh        2007/01/07 22:16:36 UTC	(20070107_4-23387)
  Log:
  - start storing the ip addresses for remote users via TS6
  

  Modified:
	rserv/trunk/include/client.h (File Modified) 
	rserv/trunk/src/client.c (File Modified) 


leeh        2007/01/07 20:22:32 UTC	(20070107_3-23385)
  Log:
  - trunk is now 1.2.0beta
  

  Modified:
	rserv/trunk/include/config.h (File Modified) 


leeh        2007/01/07 20:21:49 UTC	(20070107_2-23383)
  Log:
  - extend copyrights to 2007
  

  Modified:
	rserv/trunk/LICENSE (File Modified) 
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/src/c_error.c (File Modified) 
	rserv/trunk/src/c_message.c (File Modified) 
	rserv/trunk/src/c_mode.c (File Modified) 
	rserv/trunk/src/cache.c (File Modified) 
	rserv/trunk/src/channel.c (File Modified) 
	rserv/trunk/src/client.c (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/crypt.c (File Modified) 
	rserv/trunk/src/dbhook.c (File Modified) 
	rserv/trunk/src/email.c (File Modified) 
	rserv/trunk/src/hook.c (File Modified) 
	rserv/trunk/src/io.c (File Modified) 
	rserv/trunk/src/log.c (File Modified) 
	rserv/trunk/src/modebuild.c (File Modified) 
	rserv/trunk/src/rsdb_mysql.c (File Modified) 
	rserv/trunk/src/rsdb_pgsql.c (File Modified) 
	rserv/trunk/src/rsdb_sqlite3.c (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/s_alis.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_global.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/src/s_watchserv.c (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 
	rserv/trunk/src/tools.c (File Modified) 
	rserv/trunk/src/u_stats.c (File Modified) 
	rserv/trunk/src/ucommand.c (File Modified) 

