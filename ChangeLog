leeh        2004/01/15 14:10:46 EST	(20040115_10)

  Modified files:
    src                  .depend Makefile.in client.c rserv.c 
                         service.c 
  Log:
  - added checks for ranlib/ar to configure
  - added the initial user registration service, just stored in memory atm
  - added the Makefile stuff for the service directories
  - hash_nick() -> global hash_name()
  - I need to stop just doing "*buf++;" :P
  
  Revision  Changes    Path
  1.3       +49 -30    rserv/src/.depend
  1.15      +20 -2     rserv/src/Makefile.in
  1.17      +9 -9      rserv/src/client.c
  1.21      +3 -0      rserv/src/rserv.c
  1.11      +2 -2      rserv/src/service.c



leeh        2004/01/15 14:10:43 EST	(20040115_9)

  Modified files:
    include              c_init.h client.h config.h 
  Log:
  - added checks for ranlib/ar to configure
  - added the initial user registration service, just stored in memory atm
  - added the Makefile stuff for the service directories
  - hash_nick() -> global hash_name()
  - I need to stop just doing "*buf++;" :P
  
  Revision  Changes    Path
  1.13      +3 -0      rserv/include/c_init.h
  1.14      +11 -0     rserv/include/client.h
  1.14      +21 -0     rserv/include/config.h



leeh        2004/01/15 14:10:39 EST	(20040115_8)

  Modified files:
    autoconf             configure.in 
  Log:
  - added checks for ranlib/ar to configure
  - added the initial user registration service, just stored in memory atm
  - added the Makefile stuff for the service directories
  - hash_nick() -> global hash_name()
  - I need to stop just doing "*buf++;" :P
  
  Revision  Changes    Path
  1.8       +7 -4      rserv/autoconf/configure.in



leeh        2004/01/15 14:10:38 EST	(20040115_7)

  Modified files:
    .                    configure 
  Log:
  - added checks for ranlib/ar to configure
  - added the initial user registration service, just stored in memory atm
  - added the Makefile stuff for the service directories
  - hash_nick() -> global hash_name()
  - I need to stop just doing "*buf++;" :P
  
  Revision  Changes    Path
  1.8       +122 -53   rserv/configure



leeh        2004/01/15 10:48:34 EST	(20040115_6)

  rserv/src/s_userserv - New directory



leeh        2004/01/15 10:48:31 EST	(20040115_5)

  rserv/src/s_jupeserv - New directory



leeh        2004/01/15 10:48:30 EST	(20040115_4)

  rserv/src/s_chanserv - New directory



leeh        2004/01/15 10:13:19 EST	(20040115_3)

  Modified files:
    include              config.h tools.h 
    src                  rserv.c tools.c 
  Log:
  - made dlink_nodes use a balloc
  - add some comments as to which things need to be init'd before what
  
  Revision  Changes    Path
  1.13      +2 -0      rserv/include/config.h
  1.10      +3 -1      rserv/include/tools.h
  1.20      +11 -3     rserv/src/rserv.c
  1.7       +24 -8     rserv/src/tools.c



leeh        2004/01/15 09:50:52 EST	(20040115_2)

  Modified files:
    src                  .cvsignore 
  Added files:
    .                    .cvsignore 
    help                 .cvsignore 
    include              .cvsignore 
  Log:
  - added/updated .cvsignore files
  
  Revision  Changes    Path
  1.1       +4 -0      rserv/.cvsignore (new)
  1.1       +1 -0      rserv/help/.cvsignore (new)
  1.1       +1 -0      rserv/include/.cvsignore (new)
  1.2       +3 -3      rserv/src/.cvsignore



leeh        2004/01/15 09:48:10 EST	(20040115_1)

  Modified files:
    include              client.h config.h tools.h 
    src                  client.c conf.c s_hoststat.c tools.c 
  Log:
  - added an extended hosthash for hoststat service, keeps track of maximum
    host counts etc
  - added get_time() to return time as DD/MM/YY HH:MM TZ
  - oper {}; shouldve been using match(), not strcmp()
  
  Revision  Changes    Path
  1.13      +14 -1     rserv/include/client.h
  1.12      +10 -0     rserv/include/config.h
  1.9       +1 -0      rserv/include/tools.h
  1.16      +57 -0     rserv/src/client.c
  1.14      +4 -4      rserv/src/conf.c
  1.4       +14 -2     rserv/src/s_hoststat.c
  1.6       +14 -0     rserv/src/tools.c



leeh        2004/01/15 09:01:16 EST	(20040115_0)

  Modified files:
    doc                  example.conf 
    include              channel.h 
    src                  channel.c s_alis.c 
  Log:
  - add operbot {}; to example.conf
  - add chmode_to_string_simple() for alis
  
  Revision  Changes    Path
  1.6       +9 -0      rserv/doc/example.conf
  1.8       +1 -0      rserv/include/channel.h
  1.18      +39 -0     rserv/src/channel.c
  1.17      +2 -2      rserv/src/s_alis.c



leeh        2004/01/14 15:59:31 EST	(20040114_0)

  Modified files:
    doc                  example.conf 
    include              config.h newconf.h 
    src                  channel.c newconf.c rserv.c s_alis.c 
                         s_hoststat.c s_operbot.c 
  Log:
  - added service {}; block to conf, to specify a servers n!u@h and gecos
  - added defines for the three services
  - implemented part_service()
  - add operbot {}; block to control which channels operbot joins
  - remove .objoin/.obpart from operbot, theyre not gunna be used
  
  Revision  Changes    Path
  1.5       +18 -0     rserv/doc/example.conf
  1.11      +17 -1     rserv/include/config.h
  1.2       +1 -1      rserv/include/newconf.h
  1.17      +5 -0      rserv/src/channel.c
  1.3       +78 -1     rserv/src/newconf.c
  1.19      +6 -0      rserv/src/rserv.c
  1.16      +4 -0      rserv/src/s_alis.c
  1.3       +4 -0      rserv/src/s_hoststat.c
  1.2       +16 -15    rserv/src/s_operbot.c



leeh        2004/01/13 14:44:16 EST	(20040113_0)

  Modified files:
    include              channel.h 
    src                  c_mode.c cache.c channel.c client.c 
                         tools.c 
  Log:
  - make services rejoining just issue an SJOIN with the client opped
  - added memset()'s where we BlockHeapAlloc()
  - fixed the hosthash
  - made dlink_add() set m->prev = NULL
  
  Revision  Changes    Path
  1.7       +1 -2      rserv/include/channel.h
  1.12      +1 -1      rserv/src/c_mode.c
  1.2       +3 -1      rserv/src/cache.c
  1.16      +4 -6      rserv/src/channel.c
  1.15      +14 -0     rserv/src/client.c
  1.5       +1 -0      rserv/src/tools.c



leeh        2004/01/12 18:40:07 EST	(20040112_0)

  Modified files:
    include              c_init.h channel.h client.h io.h 
    src                  Makefile.in c_mode.c channel.c io.c 
                         rserv.c scommand.c service.c 
  Added files:
    src                  s_operbot.c 
  Log:
  - added an operbot service
  - added storage/functions for services on channels
  - dont introduce services until after EOB
  - made chmode_to_string() give key/limit
  
  Revision  Changes    Path
  1.12      +3 -0      rserv/include/c_init.h
  1.6       +7 -0      rserv/include/channel.h
  1.12      +2 -0      rserv/include/client.h
  1.10      +2 -0      rserv/include/io.h
  1.14      +1 -0      rserv/src/Makefile.in
  1.11      +10 -0     rserv/src/c_mode.c
  1.15      +86 -7     rserv/src/channel.c
  1.19      +0 -2      rserv/src/io.c
  1.18      +1 -0      rserv/src/rserv.c
  1.1       +152 -0    rserv/src/s_operbot.c (new)
  1.14      +2 -0      rserv/src/scommand.c
  1.10      +13 -0     rserv/src/service.c



leeh        2004/01/10 20:27:18 EST	(20040111_2)

  Modified files:
    include              scommand.h stdinc.h 
    src                  c_error.c c_message.c c_mode.c channel.c 
                         client.c io.c scommand.c 
  Log:
  - make parv in the scommand handlers const, otherwise the hooks will have
    issues
  
  Revision  Changes    Path
  1.4       +2 -2      rserv/include/scommand.h
  1.8       +10 -0     rserv/include/stdinc.h
  1.5       +2 -2      rserv/src/c_error.c
  1.13      +13 -7     rserv/src/c_message.c
  1.10      +3 -3      rserv/src/c_mode.c
  1.14      +17 -14    rserv/src/channel.c
  1.14      +10 -10    rserv/src/client.c
  1.18      +1 -1      rserv/src/io.c
  1.13      +17 -17    rserv/src/scommand.c



leeh        2004/01/10 20:12:13 EST	(20040111_1)

  Modified files:
    include              scommand.h tools.h 
    src                  c_error.c c_message.c c_mode.c channel.c 
                         client.c scommand.c 
  Log:
  - fix a core in the hosthash
  - added hooks for scommands
  
  Revision  Changes    Path
  1.3       +7 -1      rserv/include/scommand.h
  1.8       +2 -0      rserv/include/tools.h
  1.4       +1 -1      rserv/src/c_error.c
  1.12      +1 -1      rserv/src/c_message.c
  1.9       +1 -1      rserv/src/c_mode.c
  1.13      +6 -6      rserv/src/channel.c
  1.13      +10 -6     rserv/src/client.c
  1.12      +56 -7     rserv/src/scommand.c



leeh        2004/01/10 19:22:26 EST	(20040111_0)

  Modified files:
    doc                  example.conf 
    include              conf.h 
    src                  c_message.c conf.c newconf.c s_hoststat.c 
  Log:
  - added TESTMASK to hoststat, returning how many clients match the
    given user@host
  - added "dcc" priv to oper {};, controlling whether they can dcc in or not
  
  Revision  Changes    Path
  1.4       +4 -1      rserv/doc/example.conf
  1.7       +3 -1      rserv/include/conf.h
  1.11      +8 -1      rserv/src/c_message.c
  1.13      +4 -4      rserv/src/conf.c
  1.2       +15 -1     rserv/src/newconf.c
  1.2       +37 -0     rserv/src/s_hoststat.c



leeh        2004/01/10 13:32:04 EST	(20040110_0)

  Modified files:
    .                    configure 
    autoconf             configure.in 
    doc                  example.conf 
    include              c_init.h channel.h client.h conf.h 
                         config.h io.h service.h tools.h 
    src                  Makefile.in c_message.c c_mode.c client.c 
                         conf.c io.c rserv.c s_alis.c scommand.c 
                         service.c tools.c u_stats.c ucommand.c 
  Added files:
    include              newconf.h 
    src                  lexer.l newconf.c parser.y s_hoststat.c 
  Log:
  - ported the config parser from ircd-ratbox
  - rewrote example.conf
  - add flags to conf_oper, so encryption of password is optional per oper {};
  - change the service notice handlers to use already split parv/parc
  - fix ALIS to handle the parv/parc properly
  - add a hostname hash table and user@host list as a dlink off host hash
  - add a basic hoststat service with CLONES/HOST
  - make autoconn a config option
  - mode +beI parser
  - moved RECONNECT_DELAY and PING_TIME to the config
  - added /ctcp service chat handler to listen to a port for them to dcc in
  - add dcc_vhost config option, controlling vhost for inbound/outbound dccs
  - add dcc_{low|high}_port config option, controlling port range to listen on
  - moved some stuff out of sock_open() into new sock_create()
  - added set_default_conf() and validate_conf()
  
  Revision  Changes    Path
  1.7       +2 -0      rserv/autoconf/configure.in
  1.7       +162 -46   rserv/configure
  1.3       +77 -109   rserv/doc/example.conf
  1.11      +3 -0      rserv/include/c_init.h
  1.5       +3 -0      rserv/include/channel.h
  1.11      +22 -0     rserv/include/client.h
  1.6       +27 -6     rserv/include/conf.h
  1.10      +0 -19     rserv/include/config.h
  1.9       +30 -5     rserv/include/io.h
  1.1       +67 -0     rserv/include/newconf.h (new)
  1.7       +1 -1      rserv/include/service.h
  1.7       +2 -0      rserv/include/tools.h
  1.13      +21 -4     rserv/src/Makefile.in
  1.10      +37 -27    rserv/src/c_message.c
  1.8       +58 -0     rserv/src/c_mode.c
  1.12      +131 -0    rserv/src/client.c
  1.12      +57 -291   rserv/src/conf.c
  1.17      +330 -201  rserv/src/io.c
  1.1       +265 -0    rserv/src/lexer.l (new)
  1.1       +628 -0    rserv/src/newconf.c (new)
  1.1       +306 -0    rserv/src/parser.y (new)
  1.17      +4 -1      rserv/src/rserv.c
  1.15      +31 -59    rserv/src/s_alis.c
  1.1       +156 -0    rserv/src/s_hoststat.c (new)
  1.11      +2 -2      rserv/src/scommand.c
  1.9       +47 -1     rserv/src/service.c
  1.4       +32 -0     rserv/src/tools.c
  1.6       +1 -1      rserv/src/u_stats.c
  1.10      +6 -8      rserv/src/ucommand.c



leeh        2004/01/08 08:26:43 EST	(20040108_2)

  Modified files:
    src                  Makefile.in 
  Log:
  - add an empty install target
  
  Revision  Changes    Path
  1.12      +2 -0      rserv/src/Makefile.in



leeh        2004/01/08 07:54:01 EST	(20040108_1)

  Modified files:
    include              stdinc.h 
    src                  service.c ucommand.c 
  Log:
  - s/MAXPATHLEN/PATH_MAX
  - linux needs <limits.h>
  
  Revision  Changes    Path
  1.7       +1 -0      rserv/include/stdinc.h
  1.8       +1 -1      rserv/src/service.c
  1.9       +1 -1      rserv/src/ucommand.c



leeh        2004/01/08 07:45:48 EST	(20040108_0)

  Added files:
    help                 Makefile.in 
  Log:
  - actually add the help Makefile.in
  
  Revision  Changes    Path
  1.1       +36 -0     rserv/help/Makefile.in (new)



leeh        2004/01/07 18:19:03 EST	(20040107_0)

  Modified files:
    include              config.h 
  Log:
  - revved patchlevel to rc1
  
  Revision  Changes    Path
  1.9       +1 -1      rserv/include/config.h



leeh        2004/01/04 06:35:07 EST	(20040104_0)

  Modified files:
    .                    Makefile.in configure 
    autoconf             configure.in 
  Log:
  - install help files on make install
  
  Revision  Changes    Path
  1.4       +7 -1      rserv/Makefile.in
  1.6       +1 -0      rserv/autoconf/configure.in
  1.6       +2 -0      rserv/configure



leeh        2004/01/03 15:02:57 EST	(20040103_3)

  Modified files:
    .                    LICENSE 
    doc                  example.conf 
    include              balloc.h c_init.h client.h config.h 
                         service.h stdinc.h tools.h ucommand.h 
    src                  .depend Makefile.in balloc.c c_error.c 
                         c_message.c c_mode.c channel.c client.c 
                         conf.c event.c fileio.c io.c log.c 
                         match.c rserv.c s_alis.c scommand.c 
                         service.c tools.c u_stats.c ucommand.c 
  Added files:
    help/alis            list 
    help/main            u-connect u-die u-events u-flags u-quit 
                         u-service u-stats u-status 
    include              cache.h 
    src                  cache.c 
  Removed files:
    src                  u_flags.c u_help.c 
  Log:
  - put *.c under a standard header
  - ported my cache.{c|h} from ircd-ratbox
  - moved the help stuff into files
  - init_blockheap() -> init_balloc() for consistency
  - services can now link in ucommand_handlers in their struct
  - restored statistics for services
  - u_flags.c,u_help.c -> ucommand.c
  - added some comments here and there
  - show_channel() -> print_channel(), added show_channel() to determine whether
    to display a channel or not (ALIS)
  
  Revision  Changes    Path
  1.3       +3 -2      rserv/LICENSE
  1.2       +2 -1      rserv/doc/example.conf
  1.1       +9 -0      rserv/help/alis/list (new)
  1.1       +2 -0      rserv/help/main/u-connect (new)
  1.1       +2 -0      rserv/help/main/u-die (new)
  1.1       +2 -0      rserv/help/main/u-events (new)
  1.1       +5 -0      rserv/help/main/u-flags (new)
  1.1       +2 -0      rserv/help/main/u-quit (new)
  1.1       +3 -0      rserv/help/main/u-service (new)
  1.1       +7 -0      rserv/help/main/u-stats (new)
  1.1       +2 -0      rserv/help/main/u-status (new)
  1.3       +4 -3      rserv/include/balloc.h
  1.10      +0 -6      rserv/include/c_init.h
  1.1       +31 -0     rserv/include/cache.h (new)
  1.10      +8 -0      rserv/include/client.h
  1.8       +4 -11     rserv/include/config.h
  1.6       +9 -5      rserv/include/service.h
  1.6       +1 -0      rserv/include/stdinc.h
  1.6       +2 -0      rserv/include/tools.h
  1.4       +8 -1      rserv/include/ucommand.h
  1.2       +18 -12    rserv/src/.depend
  1.11      +1 -2      rserv/src/Makefile.in
  1.3       +39 -41    rserv/src/balloc.c
  1.3       +4 -3      rserv/src/c_error.c
  1.9       +4 -3      rserv/src/c_message.c
  1.7       +5 -5      rserv/src/c_mode.c
  1.1       +121 -0    rserv/src/cache.c (new)
  1.12      +10 -5     rserv/src/channel.c
  1.11      +114 -10   rserv/src/client.c
  1.11      +4 -3      rserv/src/conf.c
  1.4       +5 -4      rserv/src/event.c
  1.2       +6 -5      rserv/src/fileio.c
  1.16      +94 -24    rserv/src/io.c
  1.4       +4 -3      rserv/src/log.c
  1.2       +5 -4      rserv/src/match.c
  1.16      +10 -7     rserv/src/rserv.c
  1.14      +66 -93    rserv/src/s_alis.c
  1.10      +5 -4      rserv/src/scommand.c
  1.7       +129 -11   rserv/src/service.c
  1.3       +48 -7     rserv/src/tools.c
  1.2       +0 -88     rserv/src/u_flags.c (dead)
  1.4       +0 -154    rserv/src/u_help.c (dead)
  1.5       +9 -2      rserv/src/u_stats.c
  1.8       +217 -30   rserv/src/ucommand.c



leeh        2004/01/03 15:01:02 EST	(20040103_2)

  rserv/help/main - New directory



leeh        2004/01/03 15:00:53 EST	(20040103_1)

  rserv/help/alis - New directory



leeh        2004/01/03 15:00:47 EST	(20040103_0)

  rserv/help - New directory



leeh        2004/01/02 17:59:45 EST	(20040102_1)

  Modified files:
    include              client.h service.h 
    src                  Makefile.in c_message.c s_alis.c 
                         service.c 
  Log:
  - reworked all the service handlers, now the error stuff is generic,
    as is help and the commands..
  
  Revision  Changes    Path
  1.9       +8 -2      rserv/include/client.h
  1.5       +27 -1     rserv/include/service.h
  1.10      +1 -1      rserv/src/Makefile.in
  1.8       +4 -3      rserv/src/c_message.c
  1.13      +141 -267  rserv/src/s_alis.c
  1.6       +123 -4    rserv/src/service.c



leeh        2004/01/02 17:04:11 EST	(20040102_0)

  Modified files:
    src                  client.c 
  Log:
  - patch from hwy to fix an invalid pointer reference
  
  Revision  Changes    Path
  1.10      +1 -1      rserv/src/client.c



leeh        2004/01/01 13:17:46 EST	(20040101_0)

  Modified files:
    include              balloc.h stdinc.h tools.h 
    src                  balloc.c channel.c client.c rserv.c 
  Log:
  - added init_blockheap() to main()
  - ported s_assert() from ircd-ratbox
  - reenabled s_assert() calls in balloc.c, added a couple in client.c
  - I forgot to change some (read: any) my_free() to BlockHeapFree() :P
  - dont fork under cygwin, dont check pidfile if not forking
  
  Revision  Changes    Path
  1.2       +1 -3      rserv/include/balloc.h
  1.5       +2 -0      rserv/include/stdinc.h
  1.5       +24 -0     rserv/include/tools.h
  1.2       +8 -7      rserv/src/balloc.c
  1.11      +2 -2      rserv/src/channel.c
  1.9       +27 -28    rserv/src/client.c
  1.15      +11 -3     rserv/src/rserv.c



leeh        2003/12/30 16:55:18 EST	(20031230_1)

  Added files:
    include              balloc.h 
    src                  balloc.c 
  Log:
  - added balloc.c/h
  
  Revision  Changes    Path
  1.1       +77 -0     rserv/include/balloc.h (new)
  1.1       +542 -0    rserv/src/balloc.c (new)



leeh        2003/12/30 16:53:04 EST	(20031230_0)

  Modified files:
    .                    configure 
    autoconf             configure.in 
    include              config.h io.h setup.h.in 
    src                  Makefile.in channel.c client.c io.c 
                         rserv.c scommand.c 
  Log:
  - ported the balloc from ircd-ratbox
  - added CONN_HANDSHAKE, for servers who have connected sockets, but havent
    authed yet
  - changed the connect notices, so we gve "established" on a sockets
    connection and "completed" when we receive a PONG
  - added a check that the servername equals the one in the C:
  - added a handler for PONG
  
  Revision  Changes    Path
  1.5       +1 -1      rserv/autoconf/configure.in
  1.5       +1 -1      rserv/configure
  1.7       +26 -1     rserv/include/config.h
  1.8       +5 -2      rserv/include/io.h
  1.4       +3 -0      rserv/include/setup.h.in
  1.9       +1 -0      rserv/src/Makefile.in
  1.10      +9 -2      rserv/src/channel.c
  1.8       +30 -5     rserv/src/client.c
  1.15      +21 -3     rserv/src/io.c
  1.14      +1 -1      rserv/src/rserv.c
  1.9       +33 -4     rserv/src/scommand.c



leeh        2003/12/26 16:45:24 EST	(20031226_8)

  Modified files:
    src                  Makefile.in 
  Added files:
    src                  .depend 
  Log:
  - add a .depend file
  - add u_flags.c to Makefile
  
  Revision  Changes    Path
  1.1       +73 -0     rserv/src/.depend (new)
  1.8       +1 -0      rserv/src/Makefile.in



leeh        2003/12/26 16:43:14 EST	(20031226_7)

  Modified files:
    .                    Makefile.in configure 
    autoconf             configure.in 
    include              c_init.h config.h io.h log.h setup.h.in 
    src                  Makefile.in c_error.c event.c io.c log.c 
                         rserv.c s_alis.c u_help.c u_stats.c 
                         ucommand.c 
  Added files:
    doc                  example.conf 
    src                  u_flags.c 
  Log:
  - added configure/Makefile stuff for linking in libs
  - check for crypt()
  - added CRYPT_PASSWORDS, controls whether crypted passwords are used
  - added an example config file
  - added .flags, controlling which messages clients get
  - implemented a 'partyline'
  - sendto_connection() -> sendto_one()
  - sendto_connections() -> sendto_all()
  - added sendto_all_butone()
  - removed slog_send(), added sendto_all() function calls
  
  Revision  Changes    Path
  1.3       +2 -0      rserv/Makefile.in
  1.4       +3 -1      rserv/autoconf/configure.in
  1.4       +126 -30   rserv/configure
  1.1       +114 -0    rserv/doc/example.conf (new)
  1.9       +4 -1      rserv/include/c_init.h
  1.6       +5 -0      rserv/include/config.h
  1.7       +17 -6     rserv/include/io.h
  1.4       +0 -1      rserv/include/log.h
  1.3       +7 -1      rserv/include/setup.h.in
  1.7       +4 -3      rserv/src/Makefile.in
  1.2       +4 -2      rserv/src/c_error.c
  1.3       +4 -4      rserv/src/event.c
  1.14      +128 -30   rserv/src/io.c
  1.3       +0 -14     rserv/src/log.c
  1.13      +1 -0      rserv/src/rserv.c
  1.12      +10 -11    rserv/src/s_alis.c
  1.1       +88 -0     rserv/src/u_flags.c (new)
  1.3       +20 -12    rserv/src/u_help.c
  1.4       +17 -19    rserv/src/u_stats.c
  1.7       +52 -44    rserv/src/ucommand.c



leeh        2003/12/26 16:42:14 EST	(20031226_6)

  rserv/doc - New directory



leeh        2003/12/26 16:41:00 EST	(20031226_5)

  Modified files:
    .                    LICENSE Makefile.in configure 
    autoconf             configure.in 
    include              config.h 
    src                  Makefile.in conf.c 
  Added files:
    .                    INSTALL 
  Removed files:
    .                    ASSUMPTIONS 
  Log:
  - added a CREDITS file
  - added an INSTALL file
  - added make install, and support for --prefix on configure
  - die() when we cant open the conf file
  - remove old unused ASSUMPTIONS file
  
  Revision  Changes    Path
  1.3       +0 -3      rserv/ASSUMPTIONS (dead)
  1.1       +21 -0     rserv/INSTALL (new)
  1.2       +3 -0      rserv/LICENSE
  1.2       +8 -0      rserv/Makefile.in
  1.3       +1 -0      rserv/autoconf/configure.in
  1.3       +128 -32   rserv/configure
  1.5       +27 -1     rserv/include/config.h
  1.6       +8 -6      rserv/src/Makefile.in
  1.10      +4 -1      rserv/src/conf.c



leeh        2003/12/26 16:39:48 EST	(20031226_4)

  Modified files:
    include              channel.h config.h io.h tools.h 
                         ucommand.h 
    src                  Makefile.in c_message.c channel.c conf.c 
                         io.c s_alis.c scommand.c tools.c u_help.c 
                         u_stats.c ucommand.c 
  Log:
  - add PING_TIME, how often a server can be idle before we send a PING, double
    this with no data will cause a server to be exited
  - added get_sendq(), so the sendq bit in stats u/.stats uplink works
  - moved getfield() tools.c -> conf.c
  - moved get_duration() stats.c -> tools.c
  - stats.c is now u_stats.c, which only contains .stats
  - reworked .help, list_ucommand() is gone, now have extended help too
  - improved .status a bit to give channel/topic counts etc
  - reset the ALIS flood values to something sensible
  
  Revision  Changes    Path
  1.4       +2 -0      rserv/include/channel.h
  1.4       +2 -0      rserv/include/config.h
  1.6       +3 -0      rserv/include/io.h
  1.4       +2 -2      rserv/include/tools.h
  1.3       +0 -2      rserv/include/ucommand.h
  1.5       +1 -1      rserv/src/Makefile.in
  1.7       +0 -1      rserv/src/c_message.c
  1.9       +24 -0     rserv/src/channel.c
  1.9       +31 -0     rserv/src/conf.c
  1.13      +38 -0     rserv/src/io.c
  1.11      +2 -2      rserv/src/s_alis.c
  1.8       +2 -2      rserv/src/scommand.c
  1.2       +16 -25    rserv/src/tools.c
  1.2       +132 -3    rserv/src/u_help.c
  1.3       +5 -24     rserv/src/u_stats.c
  1.6       +12 -49    rserv/src/ucommand.c



leeh        2003/12/26 16:37:46 EST	(20031226_3)

  Modified files:
    include              c_init.h 
    src                  client.c rserv.c s_alis.c scommand.c 
                         stats.c ucommand.c 
  Log:
  - renamed .stats to .service, which now lists the services in use
  - added .stats command to get various statistics, uses a table of commands
    and functions, currently has:
      opers, servers, uplink, uptime
  - c_nick() wasnt setting a clients gecos
  - cleaned up alis stats a bit
  - added WHOIS command handling
  - finished TRACE command handling
  
  Revision  Changes    Path
  1.8       +3 -0      rserv/include/c_init.h
  1.7       +3 -1      rserv/src/client.c
  1.12      +1 -0      rserv/src/rserv.c
  1.10      +8 -6      rserv/src/s_alis.c
  1.7       +76 -1     rserv/src/scommand.c
  1.2       +99 -0     rserv/src/stats.c
  1.5       +27 -15    rserv/src/ucommand.c



leeh        2003/12/26 16:36:16 EST	(20031226_2)

  Modified files:
    include              c_init.h event.h ucommand.h 
    src                  Makefile.in event.c rserv.c s_alis.c 
                         scommand.c ucommand.c 
  Added files:
    src                  stats.c u_help.c 
  Log:
  - added event_show() to list events to a given connection
  - added .events command to list events
  - get_duration() to convert seconds into string form of duration
  - added .help command, simply walks the ucommand hash listing commands
  - added alis stats
  - fix VERSION to not have release hardcoded
  - STATS fix so 'C' shows autoconn setting properly, and port
  - STATS u/v now use get_duration()
  - added .status command to get basic status information
  
  Revision  Changes    Path
  1.7       +3 -0      rserv/include/c_init.h
  1.3       +4 -0      rserv/include/event.h
  1.2       +2 -0      rserv/include/ucommand.h
  1.4       +2 -0      rserv/src/Makefile.in
  1.2       +18 -0     rserv/src/event.c
  1.11      +2 -0      rserv/src/rserv.c
  1.9       +40 -2     rserv/src/s_alis.c
  1.6       +16 -39    rserv/src/scommand.c
  1.1       +24 -0     rserv/src/stats.c (new)
  1.1       +17 -0     rserv/src/u_help.c (new)
  1.4       +78 -0     rserv/src/ucommand.c



leeh        2003/12/26 16:34:53 EST	(20031226_1)

  Modified files:
    include              c_init.h conf.h io.h 
    src                  Makefile.in conf.c io.c rserv.c 
                         ucommand.c 
  Added files:
    src                  c_error.c 
  Log:
  - add "ERROR" command handling
  - remove the hardcoding of server password, make it use the one in C:
  - only positive ports in a C: enable autoconn, negative ports are allowed
    as 'default' ports on .connect
  - fix the autoconn stuff, we now store when last connect was and use that to
    decide where to connect to
  - cleaned the notice in die() up
  - remove rserv.exe on clean, for cygwin
  
  Revision  Changes    Path
  1.6       +3 -1      rserv/include/c_init.h
  1.5       +2 -0      rserv/include/conf.h
  1.5       +1 -0      rserv/include/io.h
  1.3       +2 -1      rserv/src/Makefile.in
  1.1       +28 -0     rserv/src/c_error.c (new)
  1.8       +5 -5      rserv/src/conf.c
  1.12      +45 -16    rserv/src/io.c
  1.10      +5 -6      rserv/src/rserv.c
  1.3       +12 -9     rserv/src/ucommand.c



leeh        2003/12/26 16:33:57 EST	(20031226_0)

  Modified files:
    include              client.h conf.h io.h log.h service.h 
                         stdinc.h 
    src                  c_message.c conf.c io.c log.c rserv.c 
                         s_alis.c service.c ucommand.c 
  Log:
  in true blue peter style, here are some commits I prepared earlier..
  
  - removed receive passwords from C:, just have a single send password
  - added O: controlling who can DCC services, and requiring logins for
    commands
  - store username/host in connecting clients so we can auth against O:
  - added sendto_connections() to send to all users
  - added slog_send() to log and send to users
  - make a few logging things send to users too
  - added generic stats handlers for services
  - fix parser bug on commands with no params
  - added .login command
  - added .die command
  - added .stats command, to use the generic service stats handler
  - added .connect command, to connect to a specific server
  
  Revision  Changes    Path
  1.8       +4 -0      rserv/include/client.h
  1.4       +17 -2     rserv/include/conf.h
  1.4       +8 -1      rserv/include/io.h
  1.3       +1 -0      rserv/include/log.h
  1.4       +2 -0      rserv/include/service.h
  1.4       +1 -0      rserv/include/stdinc.h
  1.6       +2 -2      rserv/src/c_message.c
  1.7       +117 -9    rserv/src/conf.c
  1.11      +80 -40    rserv/src/io.c
  1.2       +15 -0     rserv/src/log.c
  1.9       +1 -1      rserv/src/rserv.c
  1.8       +9 -1      rserv/src/s_alis.c
  1.5       +1 -0      rserv/src/service.c
  1.2       +149 -1    rserv/src/ucommand.c



leeh        2003/12/18 19:29:58 EST	(20031219_0)

  Modified files:
    src                  c_message.c conf.c io.c 
  Log:
  - send errors to client on invalid dcc requests
  - made conf parser add connects to tail, so theyre tried in order of conf
  - kludged support for multiple servers, atm it takes the head element,
    tries it then moves it to the tail.
  
  Revision  Changes    Path
  1.5       +21 -0     rserv/src/c_message.c
  1.6       +1 -1      rserv/src/conf.c
  1.10      +11 -1     rserv/src/io.c



leeh        2003/12/18 15:39:38 EST	(20031218_3)

  Modified files:
    include              client.h io.h scommand.h 
    src                  Makefile.in c_message.c c_mode.c 
                         channel.c client.c io.c rserv.c 
                         scommand.c service.c 
  Added files:
    include              ucommand.h 
    src                  ucommand.c 
  Log:
  - added support for dcc connections, currently allows anyone opered to
    dcc until I put in some ACLs
  - added user command framework
  - command.{c|h} was renamed to scommand.{c|h}, fix Makefile/includes
  
  Revision  Changes    Path
  1.7       +3 -3      rserv/include/client.h
  1.3       +5 -1      rserv/include/io.h
  1.2       +5 -4      rserv/include/scommand.h
  1.1       +21 -0     rserv/include/ucommand.h (new)
  1.2       +3 -2      rserv/src/Makefile.in
  1.4       +47 -1     rserv/src/c_message.c
  1.6       +1 -1      rserv/src/c_mode.c
  1.8       +1 -1      rserv/src/channel.c
  1.6       +1 -1      rserv/src/client.c
  1.9       +215 -19   rserv/src/io.c
  1.8       +4 -2      rserv/src/rserv.c
  1.5       +7 -7      rserv/src/scommand.c
  1.4       +1 -1      rserv/src/service.c
  1.1       +76 -0     rserv/src/ucommand.c (new)



leeh        2003/12/18 13:03:04 EST	(20031218_2)

  Modified files:
    src                  io.c 
  Log:
  - fix so when we connect() somewhere, we test we can write to it, not read
    to it
  - make signon_to_server() a write function, which checks for the connect()
    having gone wrong.
  
  Revision  Changes    Path
  1.8       +22 -7     rserv/src/io.c



leeh        2003/12/18 09:08:02 EST	(20031218_1)

  Modified files:
    src                  io.c 
  Log:
  - added timeouts for places we connect to
  - fix a core when trying to send to a dead server
  
  Revision  Changes    Path
  1.7       +14 -2     rserv/src/io.c



leeh        2003/12/18 08:25:35 EST	(20031218_0)

  Modified files:
    src                  io.c 
  Log:
  - added logging for connections/disconnections from the server
  - added ignore_errno() so the proper read()/write() errors are ignored
  
  Revision  Changes    Path
  1.6       +83 -15    rserv/src/io.c



leeh        2003/12/17 17:27:07 EST	(20031217_0)

  Modified files:
    src                  client.c rserv.c 
  Log:
  - add in some services fight checking
  - fix to show right pid after the fork()
  
  Revision  Changes    Path
  1.5       +21 -0     rserv/src/client.c
  1.7       +6 -2      rserv/src/rserv.c



leeh        2003/12/15 15:43:46 EST	(20031215_0)

  Modified files:
    include              c_init.h client.h service.h 
    src                  c_message.c c_mode.c channel.c conf.c 
                         rserv.c s_alis.c service.c 
  Log:
  - implemented service flood protection for ALIS.  allow upto 40 points,
    "help" = 1, "help list" = 2, "list" = 3, 5 points removed per second
  - added some comments to c_mode.c/channel.c
  - check service name doesnt contain a '.'
  - ALIS cleanups:
    - added a struct query to hold the query variables
    - made printing a channel its own function
    - made parsing the options its own function
  
  Revision  Changes    Path
  1.5       +1 -1      rserv/include/c_init.h
  1.6       +2 -0      rserv/include/client.h
  1.3       +2 -1      rserv/include/service.h
  1.3       +1 -1      rserv/src/c_message.c
  1.5       +12 -0     rserv/src/c_mode.c
  1.7       +81 -1     rserv/src/channel.c
  1.5       +6 -0      rserv/src/conf.c
  1.6       +4 -2      rserv/src/rserv.c
  1.7       +239 -201  rserv/src/s_alis.c
  1.3       +28 -5     rserv/src/service.c



leeh        2003/12/13 11:13:10 EST	(20031213_0)

  Modified files:
    .                    configure 
    autoconf             configure.in 
    include              client.h config.h rserv.h service.h 
                         setup.h.in 
    src                  c_mode.c channel.c client.c conf.c io.c 
                         rserv.c s_alis.c service.c 
  Log:
  - added -f [foreground] -v [version] -h [help] options to the daemon, with
    some getopt() stuff.
  - added setup_corefile()
  - added stuff for reading/writing pids to check we're not already running
  - move parse_server() rserv.c -> io.c, and clean up io.c
  - remove some debugging log stuff
  - added conf options to define a service's nick/user/host/gecos/opered
    status
  
  Revision  Changes    Path
  1.2       +1 -1      rserv/autoconf/configure.in
  1.2       +1 -1      rserv/configure
  1.5       +3 -0      rserv/include/client.h
  1.3       +6 -2      rserv/include/config.h
  1.3       +1 -3      rserv/include/rserv.h
  1.2       +4 -0      rserv/include/service.h
  1.2       +3 -0      rserv/include/setup.h.in
  1.4       +0 -50     rserv/src/c_mode.c
  1.6       +0 -6      rserv/src/channel.c
  1.4       +3 -8      rserv/src/client.c
  1.4       +68 -1     rserv/src/conf.c
  1.5       +216 -56   rserv/src/io.c
  1.5       +110 -115  rserv/src/rserv.c
  1.6       +1 -1      rserv/src/s_alis.c
  1.2       +21 -2     rserv/src/service.c



leeh        2003/12/12 17:44:45 EST	(20031212_1)

  Modified files:
    include              conf.h stdinc.h tools.h 
    src                  conf.c io.c 
  Added files:
    .                    Makefile.in configure 
    autoconf             configure.in install-sh 
    include              setup.h.in 
    src                  Makefile.in 
  Removed files:
    src                  Makefile 
  Log:
  - added autoconf stuff
  - made includes and functions use configure output
  - added support for vhosting
  
  Revision  Changes    Path
  1.1       +45 -0     rserv/Makefile.in (new)
  1.1       +27 -0     rserv/autoconf/configure.in (new)
  1.1       +253 -0    rserv/autoconf/install-sh (new)
  1.1       +1752 -0   rserv/configure (new)
  1.3       +2 -0      rserv/include/conf.h
  1.1       +43 -0     rserv/include/setup.h.in (new)
  1.3       +25 -1     rserv/include/stdinc.h
  1.3       +2 -0      rserv/include/tools.h
  1.3       +0 -60     rserv/src/Makefile (dead)
  1.1       +51 -0     rserv/src/Makefile.in (new)
  1.3       +13 -5     rserv/src/conf.c
  1.4       +5 -1      rserv/src/io.c



leeh        2003/12/12 17:38:44 EST	(20031212_0)

  rserv/autoconf - New directory



leeh        2003/12/11 10:05:56 EST	(20031211_2)

  Modified files:
    src                  command.c rserv.c s_alis.c 
  Log:
  - implemented ALIS -skip to skip first n matches
  - implemented ALIS -topic to search for topics
  
  Revision  Changes    Path
  1.4       +1 -1      rserv/src/command.c
  1.4       +1 -2      rserv/src/rserv.c
  1.5       +69 -3     rserv/src/s_alis.c



leeh        2003/12/11 09:13:46 EST	(20031211_1)

  Modified files:
    src                  channel.c io.c s_alis.c 
  Log:
  - implemented support for topic bursting
  - implemented -show [m][t] into ALIS
  
  Revision  Changes    Path
  1.5       +32 -0     rserv/src/channel.c
  1.3       +1 -1      rserv/src/io.c
  1.4       +52 -3     rserv/src/s_alis.c



leeh        2003/12/11 05:50:57 EST	(20031211_0)

  Modified files:
    include              channel.h client.h 
    src                  channel.c s_alis.c 
  Log:
  - added support for parsing TOPIC
  - added some error messages to alis..
  
  Revision  Changes    Path
  1.3       +4 -0      rserv/include/channel.h
  1.4       +2 -0      rserv/include/client.h
  1.4       +32 -0     rserv/src/channel.c
  1.3       +63 -3     rserv/src/s_alis.c



leeh        2003/12/10 10:31:27 EST	(20031210_0)

  Modified files:
    include              c_init.h 
    src                  c_message.c channel.c rserv.c s_alis.c 
  Log:
  - disable notice for now
  - more work on alis..
  
  Revision  Changes    Path
  1.4       +1 -1      rserv/include/c_init.h
  1.2       +1 -1      rserv/src/c_message.c
  1.3       +1 -0      rserv/src/channel.c
  1.3       +1 -1      rserv/src/rserv.c
  1.2       +281 -1    rserv/src/s_alis.c



leeh        2003/12/08 19:23:57 EST	(20031209_0)

  Modified files:
    include              c_init.h client.h 
    src                  Makefile c_mode.c client.c command.c io.c 
                         rserv.c 
  Added files:
    include              service.h 
    src                  c_message.c s_alis.c service.c 
  Log:
  - finished off the service handlers
  - added support for PRIVMSG/NOTICE, and tied it into service handlers
  - added framework for the alis service
  
  Revision  Changes    Path
  1.3       +7 -0      rserv/include/c_init.h
  1.3       +2 -1      rserv/include/client.h
  1.1       +22 -0     rserv/include/service.h (new)
  1.2       +4 -0      rserv/src/Makefile
  1.1       +55 -0     rserv/src/c_message.c (new)
  1.3       +1 -1      rserv/src/c_mode.c
  1.3       +14 -3     rserv/src/client.c
  1.3       +1 -1      rserv/src/command.c
  1.2       +3 -0      rserv/src/io.c
  1.2       +6 -0      rserv/src/rserv.c
  1.1       +24 -0     rserv/src/s_alis.c (new)
  1.1       +81 -0     rserv/src/service.c (new)



leeh        2003/12/08 18:02:02 EST	(20031208_3)

  Modified files:
    include              c_init.h channel.h client.h config.h 
                         event.h io.h log.h rserv.h stdinc.h 
                         tools.h 
    src                  c_mode.c channel.c client.c 
  Log:
  - added Id headers to include files
  - split channel modes into its own struct
  - parse a keyed sjoin properly
  - get_chmember() -> find_chmember()
  - added initial services storage
  - support for MODE on channels
  - support for KICK
  
  Revision  Changes    Path
  1.2       +1 -0      rserv/include/c_init.h
  1.2       +13 -5     rserv/include/channel.h
  1.2       +10 -0     rserv/include/client.h
  1.2       +1 -0      rserv/include/config.h
  1.2       +1 -0      rserv/include/event.h
  1.2       +1 -0      rserv/include/io.h
  1.2       +1 -0      rserv/include/log.h
  1.2       +6 -0      rserv/include/rserv.h
  1.2       +1 -0      rserv/include/stdinc.h
  1.2       +1 -0      rserv/include/tools.h
  1.2       +189 -0    rserv/src/c_mode.c
  1.2       +121 -59   rserv/src/channel.c
  1.2       +71 -8     rserv/src/client.c



leeh        2003/12/07 22:04:14 EST	(20031208_2)

  Added files:
    src                  .cvsignore 
  Log:
  - add a .cvsignore to hide stuff that should be there..
  
  Revision  Changes    Path
  1.1       +4 -0      rserv/src/.cvsignore (new)



leeh        2003/12/07 21:52:49 EST	(20031208_1)

  Modified files:
    include              conf.h 
    src                  command.c conf.c 
  Log:
  - added support for trace
  - added A:<admin1>:<admin2>:<admin3> to conf file parser
  - added support for admin
  
  Revision  Changes    Path
  1.2       +5 -0      rserv/include/conf.h
  1.2       +46 -3     rserv/src/command.c
  1.2       +21 -4     rserv/src/conf.c



leeh        2003/12/07 21:19:27 EST	(20031208_0)

  Added files:
    include              serno.h 
  Log:
  - add serno.h..
  
  Revision  Changes    Path
  1.1       +1 -0      rserv/include/serno.h (new)



leeh        2003/12/07 21:09:02 EST

  Added files:
    .                    ChangeLog 
  Log:
  - changelog test
  
  Revision  Changes    Path
  1.1       +0 -0      rserv/ChangeLog (new)



